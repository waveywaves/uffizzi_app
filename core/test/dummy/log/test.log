  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::SecretsControllerTest: test_#index_admin_gets_list_of_secrets
--------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user1@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (1.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 1"], ["last_name", "Name 2"], ["email", "user1@example.com"], ["password_digest", "$2a$04$bGOPh0lV3C7F27RW/XLdBeNM1q2gtCG/5EOo.7gOK2msVtJl/FzIe"], ["confirmation_token", "221bf51a85880424b3ae389c5910a70e"], ["state", "initial"], ["phone", "string_1"], ["created_at", "2022-03-18 15:15:37.250778"], ["updated_at", "2022-03-18 15:15:37.299155"], ["github", "string_2"], ["website", "string_3"], ["twitter", "string_4"], ["linkedin", "string_5"], ["devto", "string_6"], ["facebook", "string_7"], ["blog", "string_8"], ["bio", "string_9"], ["status", "string_10"], ["availability", "string_11"], ["primary_skills", "string_12"], ["learning", "string_13"], ["coding_for", "string_14"], ["education", "string_15"], ["title", "string_16"], ["work", "string_17"], ["primary_location", "string_18"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "friesen.blick-heller.net"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 3"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:37.250778"], ["updated_at", "2022-03-18 15:15:39.201729"], ["state", "active"], ["domain", "friesen.blick-heller.net"], ["owner_id", 568], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "56c66c2a93501b351cb44644f5bdea03"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user1@example.com"], ["token", "56c66c2a93501b351cb44644f5bdea03"], ["status", "pending"], ["created_at", "2022-03-18 15:15:39.327549"], ["updated_at", "2022-03-18 15:15:39.327549"], ["invited_by_id", 568], ["entityable_id", 393], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 568], ["account_id", 393], ["role", "admin"], ["created_at", "2022-03-18 15:15:39.339746"], ["updated_at", "2022-03-18 15:15:39.339746"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 393]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "56c66c2a93501b351cb44644f5bdea03"], ["id", 561], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:39.353229"], ["invitee_id", 568], ["id", 561]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 568], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user2@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 4"], ["last_name", "Name 5"], ["email", "user2@example.com"], ["password_digest", "$2a$04$M1Jy8rADNlgNiYRDDbY3Uu1ijISOW37KhYFA4HvZvACFovGDQoA7C"], ["confirmation_token", "1e0ea0de6944d278d947d218811d416f"], ["state", "initial"], ["phone", "string_19"], ["created_at", "2022-03-18 15:15:39.413544"], ["updated_at", "2022-03-18 15:15:39.418304"], ["github", "string_20"], ["website", "string_21"], ["twitter", "string_22"], ["linkedin", "string_23"], ["devto", "string_24"], ["facebook", "string_25"], ["blog", "string_26"], ["bio", "string_27"], ["status", "string_28"], ["availability", "string_29"], ["primary_skills", "string_30"], ["learning", "string_31"], ["coding_for", "string_32"], ["education", "string_33"], ["title", "string_34"], ["work", "string_35"], ["primary_location", "string_36"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 568], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "d12bee0193f2149f49810d7e65901fdf"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user3@example.com"], ["token", "d12bee0193f2149f49810d7e65901fdf"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:39.428966"], ["updated_at", "2022-03-18 15:15:39.428966"], ["invited_by_id", 568], ["entityable_id", 393], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 569]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 569], ["account_id", 393], ["role", "developer"], ["created_at", "2022-03-18 15:15:39.433076"], ["updated_at", "2022-03-18 15:15:39.433076"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user4@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 6"], ["last_name", "Name 7"], ["email", "user4@example.com"], ["password_digest", "$2a$04$Kenn1cOo6SesaNMhtPKRV.WNgOgDgPHVF/H.Oe2QlyE9iijvGdaTe"], ["confirmation_token", "96a0d8d8a8f3308c55a77d74dce81577"], ["state", "initial"], ["phone", "string_37"], ["created_at", "2022-03-18 15:15:39.438038"], ["updated_at", "2022-03-18 15:15:39.442311"], ["github", "string_38"], ["website", "string_39"], ["twitter", "string_40"], ["linkedin", "string_41"], ["devto", "string_42"], ["facebook", "string_43"], ["blog", "string_44"], ["bio", "string_45"], ["status", "string_46"], ["availability", "string_47"], ["primary_skills", "string_48"], ["learning", "string_49"], ["coding_for", "string_50"], ["education", "string_51"], ["title", "string_52"], ["work", "string_53"], ["primary_location", "string_54"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "74d61cd113afb6ea6cd81170f72f899e"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user5@example.com"], ["token", "74d61cd113afb6ea6cd81170f72f899e"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:39.449404"], ["updated_at", "2022-03-18 15:15:39.449404"], ["invited_by_id", 568], ["entityable_id", 393], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 570]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 570], ["account_id", 393], ["role", "viewer"], ["created_at", "2022-03-18 15:15:39.453577"], ["updated_at", "2022-03-18 15:15:39.453577"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 8"], ["account_id", 393], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description", "secrets") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 8"], ["created_at", "2022-03-18 15:15:39.470216"], ["updated_at", "2022-03-18 15:15:39.470216"], ["account_id", 393], ["state", "active"], ["slug", "slug_1"], ["description", "Name 9"], ["secrets", "[{\"name\":\"string_55\",\"value\":\"string_56\"}]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 393], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 568], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.8ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 568], ["project_id", 372], ["role", "admin"], ["created_at", "2022-03-18 15:15:39.486500"], ["updated_at", "2022-03-18 15:15:39.486500"], ["invited_by_id", 568]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 393], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 569], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 569], ["project_id", 372], ["role", "developer"], ["created_at", "2022-03-18 15:15:39.494591"], ["updated_at", "2022-03-18 15:15:39.494591"], ["invited_by_id", 568]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 393], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 570], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 570], ["project_id", 372], ["role", "viewer"], ["created_at", "2022-03-18 15:15:39.501552"], ["updated_at", "2022-03-18 15:15:39.501552"], ["invited_by_id", 568]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::SecretsController#index as JSON
  Parameters: {"project_slug"=>"slug_1"}
  [1m[36mUffizziCore::User Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 568], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 568], ["slug", "slug_1"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 200 OK in 79ms (Views: 18.5ms | ActiveRecord: 1.1ms | Allocations: 3636)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::SecretsControllerTest: test_#bulk_create_check_update_secret_in_a_compose
--------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user6@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 10"], ["last_name", "Name 11"], ["email", "user6@example.com"], ["password_digest", "$2a$04$GXUnK9SMFCfLP6A6K7zPA.fY.q5x3yFkU4M1XV8IZGmlSvZHjtHyG"], ["confirmation_token", "6148e82bcd7349956e2c7df2c542098c"], ["state", "initial"], ["phone", "string_57"], ["created_at", "2022-03-18 15:15:39.742896"], ["updated_at", "2022-03-18 15:15:39.748084"], ["github", "string_58"], ["website", "string_59"], ["twitter", "string_60"], ["linkedin", "string_61"], ["devto", "string_62"], ["facebook", "string_63"], ["blog", "string_64"], ["bio", "string_65"], ["status", "string_66"], ["availability", "string_67"], ["primary_skills", "string_68"], ["learning", "string_69"], ["coding_for", "string_70"], ["education", "string_71"], ["title", "string_72"], ["work", "string_73"], ["primary_location", "string_74"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "larkin.casper-block.org"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 12"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:39.742896"], ["updated_at", "2022-03-18 15:15:39.756926"], ["state", "active"], ["domain", "larkin.casper-block.org"], ["owner_id", 571], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "a8334ebd0293824c0563ae9f38f8760f"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user6@example.com"], ["token", "a8334ebd0293824c0563ae9f38f8760f"], ["status", "pending"], ["created_at", "2022-03-18 15:15:39.764612"], ["updated_at", "2022-03-18 15:15:39.764612"], ["invited_by_id", 571], ["entityable_id", 394], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 571], ["account_id", 394], ["role", "admin"], ["created_at", "2022-03-18 15:15:39.768216"], ["updated_at", "2022-03-18 15:15:39.768216"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 394]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "a8334ebd0293824c0563ae9f38f8760f"], ["id", 564], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:39.778423"], ["invitee_id", 571], ["id", 564]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 571], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user7@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 13"], ["last_name", "Name 14"], ["email", "user7@example.com"], ["password_digest", "$2a$04$JMz8QF2vdzUb7ftVRyh.pOE/o9chV6U8OMNgHDbckpTJK57BXRqQi"], ["confirmation_token", "b183d51d532c216663f68605fe6dfcba"], ["state", "initial"], ["phone", "string_75"], ["created_at", "2022-03-18 15:15:39.786811"], ["updated_at", "2022-03-18 15:15:39.793239"], ["github", "string_76"], ["website", "string_77"], ["twitter", "string_78"], ["linkedin", "string_79"], ["devto", "string_80"], ["facebook", "string_81"], ["blog", "string_82"], ["bio", "string_83"], ["status", "string_84"], ["availability", "string_85"], ["primary_skills", "string_86"], ["learning", "string_87"], ["coding_for", "string_88"], ["education", "string_89"], ["title", "string_90"], ["work", "string_91"], ["primary_location", "string_92"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 571], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "fa3791ca2e78651e26139b89a6cfb954"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user8@example.com"], ["token", "fa3791ca2e78651e26139b89a6cfb954"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:39.808404"], ["updated_at", "2022-03-18 15:15:39.808404"], ["invited_by_id", 571], ["entityable_id", 394], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 572]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 572], ["account_id", 394], ["role", "developer"], ["created_at", "2022-03-18 15:15:39.813902"], ["updated_at", "2022-03-18 15:15:39.813902"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user9@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 15"], ["last_name", "Name 16"], ["email", "user9@example.com"], ["password_digest", "$2a$04$j7S42ugcDQwwawXNtAqw0uSVRjSEvq.wrRHbBhkejUmiEimlzUDL2"], ["confirmation_token", "e1264556a2410982c5d726096bcddf12"], ["state", "initial"], ["phone", "string_93"], ["created_at", "2022-03-18 15:15:39.819888"], ["updated_at", "2022-03-18 15:15:39.825413"], ["github", "string_94"], ["website", "string_95"], ["twitter", "string_96"], ["linkedin", "string_97"], ["devto", "string_98"], ["facebook", "string_99"], ["blog", "string_100"], ["bio", "string_101"], ["status", "string_102"], ["availability", "string_103"], ["primary_skills", "string_104"], ["learning", "string_105"], ["coding_for", "string_106"], ["education", "string_107"], ["title", "string_108"], ["work", "string_109"], ["primary_location", "string_110"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "6a117b24b605cddcd98ba408fb8e7e4e"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user10@example.com"], ["token", "6a117b24b605cddcd98ba408fb8e7e4e"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:39.834795"], ["updated_at", "2022-03-18 15:15:39.834795"], ["invited_by_id", 571], ["entityable_id", 394], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 573]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 573], ["account_id", 394], ["role", "viewer"], ["created_at", "2022-03-18 15:15:39.839534"], ["updated_at", "2022-03-18 15:15:39.839534"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 17"], ["account_id", 394], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description", "secrets") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 17"], ["created_at", "2022-03-18 15:15:39.847854"], ["updated_at", "2022-03-18 15:15:39.847854"], ["account_id", 394], ["state", "active"], ["slug", "slug_2"], ["description", "Name 18"], ["secrets", "[{\"name\":\"string_111\",\"value\":\"string_112\"}]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 394], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 571], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 571], ["project_id", 373], ["role", "admin"], ["created_at", "2022-03-18 15:15:39.854194"], ["updated_at", "2022-03-18 15:15:39.854194"], ["invited_by_id", 571]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 394], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 572], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 572], ["project_id", 373], ["role", "developer"], ["created_at", "2022-03-18 15:15:39.861267"], ["updated_at", "2022-03-18 15:15:39.861267"], ["invited_by_id", 571]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 394], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 573], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 573], ["project_id", 373], ["role", "viewer"], ["created_at", "2022-03-18 15:15:39.867386"], ["updated_at", "2022-03-18 15:15:39.867386"], ["invited_by_id", 571]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 373], ["project_id", 373], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 19"], ["project_id", 373], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 19"], ["repository_id", 1], ["branch", "string_115"], ["path", "/volumes/directory-1"], ["auto_deploy", "disabled"], ["added_by_id", 571], ["project_id", 373], ["created_at", "2022-03-18 15:15:39.891667"], ["updated_at", "2022-03-18 15:15:39.891667"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 20"], ["project_id", 373], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 20"], ["added_by_id", 571], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-1\",\"tag\":\"string_116\",\"variables\":null,\"secret_variables\":[{\"name\":\"string_113\",\"value\":\"\"}],\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":2}]}"], ["project_id", 373], ["created_at", "2022-03-18 15:15:39.927267"], ["updated_at", "2022-03-18 15:15:39.927267"], ["compose_file_id", 176], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:39.930205"], ["id", 373]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::SecretsController#bulk_create as JSON
  Parameters: {"secrets"=>"[FILTERED]", "project_slug"=>"slug_2"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 571], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 571], ["slug", "slug_2"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 394], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 17"], ["id", 373], ["account_id", 394], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 17"], ["id", 373], ["account_id", 394], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."slug" = $1 AND "uffizzi_core_projects"."id" != $2 LIMIT $3[0m  [["slug", "slug_2"], ["id", 373], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Project::UpdateForm Update (0.3ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1, "secrets" = $2 WHERE "uffizzi_core_projects"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:40.017702"], ["secrets", "[{\"name\":\"string_111\",\"value\":\"string_112\"},{\"name\":\"string_113\",\"value\":\"string_114\"}]"], ["id", 373]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 373], ["kind", "main"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 176], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 571], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 373], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."id" != $2 AND "uffizzi_core_templates"."project_id" = $3 LIMIT $4[0m  [["name", "Name 20"], ["id", 295], ["project_id", 373], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Update (0.3ms)[0m  [1m[33mUPDATE "uffizzi_core_templates" SET "payload" = $1, "updated_at" = $2 WHERE "uffizzi_core_templates"."id" = $3[0m  [["payload", "{\"containers_attributes\":[{\"tag\":\"string_116\",\"port\":2,\"repo\":null,\"image\":\"namespace/name-1\",\"public\":true,\"command\":null,\"variables\":null,\"entrypoint\":null,\"secret_variables\":[{\"name\":\"string_113\",\"value\":\"string_114\"}],\"continuously_deploy\":\"disabled\",\"receive_incoming_requests\":true}]}"], ["updated_at", "2022-03-18 15:15:40.040753"], ["id", 295]]
  [1m[36mUffizziCore::Project Update (0.3ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:40.042837"], ["id", 373]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 201 Created in 60ms (Views: 1.0ms | ActiveRecord: 5.2ms | Allocations: 14468)
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1 LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 373], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 176], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::SecretsControllerTest: test_#bulk_create_check_update_secret_in_a_compose_if_it_has_errors_not_related_to_secrets
------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user11@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 21"], ["last_name", "Name 22"], ["email", "user11@example.com"], ["password_digest", "$2a$04$Iebh.I6XgkXqkrCQIqqugeBCdfwLAz8ueLdzCnRhF52GVUt3vJiG."], ["confirmation_token", "b824e60ff25f099464e59d8f658bee48"], ["state", "initial"], ["phone", "string_117"], ["created_at", "2022-03-18 15:15:40.059936"], ["updated_at", "2022-03-18 15:15:40.064153"], ["github", "string_118"], ["website", "string_119"], ["twitter", "string_120"], ["linkedin", "string_121"], ["devto", "string_122"], ["facebook", "string_123"], ["blog", "string_124"], ["bio", "string_125"], ["status", "string_126"], ["availability", "string_127"], ["primary_skills", "string_128"], ["learning", "string_129"], ["coding_for", "string_130"], ["education", "string_131"], ["title", "string_132"], ["work", "string_133"], ["primary_location", "string_134"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "reinger.cummings.net"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 23"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:40.059936"], ["updated_at", "2022-03-18 15:15:40.072838"], ["state", "active"], ["domain", "reinger.cummings.net"], ["owner_id", 574], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "634d725a13190b19b76df6f1b8634163"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user11@example.com"], ["token", "634d725a13190b19b76df6f1b8634163"], ["status", "pending"], ["created_at", "2022-03-18 15:15:40.079340"], ["updated_at", "2022-03-18 15:15:40.079340"], ["invited_by_id", 574], ["entityable_id", 395], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 574], ["account_id", 395], ["role", "admin"], ["created_at", "2022-03-18 15:15:40.082864"], ["updated_at", "2022-03-18 15:15:40.082864"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 395]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "634d725a13190b19b76df6f1b8634163"], ["id", 567], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:40.091204"], ["invitee_id", 574], ["id", 567]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 574], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user12@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 24"], ["last_name", "Name 25"], ["email", "user12@example.com"], ["password_digest", "$2a$04$6zlEiVMRuZzWR.OQxO7ou.JFMHRpHDkPKOzcr6aap5r7UcswmB06a"], ["confirmation_token", "3ab8ae0f96b689edd1f953ab7c47ad2e"], ["state", "initial"], ["phone", "string_135"], ["created_at", "2022-03-18 15:15:40.097801"], ["updated_at", "2022-03-18 15:15:40.102096"], ["github", "string_136"], ["website", "string_137"], ["twitter", "string_138"], ["linkedin", "string_139"], ["devto", "string_140"], ["facebook", "string_141"], ["blog", "string_142"], ["bio", "string_143"], ["status", "string_144"], ["availability", "string_145"], ["primary_skills", "string_146"], ["learning", "string_147"], ["coding_for", "string_148"], ["education", "string_149"], ["title", "string_150"], ["work", "string_151"], ["primary_location", "string_152"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 574], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "0112164a1eafae359e7b192e57ced811"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user13@example.com"], ["token", "0112164a1eafae359e7b192e57ced811"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:40.112261"], ["updated_at", "2022-03-18 15:15:40.112261"], ["invited_by_id", 574], ["entityable_id", 395], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 575]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 575], ["account_id", 395], ["role", "developer"], ["created_at", "2022-03-18 15:15:40.115943"], ["updated_at", "2022-03-18 15:15:40.115943"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user14@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 26"], ["last_name", "Name 27"], ["email", "user14@example.com"], ["password_digest", "$2a$04$zCrIBGzsyTKBYzJIoNtaIuwasLC6rkHF/7CSRazyjLV6nExCuk0MC"], ["confirmation_token", "b67b0617e84fce70f85cc6d59e2aec52"], ["state", "initial"], ["phone", "string_153"], ["created_at", "2022-03-18 15:15:40.120256"], ["updated_at", "2022-03-18 15:15:40.124627"], ["github", "string_154"], ["website", "string_155"], ["twitter", "string_156"], ["linkedin", "string_157"], ["devto", "string_158"], ["facebook", "string_159"], ["blog", "string_160"], ["bio", "string_161"], ["status", "string_162"], ["availability", "string_163"], ["primary_skills", "string_164"], ["learning", "string_165"], ["coding_for", "string_166"], ["education", "string_167"], ["title", "string_168"], ["work", "string_169"], ["primary_location", "string_170"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "f6c4a2ca7cc3f8c84b95254cc078503d"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user15@example.com"], ["token", "f6c4a2ca7cc3f8c84b95254cc078503d"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:40.131941"], ["updated_at", "2022-03-18 15:15:40.131941"], ["invited_by_id", 574], ["entityable_id", 395], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 576]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 576], ["account_id", 395], ["role", "viewer"], ["created_at", "2022-03-18 15:15:40.135469"], ["updated_at", "2022-03-18 15:15:40.135469"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 28"], ["account_id", 395], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description", "secrets") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 28"], ["created_at", "2022-03-18 15:15:40.142803"], ["updated_at", "2022-03-18 15:15:40.142803"], ["account_id", 395], ["state", "active"], ["slug", "slug_3"], ["description", "Name 29"], ["secrets", "[{\"name\":\"string_171\",\"value\":\"string_172\"}]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 395], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 574], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 574], ["project_id", 374], ["role", "admin"], ["created_at", "2022-03-18 15:15:40.149641"], ["updated_at", "2022-03-18 15:15:40.149641"], ["invited_by_id", 574]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 395], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 575], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 575], ["project_id", 374], ["role", "developer"], ["created_at", "2022-03-18 15:15:40.155513"], ["updated_at", "2022-03-18 15:15:40.155513"], ["invited_by_id", 574]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 395], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 576], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 576], ["project_id", 374], ["role", "viewer"], ["created_at", "2022-03-18 15:15:40.161537"], ["updated_at", "2022-03-18 15:15:40.161537"], ["invited_by_id", 574]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 28"], ["id", 374], ["account_id", 395], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1, "secrets" = $2 WHERE "uffizzi_core_projects"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:40.167934"], ["secrets", nil], ["id", 374]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 374], ["project_id", 374], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 30"], ["project_id", 374], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "payload") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["source", "Name 30"], ["repository_id", 3], ["branch", "string_177"], ["path", "/volumes/directory-2"], ["auto_deploy", "disabled"], ["added_by_id", 574], ["project_id", 374], ["created_at", "2022-03-18 15:15:40.176180"], ["updated_at", "2022-03-18 15:15:40.176180"], ["state", "invalid_file"], ["payload", "{\"errors\":{\"secret_variables\":[\"string_175\"],\"error_key\":[\"string_176\"]}}"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 31"], ["project_id", 374], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 31"], ["added_by_id", 574], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-2\",\"tag\":\"string_178\",\"variables\":null,\"secret_variables\":[{\"name\":\"string_173\",\"value\":\"\"}],\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":4}]}"], ["project_id", 374], ["created_at", "2022-03-18 15:15:40.183712"], ["updated_at", "2022-03-18 15:15:40.183712"], ["compose_file_id", 177], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:40.186043"], ["id", 374]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::SecretsController#bulk_create as JSON
  Parameters: {"secrets"=>"[FILTERED]", "project_slug"=>"slug_3"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 574], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 574], ["slug", "slug_3"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 395], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 28"], ["id", 374], ["account_id", 395], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 28"], ["id", 374], ["account_id", 395], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."slug" = $1 AND "uffizzi_core_projects"."id" != $2 LIMIT $3[0m  [["slug", "slug_3"], ["id", 374], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Project::UpdateForm Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1, "secrets" = $2 WHERE "uffizzi_core_projects"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:40.203727"], ["secrets", "[{\"name\":\"string_173\",\"value\":\"string_174\"}]"], ["id", 374]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 374], ["kind", "main"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 177], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 574], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 374], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."id" != $2 AND "uffizzi_core_templates"."project_id" = $3 LIMIT $4[0m  [["name", "Name 31"], ["id", 296], ["project_id", 374], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_templates" SET "payload" = $1, "updated_at" = $2 WHERE "uffizzi_core_templates"."id" = $3[0m  [["payload", "{\"containers_attributes\":[{\"tag\":\"string_178\",\"port\":4,\"repo\":null,\"image\":\"namespace/name-2\",\"public\":true,\"command\":null,\"variables\":null,\"entrypoint\":null,\"secret_variables\":[{\"name\":\"string_173\",\"value\":\"string_174\"}],\"continuously_deploy\":\"disabled\",\"receive_incoming_requests\":true}]}"], ["updated_at", "2022-03-18 15:15:40.216590"], ["id", 296]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:40.218689"], ["id", 374]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."id" != $2 AND "uffizzi_core_compose_files"."project_id" = $3 LIMIT $4[0m  [["project_id", 374], ["id", 177], ["project_id", 374], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."id" != $2 AND "uffizzi_core_compose_files"."project_id" = $3 LIMIT $4[0m  [["source", "Name 30"], ["id", 177], ["project_id", 374], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_compose_files" SET "updated_at" = $1, "payload" = $2 WHERE "uffizzi_core_compose_files"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:40.226340"], ["payload", "{\"errors\":{\"error_key\":[\"string_176\"]}}"], ["id", 177]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 201 Created in 39ms (Views: 1.0ms | ActiveRecord: 8.7ms | Allocations: 6961)
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 374], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 177], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::SecretsControllerTest: test_#destroy_if_a_project_has_a_compose_with_deleted_secret
------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user16@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 32"], ["last_name", "Name 33"], ["email", "user16@example.com"], ["password_digest", "$2a$04$F2TB5QJ6mzWHBm9S5tKB2.vURuXEkXMVV8hrj6QK9t6DD9MroYgze"], ["confirmation_token", "30522ce1d2f91ed0c4887d509fd8a948"], ["state", "initial"], ["phone", "string_179"], ["created_at", "2022-03-18 15:15:40.322674"], ["updated_at", "2022-03-18 15:15:40.329369"], ["github", "string_180"], ["website", "string_181"], ["twitter", "string_182"], ["linkedin", "string_183"], ["devto", "string_184"], ["facebook", "string_185"], ["blog", "string_186"], ["bio", "string_187"], ["status", "string_188"], ["availability", "string_189"], ["primary_skills", "string_190"], ["learning", "string_191"], ["coding_for", "string_192"], ["education", "string_193"], ["title", "string_194"], ["work", "string_195"], ["primary_location", "string_196"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "schuppe.rau-mante.biz"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 34"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:40.322674"], ["updated_at", "2022-03-18 15:15:40.340584"], ["state", "active"], ["domain", "schuppe.rau-mante.biz"], ["owner_id", 577], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "3bc158b7f342f00e00b053356da8b90a"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user16@example.com"], ["token", "3bc158b7f342f00e00b053356da8b90a"], ["status", "pending"], ["created_at", "2022-03-18 15:15:40.350405"], ["updated_at", "2022-03-18 15:15:40.350405"], ["invited_by_id", 577], ["entityable_id", 396], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 577], ["account_id", 396], ["role", "admin"], ["created_at", "2022-03-18 15:15:40.355315"], ["updated_at", "2022-03-18 15:15:40.355315"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 396]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "3bc158b7f342f00e00b053356da8b90a"], ["id", 570], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:40.367427"], ["invitee_id", 577], ["id", 570]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 577], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user17@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 35"], ["last_name", "Name 36"], ["email", "user17@example.com"], ["password_digest", "$2a$04$jrELVYrkP0uqHG.WO5dMOeuT4ohtfYLnpiKiV9Mq3ILPMUS4BCxdq"], ["confirmation_token", "6d2cf364265f40100ffb2cb82871c64a"], ["state", "initial"], ["phone", "string_197"], ["created_at", "2022-03-18 15:15:40.374818"], ["updated_at", "2022-03-18 15:15:40.380456"], ["github", "string_198"], ["website", "string_199"], ["twitter", "string_200"], ["linkedin", "string_201"], ["devto", "string_202"], ["facebook", "string_203"], ["blog", "string_204"], ["bio", "string_205"], ["status", "string_206"], ["availability", "string_207"], ["primary_skills", "string_208"], ["learning", "string_209"], ["coding_for", "string_210"], ["education", "string_211"], ["title", "string_212"], ["work", "string_213"], ["primary_location", "string_214"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 577], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "cefdfae1ecb8d0e025a410cd8e12fba4"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user18@example.com"], ["token", "cefdfae1ecb8d0e025a410cd8e12fba4"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:40.392297"], ["updated_at", "2022-03-18 15:15:40.392297"], ["invited_by_id", 577], ["entityable_id", 396], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 578]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 578], ["account_id", 396], ["role", "developer"], ["created_at", "2022-03-18 15:15:40.396910"], ["updated_at", "2022-03-18 15:15:40.396910"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user19@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 37"], ["last_name", "Name 38"], ["email", "user19@example.com"], ["password_digest", "$2a$04$5hjEEHy719FnLbPsZl7ik.Plf8KpBgv.DRF8sVeWjO12SLH7TMPXe"], ["confirmation_token", "57315d38688c833b17cc3fe48f6efc43"], ["state", "initial"], ["phone", "string_215"], ["created_at", "2022-03-18 15:15:40.401836"], ["updated_at", "2022-03-18 15:15:40.405977"], ["github", "string_216"], ["website", "string_217"], ["twitter", "string_218"], ["linkedin", "string_219"], ["devto", "string_220"], ["facebook", "string_221"], ["blog", "string_222"], ["bio", "string_223"], ["status", "string_224"], ["availability", "string_225"], ["primary_skills", "string_226"], ["learning", "string_227"], ["coding_for", "string_228"], ["education", "string_229"], ["title", "string_230"], ["work", "string_231"], ["primary_location", "string_232"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "00e89677b99cb5502f866ebe7ac957c0"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user20@example.com"], ["token", "00e89677b99cb5502f866ebe7ac957c0"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:40.413313"], ["updated_at", "2022-03-18 15:15:40.413313"], ["invited_by_id", 577], ["entityable_id", 396], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 579]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 579], ["account_id", 396], ["role", "viewer"], ["created_at", "2022-03-18 15:15:40.416931"], ["updated_at", "2022-03-18 15:15:40.416931"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 39"], ["account_id", 396], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description", "secrets") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 39"], ["created_at", "2022-03-18 15:15:40.424548"], ["updated_at", "2022-03-18 15:15:40.424548"], ["account_id", 396], ["state", "active"], ["slug", "slug_4"], ["description", "Name 40"], ["secrets", "[{\"name\":\"string_233\",\"value\":\"string_234\"}]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 396], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 577], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 577], ["project_id", 375], ["role", "admin"], ["created_at", "2022-03-18 15:15:40.430704"], ["updated_at", "2022-03-18 15:15:40.430704"], ["invited_by_id", 577]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 396], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 578], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 578], ["project_id", 375], ["role", "developer"], ["created_at", "2022-03-18 15:15:40.436922"], ["updated_at", "2022-03-18 15:15:40.436922"], ["invited_by_id", 577]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 396], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 579], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 579], ["project_id", 375], ["role", "viewer"], ["created_at", "2022-03-18 15:15:40.443734"], ["updated_at", "2022-03-18 15:15:40.443734"], ["invited_by_id", 577]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 375], ["project_id", 375], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 41"], ["project_id", 375], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 41"], ["repository_id", 5], ["branch", "string_235"], ["path", "/volumes/directory-3"], ["auto_deploy", "disabled"], ["added_by_id", 577], ["project_id", 375], ["created_at", "2022-03-18 15:15:40.454286"], ["updated_at", "2022-03-18 15:15:40.454286"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 42"], ["project_id", 375], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 42"], ["added_by_id", 577], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-3\",\"tag\":\"string_236\",\"variables\":null,\"secret_variables\":[{\"name\":\"string_233\",\"value\":\"string_234\"}],\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":6}]}"], ["project_id", 375], ["created_at", "2022-03-18 15:15:40.462047"], ["updated_at", "2022-03-18 15:15:40.462047"], ["compose_file_id", 178], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:40.464499"], ["id", 375]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" ORDER BY "uffizzi_core_projects"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."state" = $1[0m  [["state", "invalid_file"]]
Processing by UffizziCore::Api::Cli::V1::Projects::SecretsController#destroy as JSON
  Parameters: {"project_slug"=>"slug_4", "id"=>"string_233"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 577], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 577], ["slug", "slug_4"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.8ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 396], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 39"], ["id", 375], ["account_id", 396], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Api::Cli::V1::Project::DeleteSecretForm Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1, "secrets" = $2 WHERE "uffizzi_core_projects"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:40.493362"], ["secrets", "[]"], ["id", 375]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 375], ["kind", "main"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 178], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."id" != $2 AND "uffizzi_core_compose_files"."project_id" = $3 LIMIT $4[0m  [["project_id", 375], ["id", 178], ["project_id", 375], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."id" != $2 AND "uffizzi_core_compose_files"."project_id" = $3 LIMIT $4[0m  [["source", "Name 41"], ["id", 178], ["project_id", 375], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_compose_files" SET "updated_at" = $1, "state" = $2, "payload" = $3 WHERE "uffizzi_core_compose_files"."id" = $4[0m  [["updated_at", "2022-03-18 15:15:40.506392"], ["state", "invalid_file"], ["payload", "{\"errors\":{\"secret_variables\":[\"Project secret 'string_233' not found\"]}}"], ["id", 178]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 112ms (ActiveRecord: 5.6ms | Allocations: 13347)
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" ORDER BY "uffizzi_core_projects"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."state" = $1[0m  [["state", "invalid_file"]]
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::SecretsControllerTest: test_#bulk_create_check_if_a_secret_has_already_been_added
----------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user21@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 43"], ["last_name", "Name 44"], ["email", "user21@example.com"], ["password_digest", "$2a$04$SZQaaPKivUMMyrcIx15IsexjpEBFzNrVYUMaSmuUF8N/gOANUryaq"], ["confirmation_token", "19397e04fc2ef9aa84d9e7c97c00cfb5"], ["state", "initial"], ["phone", "string_237"], ["created_at", "2022-03-18 15:15:40.606963"], ["updated_at", "2022-03-18 15:15:40.613081"], ["github", "string_238"], ["website", "string_239"], ["twitter", "string_240"], ["linkedin", "string_241"], ["devto", "string_242"], ["facebook", "string_243"], ["blog", "string_244"], ["bio", "string_245"], ["status", "string_246"], ["availability", "string_247"], ["primary_skills", "string_248"], ["learning", "string_249"], ["coding_for", "string_250"], ["education", "string_251"], ["title", "string_252"], ["work", "string_253"], ["primary_location", "string_254"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "jakubowski.adams.biz"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 45"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:40.606963"], ["updated_at", "2022-03-18 15:15:40.622957"], ["state", "active"], ["domain", "jakubowski.adams.biz"], ["owner_id", 580], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "7e650bdc2d808896f33acf9e0eb1863e"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user21@example.com"], ["token", "7e650bdc2d808896f33acf9e0eb1863e"], ["status", "pending"], ["created_at", "2022-03-18 15:15:40.630201"], ["updated_at", "2022-03-18 15:15:40.630201"], ["invited_by_id", 580], ["entityable_id", 397], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 580], ["account_id", 397], ["role", "admin"], ["created_at", "2022-03-18 15:15:40.634756"], ["updated_at", "2022-03-18 15:15:40.634756"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 397]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "7e650bdc2d808896f33acf9e0eb1863e"], ["id", 573], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:40.646159"], ["invitee_id", 580], ["id", 573]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 580], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user22@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 46"], ["last_name", "Name 47"], ["email", "user22@example.com"], ["password_digest", "$2a$04$eVGYYtfbrEZSjqH9d8hNY.0XEWRnKFKpIooPio0pnjnat70NMoWM."], ["confirmation_token", "1ab48f34a2e45be17cb7c8b54b1d2d9d"], ["state", "initial"], ["phone", "string_255"], ["created_at", "2022-03-18 15:15:40.653640"], ["updated_at", "2022-03-18 15:15:40.659100"], ["github", "string_256"], ["website", "string_257"], ["twitter", "string_258"], ["linkedin", "string_259"], ["devto", "string_260"], ["facebook", "string_261"], ["blog", "string_262"], ["bio", "string_263"], ["status", "string_264"], ["availability", "string_265"], ["primary_skills", "string_266"], ["learning", "string_267"], ["coding_for", "string_268"], ["education", "string_269"], ["title", "string_270"], ["work", "string_271"], ["primary_location", "string_272"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 580], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "65a9881798e25e450baf173a7265179b"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user23@example.com"], ["token", "65a9881798e25e450baf173a7265179b"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:40.669487"], ["updated_at", "2022-03-18 15:15:40.669487"], ["invited_by_id", 580], ["entityable_id", 397], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 581]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 581], ["account_id", 397], ["role", "developer"], ["created_at", "2022-03-18 15:15:40.673110"], ["updated_at", "2022-03-18 15:15:40.673110"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user24@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 48"], ["last_name", "Name 49"], ["email", "user24@example.com"], ["password_digest", "$2a$04$oDG2r.VAOAKj4Ov9U26RRun12qAWoDQ9dL.3LaUfOSRf4vexC.uG2"], ["confirmation_token", "0983bb91bd49cf97ae1633fdf404035a"], ["state", "initial"], ["phone", "string_273"], ["created_at", "2022-03-18 15:15:40.677597"], ["updated_at", "2022-03-18 15:15:40.682498"], ["github", "string_274"], ["website", "string_275"], ["twitter", "string_276"], ["linkedin", "string_277"], ["devto", "string_278"], ["facebook", "string_279"], ["blog", "string_280"], ["bio", "string_281"], ["status", "string_282"], ["availability", "string_283"], ["primary_skills", "string_284"], ["learning", "string_285"], ["coding_for", "string_286"], ["education", "string_287"], ["title", "string_288"], ["work", "string_289"], ["primary_location", "string_290"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "b2c0a76bc97a87de6dc4158ebe665f78"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user25@example.com"], ["token", "b2c0a76bc97a87de6dc4158ebe665f78"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:40.689680"], ["updated_at", "2022-03-18 15:15:40.689680"], ["invited_by_id", 580], ["entityable_id", 397], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 582]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 582], ["account_id", 397], ["role", "viewer"], ["created_at", "2022-03-18 15:15:40.693844"], ["updated_at", "2022-03-18 15:15:40.693844"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 50"], ["account_id", 397], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description", "secrets") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 50"], ["created_at", "2022-03-18 15:15:40.701308"], ["updated_at", "2022-03-18 15:15:40.701308"], ["account_id", 397], ["state", "active"], ["slug", "slug_5"], ["description", "Name 51"], ["secrets", "[{\"name\":\"string_291\",\"value\":\"string_292\"}]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 397], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 580], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 580], ["project_id", 376], ["role", "admin"], ["created_at", "2022-03-18 15:15:40.707631"], ["updated_at", "2022-03-18 15:15:40.707631"], ["invited_by_id", 580]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 397], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 581], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 581], ["project_id", 376], ["role", "developer"], ["created_at", "2022-03-18 15:15:40.713968"], ["updated_at", "2022-03-18 15:15:40.713968"], ["invited_by_id", 580]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 397], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 582], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 582], ["project_id", 376], ["role", "viewer"], ["created_at", "2022-03-18 15:15:40.720914"], ["updated_at", "2022-03-18 15:15:40.720914"], ["invited_by_id", 580]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::SecretsController#bulk_create as JSON
  Parameters: {"secrets"=>"[FILTERED]", "project_slug"=>"slug_5"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 580], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 580], ["slug", "slug_5"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 397], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 50"], ["id", 376], ["account_id", 397], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 50"], ["id", 376], ["account_id", 397], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."slug" = $1 AND "uffizzi_core_projects"."id" != $2 LIMIT $3[0m  [["slug", "slug_5"], ["id", 376], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 422 Unprocessable Entity in 15ms (Views: 1.1ms | ActiveRecord: 3.2ms | Allocations: 3345)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::SecretsControllerTest: test_#destroy_admin_deletes_a_secret
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user26@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 52"], ["last_name", "Name 53"], ["email", "user26@example.com"], ["password_digest", "$2a$04$SOYYUrstovaM0KsH99PPhuEzcZnn8LCu5qLCvsCpmkNfiu0CzA1/y"], ["confirmation_token", "420ba7b89aa06b3ec3c97e7d7a1b22b2"], ["state", "initial"], ["phone", "string_294"], ["created_at", "2022-03-18 15:15:40.755645"], ["updated_at", "2022-03-18 15:15:40.761363"], ["github", "string_295"], ["website", "string_296"], ["twitter", "string_297"], ["linkedin", "string_298"], ["devto", "string_299"], ["facebook", "string_300"], ["blog", "string_301"], ["bio", "string_302"], ["status", "string_303"], ["availability", "string_304"], ["primary_skills", "string_305"], ["learning", "string_306"], ["coding_for", "string_307"], ["education", "string_308"], ["title", "string_309"], ["work", "string_310"], ["primary_location", "string_311"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "kunde.weissnat.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 54"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:40.755645"], ["updated_at", "2022-03-18 15:15:40.771918"], ["state", "active"], ["domain", "kunde.weissnat.com"], ["owner_id", 583], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "2def69b0e9c050a0ac4f6fe617386df3"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user26@example.com"], ["token", "2def69b0e9c050a0ac4f6fe617386df3"], ["status", "pending"], ["created_at", "2022-03-18 15:15:40.778805"], ["updated_at", "2022-03-18 15:15:40.778805"], ["invited_by_id", 583], ["entityable_id", 398], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 583], ["account_id", 398], ["role", "admin"], ["created_at", "2022-03-18 15:15:40.782457"], ["updated_at", "2022-03-18 15:15:40.782457"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 398]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "2def69b0e9c050a0ac4f6fe617386df3"], ["id", 576], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:40.792402"], ["invitee_id", 583], ["id", 576]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 583], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user27@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 55"], ["last_name", "Name 56"], ["email", "user27@example.com"], ["password_digest", "$2a$04$.P3rnMVVjCHhWnF0KM/ZXOfrNE5xYJfLczMi/D6PJh9WJQu3JWauK"], ["confirmation_token", "9b30f0024eb9edf775a64a325b9f23df"], ["state", "initial"], ["phone", "string_312"], ["created_at", "2022-03-18 15:15:40.799467"], ["updated_at", "2022-03-18 15:15:40.803905"], ["github", "string_313"], ["website", "string_314"], ["twitter", "string_315"], ["linkedin", "string_316"], ["devto", "string_317"], ["facebook", "string_318"], ["blog", "string_319"], ["bio", "string_320"], ["status", "string_321"], ["availability", "string_322"], ["primary_skills", "string_323"], ["learning", "string_324"], ["coding_for", "string_325"], ["education", "string_326"], ["title", "string_327"], ["work", "string_328"], ["primary_location", "string_329"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 583], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "4d7ecff6a561a789b20b3e08e0d28b24"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user28@example.com"], ["token", "4d7ecff6a561a789b20b3e08e0d28b24"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:40.813131"], ["updated_at", "2022-03-18 15:15:40.813131"], ["invited_by_id", 583], ["entityable_id", 398], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 584]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 584], ["account_id", 398], ["role", "developer"], ["created_at", "2022-03-18 15:15:40.816772"], ["updated_at", "2022-03-18 15:15:40.816772"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user29@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 57"], ["last_name", "Name 58"], ["email", "user29@example.com"], ["password_digest", "$2a$04$WmvrJN07GfCjIzmZeSB2l.OsfhCDTLFpiPCY/Hr7JTjQNYKeDkSEq"], ["confirmation_token", "25e1ffd20675fc650b4952d1df1e22c8"], ["state", "initial"], ["phone", "string_330"], ["created_at", "2022-03-18 15:15:40.821855"], ["updated_at", "2022-03-18 15:15:40.826118"], ["github", "string_331"], ["website", "string_332"], ["twitter", "string_333"], ["linkedin", "string_334"], ["devto", "string_335"], ["facebook", "string_336"], ["blog", "string_337"], ["bio", "string_338"], ["status", "string_339"], ["availability", "string_340"], ["primary_skills", "string_341"], ["learning", "string_342"], ["coding_for", "string_343"], ["education", "string_344"], ["title", "string_345"], ["work", "string_346"], ["primary_location", "string_347"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "4f3fd7f2dcfbe2622c18285a693c2d9b"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user30@example.com"], ["token", "4f3fd7f2dcfbe2622c18285a693c2d9b"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:40.833241"], ["updated_at", "2022-03-18 15:15:40.833241"], ["invited_by_id", 583], ["entityable_id", 398], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 585]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 585], ["account_id", 398], ["role", "viewer"], ["created_at", "2022-03-18 15:15:40.836774"], ["updated_at", "2022-03-18 15:15:40.836774"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 59"], ["account_id", 398], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description", "secrets") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 59"], ["created_at", "2022-03-18 15:15:40.845336"], ["updated_at", "2022-03-18 15:15:40.845336"], ["account_id", 398], ["state", "active"], ["slug", "slug_6"], ["description", "Name 60"], ["secrets", "[{\"name\":\"string_348\",\"value\":\"string_349\"}]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 398], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 583], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 583], ["project_id", 377], ["role", "admin"], ["created_at", "2022-03-18 15:15:40.851660"], ["updated_at", "2022-03-18 15:15:40.851660"], ["invited_by_id", 583]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 398], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 584], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 584], ["project_id", 377], ["role", "developer"], ["created_at", "2022-03-18 15:15:40.858224"], ["updated_at", "2022-03-18 15:15:40.858224"], ["invited_by_id", 583]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 398], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 585], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 585], ["project_id", 377], ["role", "viewer"], ["created_at", "2022-03-18 15:15:40.864647"], ["updated_at", "2022-03-18 15:15:40.864647"], ["invited_by_id", 583]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" ORDER BY "uffizzi_core_projects"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Processing by UffizziCore::Api::Cli::V1::Projects::SecretsController#destroy as JSON
  Parameters: {"project_slug"=>"slug_6", "id"=>"string_348"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 583], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 583], ["slug", "slug_6"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 398], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 59"], ["id", 377], ["account_id", 398], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Api::Cli::V1::Project::DeleteSecretForm Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1, "secrets" = $2 WHERE "uffizzi_core_projects"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:40.883583"], ["secrets", "[]"], ["id", 377]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 377], ["kind", "main"], ["LIMIT", 1]]
Completed 204 No Content in 15ms (ActiveRecord: 3.1ms | Allocations: 3461)
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" ORDER BY "uffizzi_core_projects"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::SecretsControllerTest: test_#bulk_create_admin_creates_secrets
---------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user31@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 61"], ["last_name", "Name 62"], ["email", "user31@example.com"], ["password_digest", "$2a$04$wdcTlYNkN2I4kdeU7Fx5duaz/Gx82dMh/XHcToAydcnGQwpYyjuam"], ["confirmation_token", "b800f4163c6d9888ffabf15048686006"], ["state", "initial"], ["phone", "string_350"], ["created_at", "2022-03-18 15:15:40.898133"], ["updated_at", "2022-03-18 15:15:40.902832"], ["github", "string_351"], ["website", "string_352"], ["twitter", "string_353"], ["linkedin", "string_354"], ["devto", "string_355"], ["facebook", "string_356"], ["blog", "string_357"], ["bio", "string_358"], ["status", "string_359"], ["availability", "string_360"], ["primary_skills", "string_361"], ["learning", "string_362"], ["coding_for", "string_363"], ["education", "string_364"], ["title", "string_365"], ["work", "string_366"], ["primary_location", "string_367"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "cummerata.lind.org"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 63"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:40.898133"], ["updated_at", "2022-03-18 15:15:40.911899"], ["state", "active"], ["domain", "cummerata.lind.org"], ["owner_id", 586], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "96d7e41802c7c37ab031fcb44acacc13"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user31@example.com"], ["token", "96d7e41802c7c37ab031fcb44acacc13"], ["status", "pending"], ["created_at", "2022-03-18 15:15:40.918881"], ["updated_at", "2022-03-18 15:15:40.918881"], ["invited_by_id", 586], ["entityable_id", 399], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 586], ["account_id", 399], ["role", "admin"], ["created_at", "2022-03-18 15:15:40.922731"], ["updated_at", "2022-03-18 15:15:40.922731"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 399]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "96d7e41802c7c37ab031fcb44acacc13"], ["id", 579], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:40.931664"], ["invitee_id", 586], ["id", 579]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 586], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user32@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 64"], ["last_name", "Name 65"], ["email", "user32@example.com"], ["password_digest", "$2a$04$03m5WsyQ4xaB970mK/ILVOF1D9C72BHlO98hBMHDcKSUt080.UDq."], ["confirmation_token", "8d47eb2cbb58ec723ca65c7e12c5c012"], ["state", "initial"], ["phone", "string_368"], ["created_at", "2022-03-18 15:15:40.938930"], ["updated_at", "2022-03-18 15:15:40.944373"], ["github", "string_369"], ["website", "string_370"], ["twitter", "string_371"], ["linkedin", "string_372"], ["devto", "string_373"], ["facebook", "string_374"], ["blog", "string_375"], ["bio", "string_376"], ["status", "string_377"], ["availability", "string_378"], ["primary_skills", "string_379"], ["learning", "string_380"], ["coding_for", "string_381"], ["education", "string_382"], ["title", "string_383"], ["work", "string_384"], ["primary_location", "string_385"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 586], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "6bc8e6426e77e39df3024def930a9725"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user33@example.com"], ["token", "6bc8e6426e77e39df3024def930a9725"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:40.954137"], ["updated_at", "2022-03-18 15:15:40.954137"], ["invited_by_id", 586], ["entityable_id", 399], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 587]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 587], ["account_id", 399], ["role", "developer"], ["created_at", "2022-03-18 15:15:40.957962"], ["updated_at", "2022-03-18 15:15:40.957962"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user34@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (2.0ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 66"], ["last_name", "Name 67"], ["email", "user34@example.com"], ["password_digest", "$2a$04$qaZ3SgUXQNQs99kkvu/yZOmrAEUkMBLP37/r4QcoLTe4tIXYFwcwC"], ["confirmation_token", "9bc94c5c09d48173210e5a18d645568a"], ["state", "initial"], ["phone", "string_386"], ["created_at", "2022-03-18 15:15:40.962479"], ["updated_at", "2022-03-18 15:15:40.966837"], ["github", "string_387"], ["website", "string_388"], ["twitter", "string_389"], ["linkedin", "string_390"], ["devto", "string_391"], ["facebook", "string_392"], ["blog", "string_393"], ["bio", "string_394"], ["status", "string_395"], ["availability", "string_396"], ["primary_skills", "string_397"], ["learning", "string_398"], ["coding_for", "string_399"], ["education", "string_400"], ["title", "string_401"], ["work", "string_402"], ["primary_location", "string_403"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "3e208592ef535db1e225fa232c7aa5c7"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user35@example.com"], ["token", "3e208592ef535db1e225fa232c7aa5c7"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:40.976220"], ["updated_at", "2022-03-18 15:15:40.976220"], ["invited_by_id", 586], ["entityable_id", 399], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 588]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 588], ["account_id", 399], ["role", "viewer"], ["created_at", "2022-03-18 15:15:40.980044"], ["updated_at", "2022-03-18 15:15:40.980044"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 68"], ["account_id", 399], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description", "secrets") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 68"], ["created_at", "2022-03-18 15:15:40.987390"], ["updated_at", "2022-03-18 15:15:40.987390"], ["account_id", 399], ["state", "active"], ["slug", "slug_7"], ["description", "Name 69"], ["secrets", "[{\"name\":\"string_404\",\"value\":\"string_405\"}]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 399], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 586], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 586], ["project_id", 378], ["role", "admin"], ["created_at", "2022-03-18 15:15:40.994136"], ["updated_at", "2022-03-18 15:15:40.994136"], ["invited_by_id", 586]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 399], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 587], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 587], ["project_id", 378], ["role", "developer"], ["created_at", "2022-03-18 15:15:41.000655"], ["updated_at", "2022-03-18 15:15:41.000655"], ["invited_by_id", 586]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 399], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 588], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 588], ["project_id", 378], ["role", "viewer"], ["created_at", "2022-03-18 15:15:41.006933"], ["updated_at", "2022-03-18 15:15:41.006933"], ["invited_by_id", 586]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 378], ["LIMIT", 1]]
Processing by UffizziCore::Api::Cli::V1::Projects::SecretsController#bulk_create as JSON
  Parameters: {"secrets"=>"[FILTERED]", "project_slug"=>"slug_7"}
  [1m[36mUffizziCore::User Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 586], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 586], ["slug", "slug_7"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 399], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 68"], ["id", 378], ["account_id", 399], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 68"], ["id", 378], ["account_id", 399], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."slug" = $1 AND "uffizzi_core_projects"."id" != $2 LIMIT $3[0m  [["slug", "slug_7"], ["id", 378], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Project::UpdateForm Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1, "secrets" = $2 WHERE "uffizzi_core_projects"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:41.042257"], ["secrets", "[{\"name\":\"string_404\",\"value\":\"string_405\"},{\"name\":\"string_406\",\"value\":\"string_407\"},{\"name\":\"string_408\",\"value\":\"string_409\"}]"], ["id", 378]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 378], ["kind", "main"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 201 Created in 24ms (Views: 1.3ms | ActiveRecord: 4.9ms | Allocations: 3873)
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 378], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::SecretsControllerTest: test_#bulk_create_check_update_secret_in_a_compose_if_it_has_errors_with_secrets
--------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user36@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 70"], ["last_name", "Name 71"], ["email", "user36@example.com"], ["password_digest", "$2a$04$azguwmzC5Fxg2L6U3kNkwOnvMuQp3tPotrsRmGnG9x8vbsHq4bZPG"], ["confirmation_token", "475e3133e603a4fdb31cfa5190ddc45d"], ["state", "initial"], ["phone", "string_410"], ["created_at", "2022-03-18 15:15:41.057331"], ["updated_at", "2022-03-18 15:15:41.062098"], ["github", "string_411"], ["website", "string_412"], ["twitter", "string_413"], ["linkedin", "string_414"], ["devto", "string_415"], ["facebook", "string_416"], ["blog", "string_417"], ["bio", "string_418"], ["status", "string_419"], ["availability", "string_420"], ["primary_skills", "string_421"], ["learning", "string_422"], ["coding_for", "string_423"], ["education", "string_424"], ["title", "string_425"], ["work", "string_426"], ["primary_location", "string_427"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "buckridge.white-schmeler.net"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 72"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:41.057331"], ["updated_at", "2022-03-18 15:15:41.070975"], ["state", "active"], ["domain", "buckridge.white-schmeler.net"], ["owner_id", 589], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "79796542898993b78c7762273d593714"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user36@example.com"], ["token", "79796542898993b78c7762273d593714"], ["status", "pending"], ["created_at", "2022-03-18 15:15:41.078251"], ["updated_at", "2022-03-18 15:15:41.078251"], ["invited_by_id", 589], ["entityable_id", 400], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 589], ["account_id", 400], ["role", "admin"], ["created_at", "2022-03-18 15:15:41.082922"], ["updated_at", "2022-03-18 15:15:41.082922"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 400]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "79796542898993b78c7762273d593714"], ["id", 582], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:41.092423"], ["invitee_id", 589], ["id", 582]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 589], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user37@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 73"], ["last_name", "Name 74"], ["email", "user37@example.com"], ["password_digest", "$2a$04$PaylV2Hpl1HCZfnG4iaWduEtjNjkfBbRd3fsCm684QXwoEFxo2t42"], ["confirmation_token", "5b5cc6675c712ad81d61b94593711992"], ["state", "initial"], ["phone", "string_428"], ["created_at", "2022-03-18 15:15:41.100612"], ["updated_at", "2022-03-18 15:15:41.105172"], ["github", "string_429"], ["website", "string_430"], ["twitter", "string_431"], ["linkedin", "string_432"], ["devto", "string_433"], ["facebook", "string_434"], ["blog", "string_435"], ["bio", "string_436"], ["status", "string_437"], ["availability", "string_438"], ["primary_skills", "string_439"], ["learning", "string_440"], ["coding_for", "string_441"], ["education", "string_442"], ["title", "string_443"], ["work", "string_444"], ["primary_location", "string_445"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 589], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "4ad040d08d0915ef1d166913bd399f63"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user38@example.com"], ["token", "4ad040d08d0915ef1d166913bd399f63"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:41.113759"], ["updated_at", "2022-03-18 15:15:41.113759"], ["invited_by_id", 589], ["entityable_id", 400], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 590]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 590], ["account_id", 400], ["role", "developer"], ["created_at", "2022-03-18 15:15:41.117014"], ["updated_at", "2022-03-18 15:15:41.117014"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user39@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 75"], ["last_name", "Name 76"], ["email", "user39@example.com"], ["password_digest", "$2a$04$ZlDYavkqARH.kp98y0MSMOWamwzXEeVQv8B6VMiU3RjySkj0sF.h6"], ["confirmation_token", "b74256a3fc988e675d9cf8376d5f6003"], ["state", "initial"], ["phone", "string_446"], ["created_at", "2022-03-18 15:15:41.121076"], ["updated_at", "2022-03-18 15:15:41.125144"], ["github", "string_447"], ["website", "string_448"], ["twitter", "string_449"], ["linkedin", "string_450"], ["devto", "string_451"], ["facebook", "string_452"], ["blog", "string_453"], ["bio", "string_454"], ["status", "string_455"], ["availability", "string_456"], ["primary_skills", "string_457"], ["learning", "string_458"], ["coding_for", "string_459"], ["education", "string_460"], ["title", "string_461"], ["work", "string_462"], ["primary_location", "string_463"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "3cfdc5bac6f2e25ae862b4487607938f"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user40@example.com"], ["token", "3cfdc5bac6f2e25ae862b4487607938f"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:41.132226"], ["updated_at", "2022-03-18 15:15:41.132226"], ["invited_by_id", 589], ["entityable_id", 400], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 591]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 591], ["account_id", 400], ["role", "viewer"], ["created_at", "2022-03-18 15:15:41.135619"], ["updated_at", "2022-03-18 15:15:41.135619"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 77"], ["account_id", 400], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description", "secrets") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 77"], ["created_at", "2022-03-18 15:15:41.142716"], ["updated_at", "2022-03-18 15:15:41.142716"], ["account_id", 400], ["state", "active"], ["slug", "slug_8"], ["description", "Name 78"], ["secrets", "[{\"name\":\"string_464\",\"value\":\"string_465\"}]"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 400], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 589], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 589], ["project_id", 379], ["role", "admin"], ["created_at", "2022-03-18 15:15:41.149447"], ["updated_at", "2022-03-18 15:15:41.149447"], ["invited_by_id", 589]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 400], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 590], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 590], ["project_id", 379], ["role", "developer"], ["created_at", "2022-03-18 15:15:41.155851"], ["updated_at", "2022-03-18 15:15:41.155851"], ["invited_by_id", 589]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 400], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 591], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 591], ["project_id", 379], ["role", "viewer"], ["created_at", "2022-03-18 15:15:41.162351"], ["updated_at", "2022-03-18 15:15:41.162351"], ["invited_by_id", 589]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 77"], ["id", 379], ["account_id", 400], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1, "secrets" = $2 WHERE "uffizzi_core_projects"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:41.169389"], ["secrets", nil], ["id", 379]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 379], ["project_id", 379], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 79"], ["project_id", 379], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "payload") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["source", "Name 79"], ["repository_id", 7], ["branch", "string_469"], ["path", "/volumes/directory-4"], ["auto_deploy", "disabled"], ["added_by_id", 589], ["project_id", 379], ["created_at", "2022-03-18 15:15:41.178241"], ["updated_at", "2022-03-18 15:15:41.178241"], ["state", "invalid_file"], ["payload", "{\"errors\":{\"secret_variables\":[\"string_468\"]}}"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 80"], ["project_id", 379], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 80"], ["added_by_id", 589], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-4\",\"tag\":\"string_470\",\"variables\":null,\"secret_variables\":[{\"name\":\"string_466\",\"value\":\"\"}],\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":8}]}"], ["project_id", 379], ["created_at", "2022-03-18 15:15:41.186525"], ["updated_at", "2022-03-18 15:15:41.186525"], ["compose_file_id", 179], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:41.188954"], ["id", 379]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::SecretsController#bulk_create as JSON
  Parameters: {"secrets"=>"[FILTERED]", "project_slug"=>"slug_8"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 589], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 589], ["slug", "slug_8"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 400], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 77"], ["id", 379], ["account_id", 400], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 77"], ["id", 379], ["account_id", 400], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."slug" = $1 AND "uffizzi_core_projects"."id" != $2 LIMIT $3[0m  [["slug", "slug_8"], ["id", 379], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Project::UpdateForm Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1, "secrets" = $2 WHERE "uffizzi_core_projects"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:41.206943"], ["secrets", "[{\"name\":\"string_466\",\"value\":\"string_467\"}]"], ["id", 379]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 379], ["kind", "main"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 179], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 589], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."id" != $2 AND "uffizzi_core_templates"."project_id" = $3 LIMIT $4[0m  [["name", "Name 80"], ["id", 298], ["project_id", 379], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_templates" SET "payload" = $1, "updated_at" = $2 WHERE "uffizzi_core_templates"."id" = $3[0m  [["payload", "{\"containers_attributes\":[{\"tag\":\"string_470\",\"port\":8,\"repo\":null,\"image\":\"namespace/name-4\",\"public\":true,\"command\":null,\"variables\":null,\"entrypoint\":null,\"secret_variables\":[{\"name\":\"string_466\",\"value\":\"string_467\"}],\"continuously_deploy\":\"disabled\",\"receive_incoming_requests\":true}]}"], ["updated_at", "2022-03-18 15:15:41.220575"], ["id", 298]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:41.222767"], ["id", 379]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."id" != $2 AND "uffizzi_core_compose_files"."project_id" = $3 LIMIT $4[0m  [["project_id", 379], ["id", 179], ["project_id", 379], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."id" != $2 AND "uffizzi_core_compose_files"."project_id" = $3 LIMIT $4[0m  [["source", "Name 79"], ["id", 179], ["project_id", 379], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_compose_files" SET "updated_at" = $1, "payload" = $2 WHERE "uffizzi_core_compose_files"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:41.230694"], ["payload", "{\"errors\":{}}"], ["id", 179]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."id" != $2 AND "uffizzi_core_compose_files"."project_id" = $3 LIMIT $4[0m  [["project_id", 379], ["id", 179], ["project_id", 379], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."id" != $2 AND "uffizzi_core_compose_files"."project_id" = $3 LIMIT $4[0m  [["source", "Name 79"], ["id", 179], ["project_id", 379], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_compose_files" SET "updated_at" = $1, "state" = $2 WHERE "uffizzi_core_compose_files"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:41.239641"], ["state", "valid_file"], ["id", 179]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 201 Created in 50ms (Views: 1.1ms | ActiveRecord: 10.4ms | Allocations: 8642)
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 179], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::SecretsControllerTest: test_#destroy_if_a_secret_doesn't_exist
---------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user41@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 81"], ["last_name", "Name 82"], ["email", "user41@example.com"], ["password_digest", "$2a$04$.dbgAdBJqBqKOsQ2gZYCMezapjU84jEKVP9YWQ3ehFVbpV4mJNeLS"], ["confirmation_token", "46c3e85aa60ea4d92e2f6725ae616bbd"], ["state", "initial"], ["phone", "string_471"], ["created_at", "2022-03-18 15:15:41.280100"], ["updated_at", "2022-03-18 15:15:41.286562"], ["github", "string_472"], ["website", "string_473"], ["twitter", "string_474"], ["linkedin", "string_475"], ["devto", "string_476"], ["facebook", "string_477"], ["blog", "string_478"], ["bio", "string_479"], ["status", "string_480"], ["availability", "string_481"], ["primary_skills", "string_482"], ["learning", "string_483"], ["coding_for", "string_484"], ["education", "string_485"], ["title", "string_486"], ["work", "string_487"], ["primary_location", "string_488"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "jacobson.flatley-hintz.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 83"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:41.280100"], ["updated_at", "2022-03-18 15:15:41.297330"], ["state", "active"], ["domain", "jacobson.flatley-hintz.co"], ["owner_id", 592], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "49441e343dca95945a4dec014c4df8a9"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user41@example.com"], ["token", "49441e343dca95945a4dec014c4df8a9"], ["status", "pending"], ["created_at", "2022-03-18 15:15:41.305599"], ["updated_at", "2022-03-18 15:15:41.305599"], ["invited_by_id", 592], ["entityable_id", 401], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 592], ["account_id", 401], ["role", "admin"], ["created_at", "2022-03-18 15:15:41.310358"], ["updated_at", "2022-03-18 15:15:41.310358"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 401]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "49441e343dca95945a4dec014c4df8a9"], ["id", 585], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:41.320831"], ["invitee_id", 592], ["id", 585]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 592], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user42@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 84"], ["last_name", "Name 85"], ["email", "user42@example.com"], ["password_digest", "$2a$04$d.6QBSjnA8v8umw0Qz.3wuqoPeQJaFmfAACsLpO4/YuV2j/6QiQr2"], ["confirmation_token", "93bc9743cab16bff99b1b775bce893c7"], ["state", "initial"], ["phone", "string_489"], ["created_at", "2022-03-18 15:15:41.327742"], ["updated_at", "2022-03-18 15:15:41.332499"], ["github", "string_490"], ["website", "string_491"], ["twitter", "string_492"], ["linkedin", "string_493"], ["devto", "string_494"], ["facebook", "string_495"], ["blog", "string_496"], ["bio", "string_497"], ["status", "string_498"], ["availability", "string_499"], ["primary_skills", "string_500"], ["learning", "string_501"], ["coding_for", "string_502"], ["education", "string_503"], ["title", "string_504"], ["work", "string_505"], ["primary_location", "string_506"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 592], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "7ad36e4f4b2b1d401d83bc21dcc502c0"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user43@example.com"], ["token", "7ad36e4f4b2b1d401d83bc21dcc502c0"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:41.343794"], ["updated_at", "2022-03-18 15:15:41.343794"], ["invited_by_id", 592], ["entityable_id", 401], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 593]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 593], ["account_id", 401], ["role", "developer"], ["created_at", "2022-03-18 15:15:41.348085"], ["updated_at", "2022-03-18 15:15:41.348085"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user44@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 86"], ["last_name", "Name 87"], ["email", "user44@example.com"], ["password_digest", "$2a$04$8U9sldVOPw1AKjML.CcoPeZXZ62KDJDgi5UOQKqqPQPIvCEAoqfmq"], ["confirmation_token", "780a1c3c8e01ea7df83db893b0b2ab30"], ["state", "initial"], ["phone", "string_507"], ["created_at", "2022-03-18 15:15:41.352752"], ["updated_at", "2022-03-18 15:15:41.356951"], ["github", "string_508"], ["website", "string_509"], ["twitter", "string_510"], ["linkedin", "string_511"], ["devto", "string_512"], ["facebook", "string_513"], ["blog", "string_514"], ["bio", "string_515"], ["status", "string_516"], ["availability", "string_517"], ["primary_skills", "string_518"], ["learning", "string_519"], ["coding_for", "string_520"], ["education", "string_521"], ["title", "string_522"], ["work", "string_523"], ["primary_location", "string_524"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "24f3a4835c5f59bf70aa967ee8859552"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user45@example.com"], ["token", "24f3a4835c5f59bf70aa967ee8859552"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:41.364570"], ["updated_at", "2022-03-18 15:15:41.364570"], ["invited_by_id", 592], ["entityable_id", 401], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 594]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 594], ["account_id", 401], ["role", "viewer"], ["created_at", "2022-03-18 15:15:41.368043"], ["updated_at", "2022-03-18 15:15:41.368043"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 88"], ["account_id", 401], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description", "secrets") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 88"], ["created_at", "2022-03-18 15:15:41.375897"], ["updated_at", "2022-03-18 15:15:41.375897"], ["account_id", 401], ["state", "active"], ["slug", "slug_9"], ["description", "Name 89"], ["secrets", "[{\"name\":\"string_525\",\"value\":\"string_526\"}]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 401], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 592], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 592], ["project_id", 380], ["role", "admin"], ["created_at", "2022-03-18 15:15:41.382280"], ["updated_at", "2022-03-18 15:15:41.382280"], ["invited_by_id", 592]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 401], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 593], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 593], ["project_id", 380], ["role", "developer"], ["created_at", "2022-03-18 15:15:41.389397"], ["updated_at", "2022-03-18 15:15:41.389397"], ["invited_by_id", 592]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 401], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 594], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 594], ["project_id", 380], ["role", "viewer"], ["created_at", "2022-03-18 15:15:41.395810"], ["updated_at", "2022-03-18 15:15:41.395810"], ["invited_by_id", 592]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" ORDER BY "uffizzi_core_projects"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Processing by UffizziCore::Api::Cli::V1::Projects::SecretsController#destroy as JSON
  Parameters: {"project_slug"=>"slug_9", "id"=>"string_527"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 592], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 592], ["slug", "slug_9"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 401], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 88"], ["id", 380], ["account_id", 401], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.74ms)
Completed 422 Unprocessable Entity in 10ms (Views: 1.9ms | ActiveRecord: 1.4ms | Allocations: 2879)
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" ORDER BY "uffizzi_core_projects"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::SecretsControllerTest: test_#bulk_create_check_update_secret_in_a_compose_if_it_has_invalid_secrets
----------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user46@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 90"], ["last_name", "Name 91"], ["email", "user46@example.com"], ["password_digest", "$2a$04$9ZkdibYUPPf4HnJlWZLGkugtEspcLz.kWiRqJUmCUJNDurrCK6R6G"], ["confirmation_token", "5859b137311773c77963d2e443195d14"], ["state", "initial"], ["phone", "string_528"], ["created_at", "2022-03-18 15:15:41.422503"], ["updated_at", "2022-03-18 15:15:41.426837"], ["github", "string_529"], ["website", "string_530"], ["twitter", "string_531"], ["linkedin", "string_532"], ["devto", "string_533"], ["facebook", "string_534"], ["blog", "string_535"], ["bio", "string_536"], ["status", "string_537"], ["availability", "string_538"], ["primary_skills", "string_539"], ["learning", "string_540"], ["coding_for", "string_541"], ["education", "string_542"], ["title", "string_543"], ["work", "string_544"], ["primary_location", "string_545"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "white.stokes-wolf.biz"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 92"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:41.422503"], ["updated_at", "2022-03-18 15:15:41.434763"], ["state", "active"], ["domain", "white.stokes-wolf.biz"], ["owner_id", 595], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "183d9dce787dc739850b6ef18a9ca658"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user46@example.com"], ["token", "183d9dce787dc739850b6ef18a9ca658"], ["status", "pending"], ["created_at", "2022-03-18 15:15:41.441876"], ["updated_at", "2022-03-18 15:15:41.441876"], ["invited_by_id", 595], ["entityable_id", 402], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 595], ["account_id", 402], ["role", "admin"], ["created_at", "2022-03-18 15:15:41.447220"], ["updated_at", "2022-03-18 15:15:41.447220"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 402]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "183d9dce787dc739850b6ef18a9ca658"], ["id", 588], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:41.456227"], ["invitee_id", 595], ["id", 588]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 595], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user47@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 93"], ["last_name", "Name 94"], ["email", "user47@example.com"], ["password_digest", "$2a$04$2QQMdpZiUQNEWky49C5OQ.91yzFoZ4IV1puHBj136XsI7Mc6smahK"], ["confirmation_token", "31479e68a9aa57378349726436211995"], ["state", "initial"], ["phone", "string_546"], ["created_at", "2022-03-18 15:15:41.462956"], ["updated_at", "2022-03-18 15:15:41.467826"], ["github", "string_547"], ["website", "string_548"], ["twitter", "string_549"], ["linkedin", "string_550"], ["devto", "string_551"], ["facebook", "string_552"], ["blog", "string_553"], ["bio", "string_554"], ["status", "string_555"], ["availability", "string_556"], ["primary_skills", "string_557"], ["learning", "string_558"], ["coding_for", "string_559"], ["education", "string_560"], ["title", "string_561"], ["work", "string_562"], ["primary_location", "string_563"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 595], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "ab4a4e7136d2ddb7eea379953dc15e41"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user48@example.com"], ["token", "ab4a4e7136d2ddb7eea379953dc15e41"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:41.478853"], ["updated_at", "2022-03-18 15:15:41.478853"], ["invited_by_id", 595], ["entityable_id", 402], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 596]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 596], ["account_id", 402], ["role", "developer"], ["created_at", "2022-03-18 15:15:41.483018"], ["updated_at", "2022-03-18 15:15:41.483018"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user49@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 95"], ["last_name", "Name 96"], ["email", "user49@example.com"], ["password_digest", "$2a$04$7Bo6VcPnTNgS681pdbiEpu4yxAs2tUCTbvyorJlzRWmdD0E1yAEoW"], ["confirmation_token", "d46bc218745e77580ad5eeac006dc64d"], ["state", "initial"], ["phone", "string_564"], ["created_at", "2022-03-18 15:15:41.487525"], ["updated_at", "2022-03-18 15:15:41.491736"], ["github", "string_565"], ["website", "string_566"], ["twitter", "string_567"], ["linkedin", "string_568"], ["devto", "string_569"], ["facebook", "string_570"], ["blog", "string_571"], ["bio", "string_572"], ["status", "string_573"], ["availability", "string_574"], ["primary_skills", "string_575"], ["learning", "string_576"], ["coding_for", "string_577"], ["education", "string_578"], ["title", "string_579"], ["work", "string_580"], ["primary_location", "string_581"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "b5f5386abbf34ac52695d96a00a22de9"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user50@example.com"], ["token", "b5f5386abbf34ac52695d96a00a22de9"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:41.498565"], ["updated_at", "2022-03-18 15:15:41.498565"], ["invited_by_id", 595], ["entityable_id", 402], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 597]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 597], ["account_id", 402], ["role", "viewer"], ["created_at", "2022-03-18 15:15:41.502717"], ["updated_at", "2022-03-18 15:15:41.502717"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 97"], ["account_id", 402], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description", "secrets") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 97"], ["created_at", "2022-03-18 15:15:41.510007"], ["updated_at", "2022-03-18 15:15:41.510007"], ["account_id", 402], ["state", "active"], ["slug", "slug_10"], ["description", "Name 98"], ["secrets", "[{\"name\":\"string_582\",\"value\":\"string_583\"}]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 402], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 595], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 595], ["project_id", 381], ["role", "admin"], ["created_at", "2022-03-18 15:15:41.516164"], ["updated_at", "2022-03-18 15:15:41.516164"], ["invited_by_id", 595]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 402], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 596], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 596], ["project_id", 381], ["role", "developer"], ["created_at", "2022-03-18 15:15:41.522461"], ["updated_at", "2022-03-18 15:15:41.522461"], ["invited_by_id", 595]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 402], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 597], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 597], ["project_id", 381], ["role", "viewer"], ["created_at", "2022-03-18 15:15:41.529247"], ["updated_at", "2022-03-18 15:15:41.529247"], ["invited_by_id", 595]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 381], ["project_id", 381], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 99"], ["project_id", 381], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "payload") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["source", "Name 99"], ["repository_id", 9], ["branch", "string_589"], ["path", "/volumes/directory-5"], ["auto_deploy", "disabled"], ["added_by_id", 595], ["project_id", 381], ["created_at", "2022-03-18 15:15:41.538058"], ["updated_at", "2022-03-18 15:15:41.538058"], ["state", "invalid_file"], ["payload", "{\"errors\":{\"secret_variables\":[\"string_588\"]}}"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 100"], ["project_id", 381], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 100"], ["added_by_id", 595], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-5\",\"tag\":\"string_590\",\"variables\":null,\"secret_variables\":[{\"name\":\"string_584\",\"value\":\"\"},{\"name\":\"string_586\",\"value\":\"string_587\"}],\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":10}]}"], ["project_id", 381], ["created_at", "2022-03-18 15:15:41.545637"], ["updated_at", "2022-03-18 15:15:41.545637"], ["compose_file_id", 180], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:41.547873"], ["id", 381]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::SecretsController#bulk_create as JSON
  Parameters: {"secrets"=>"[FILTERED]", "project_slug"=>"slug_10"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 595], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 595], ["slug", "slug_10"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 402], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 97"], ["id", 381], ["account_id", 402], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."id" != $2 AND "uffizzi_core_projects"."account_id" = $3 LIMIT $4[0m  [["name", "Name 97"], ["id", 381], ["account_id", 402], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."slug" = $1 AND "uffizzi_core_projects"."id" != $2 LIMIT $3[0m  [["slug", "slug_10"], ["id", 381], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Project::UpdateForm Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1, "secrets" = $2 WHERE "uffizzi_core_projects"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:41.564939"], ["secrets", "[{\"name\":\"string_582\",\"value\":\"string_583\"},{\"name\":\"string_584\",\"value\":\"string_585\"}]"], ["id", 381]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 381], ["kind", "main"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 180], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 595], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 381], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."id" != $2 AND "uffizzi_core_templates"."project_id" = $3 LIMIT $4[0m  [["name", "Name 100"], ["id", 299], ["project_id", 381], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_templates" SET "payload" = $1, "updated_at" = $2 WHERE "uffizzi_core_templates"."id" = $3[0m  [["payload", "{\"containers_attributes\":[{\"tag\":\"string_590\",\"port\":10,\"repo\":null,\"image\":\"namespace/name-5\",\"public\":true,\"command\":null,\"variables\":null,\"entrypoint\":null,\"secret_variables\":[{\"name\":\"string_584\",\"value\":\"string_585\"},{\"name\":\"string_586\",\"value\":\"string_587\"}],\"continuously_deploy\":\"disabled\",\"receive_incoming_requests\":true}]}"], ["updated_at", "2022-03-18 15:15:41.578624"], ["id", 299]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:41.580926"], ["id", 381]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 201 Created in 33ms (Views: 1.0ms | ActiveRecord: 7.0ms | Allocations: 6439)
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 381], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 180], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#create_if_a_compose_file_is_invalid
----------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user51@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 101"], ["last_name", "Name 102"], ["email", "user51@example.com"], ["password_digest", "$2a$04$eVATA/sMewIiguo0dDCtIeJmoYkMKEGSe2j08BnY0q5uecj.n741e"], ["confirmation_token", "d0a6506381928a5d05a1a28173bd2400"], ["state", "initial"], ["phone", "string_591"], ["created_at", "2022-03-18 15:15:41.599573"], ["updated_at", "2022-03-18 15:15:41.604236"], ["github", "string_592"], ["website", "string_593"], ["twitter", "string_594"], ["linkedin", "string_595"], ["devto", "string_596"], ["facebook", "string_597"], ["blog", "string_598"], ["bio", "string_599"], ["status", "string_600"], ["availability", "string_601"], ["primary_skills", "string_602"], ["learning", "string_603"], ["coding_for", "string_604"], ["education", "string_605"], ["title", "string_606"], ["work", "string_607"], ["primary_location", "string_608"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "russel-spinka.hermiston-blick.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 103"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:41.599573"], ["updated_at", "2022-03-18 15:15:41.615770"], ["state", "active"], ["domain", "russel-spinka.hermiston-blick.com"], ["owner_id", 598], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "58d3546b9c97bf52d74a4955d9c27854"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user51@example.com"], ["token", "58d3546b9c97bf52d74a4955d9c27854"], ["status", "pending"], ["created_at", "2022-03-18 15:15:41.623158"], ["updated_at", "2022-03-18 15:15:41.623158"], ["invited_by_id", 598], ["entityable_id", 403], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 598], ["account_id", 403], ["role", "admin"], ["created_at", "2022-03-18 15:15:41.627075"], ["updated_at", "2022-03-18 15:15:41.627075"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 403]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "58d3546b9c97bf52d74a4955d9c27854"], ["id", 591], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:41.636004"], ["invitee_id", 598], ["id", 591]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 598], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user52@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 104"], ["last_name", "Name 105"], ["email", "user52@example.com"], ["password_digest", "$2a$04$mj8KAblsAg7YmCtE.qcvG.OfCdbA6YLEjfeUW8TFh2ZeQxkpmmm1q"], ["confirmation_token", "90160ed1eab0bf301d6b5611692faf42"], ["state", "initial"], ["phone", "string_609"], ["created_at", "2022-03-18 15:15:41.642282"], ["updated_at", "2022-03-18 15:15:41.647377"], ["github", "string_610"], ["website", "string_611"], ["twitter", "string_612"], ["linkedin", "string_613"], ["devto", "string_614"], ["facebook", "string_615"], ["blog", "string_616"], ["bio", "string_617"], ["status", "string_618"], ["availability", "string_619"], ["primary_skills", "string_620"], ["learning", "string_621"], ["coding_for", "string_622"], ["education", "string_623"], ["title", "string_624"], ["work", "string_625"], ["primary_location", "string_626"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 598], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "065e98655a408e7fc76965378adbcf3f"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user53@example.com"], ["token", "065e98655a408e7fc76965378adbcf3f"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:41.657156"], ["updated_at", "2022-03-18 15:15:41.657156"], ["invited_by_id", 598], ["entityable_id", 403], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 599]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 599], ["account_id", 403], ["role", "developer"], ["created_at", "2022-03-18 15:15:41.660852"], ["updated_at", "2022-03-18 15:15:41.660852"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user54@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 106"], ["last_name", "Name 107"], ["email", "user54@example.com"], ["password_digest", "$2a$04$NnRcS563L3qcslm09R8iBuACVCc0lzNjqOhiGBKITpPMIzq4V7lGS"], ["confirmation_token", "5afee8aa7d1c852194e9e91a9e5aed6b"], ["state", "initial"], ["phone", "string_627"], ["created_at", "2022-03-18 15:15:41.665626"], ["updated_at", "2022-03-18 15:15:41.669989"], ["github", "string_628"], ["website", "string_629"], ["twitter", "string_630"], ["linkedin", "string_631"], ["devto", "string_632"], ["facebook", "string_633"], ["blog", "string_634"], ["bio", "string_635"], ["status", "string_636"], ["availability", "string_637"], ["primary_skills", "string_638"], ["learning", "string_639"], ["coding_for", "string_640"], ["education", "string_641"], ["title", "string_642"], ["work", "string_643"], ["primary_location", "string_644"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "2fee93b6edec01704c32d6b8fdd38234"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user55@example.com"], ["token", "2fee93b6edec01704c32d6b8fdd38234"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:41.677520"], ["updated_at", "2022-03-18 15:15:41.677520"], ["invited_by_id", 598], ["entityable_id", 403], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 600]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 600], ["account_id", 403], ["role", "viewer"], ["created_at", "2022-03-18 15:15:41.681257"], ["updated_at", "2022-03-18 15:15:41.681257"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 108"], ["account_id", 403], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 108"], ["created_at", "2022-03-18 15:15:41.688672"], ["updated_at", "2022-03-18 15:15:41.688672"], ["account_id", 403], ["state", "active"], ["slug", "slug_11"], ["description", "Name 109"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 403], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 598], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 598], ["project_id", 382], ["role", "admin"], ["created_at", "2022-03-18 15:15:41.695101"], ["updated_at", "2022-03-18 15:15:41.695101"], ["invited_by_id", 598]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 403], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 599], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 599], ["project_id", 382], ["role", "developer"], ["created_at", "2022-03-18 15:15:41.701527"], ["updated_at", "2022-03-18 15:15:41.701527"], ["invited_by_id", 598]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 403], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 600], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 600], ["project_id", 382], ["role", "viewer"], ["created_at", "2022-03-18 15:15:41.708059"], ["updated_at", "2022-03-18 15:15:41.708059"], ["invited_by_id", 598]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 382], ["project_id", 382], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 110"], ["project_id", 382], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 110"], ["repository_id", 11], ["branch", "string_645"], ["path", "/volumes/directory-6"], ["auto_deploy", "disabled"], ["added_by_id", 598], ["project_id", 382], ["created_at", "2022-03-18 15:15:41.716842"], ["updated_at", "2022-03-18 15:15:41.716842"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.8ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_648"], ["password", "Password1String-34"], ["created_at", "2022-03-18 15:15:41.744871"], ["updated_at", "2022-03-18 15:15:41.744871"], ["provider_ref", "14"], ["account_id", 403], ["state", "active"], ["registry_url", "http://url1.com"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 112"], ["project_id", 382], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 112"], ["added_by_id", 598], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-6\",\"tag\":\"string_646\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":13,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-6\",\"tag\":\"string_647\",\"slug\":\"slug_12\",\"branch\":\"string_646\",\"description\":\"Name 111\",\"repository_id\":12,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 382], ["created_at", "2022-03-18 15:15:41.755530"], ["updated_at", "2022-03-18 15:15:41.755530"], ["compose_file_id", 181], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:41.758828"], ["id", 382]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update All (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "template_id" = $1 WHERE "uffizzi_core_deployments"."template_id" = $2[0m  [["template_id", nil], ["template_id", 300]]
  [1m[36mUffizziCore::Template Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."id" = $1[0m  [["id", 300]]
  [1m[36mUffizziCore::ConfigFile Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."compose_file_id" = $1[0m  [["compose_file_id", 181]]
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "compose_file_id" = $1 WHERE "uffizzi_core_deployments"."compose_file_id" = $2[0m  [["compose_file_id", nil], ["compose_file_id", 181]]
  [1m[36mUffizziCore::ComposeFile Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1[0m  [["id", 181]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:41.770536"], ["id", 382]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#create as JSON
  Parameters: {"compose_file"=>{"content"=>"c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDoKICAgICAgY29u\ndGV4dDogaHR0cHM6Ly9naXRodWIuY29tLzdSNDFOMzMvaGVsbG8td29ybGQj\nbWFzdGVyCiAgICBlbnZfZmlsZToKICAgIGVudmlyb25tZW50OgogICAgICAt\nID0xMjMKICAgICAgLSBURVNUX0VOVl8yPTEyMwoKaW5ncmVzczoKICBzZXJ2\naWNlOiBoZWxsby13b3JsZAogIHBvcnQ6IDgwCg==\n", "path"=>"/volumes/directory-7", "repository_id"=>"", "source"=>"Name 113"}, "project_slug"=>"slug_11"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 598], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 598], ["slug", "slug_11"], ["LIMIT", 1]]
[31mUnpermitted parameters: :compose_file, :project_slug, :format[0m
  [1m[36mUffizziCore::ComposeFile Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 382], ["kind", "main"], ["LIMIT", 1]]
[31mUnpermitted parameter: :repository_id[0m
  [1m[36mUffizziCore::Account Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 403], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" DESC LIMIT $3[0m  [["account_id", 403], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 422 Unprocessable Entity in 53ms (Views: 1.2ms | ActiveRecord: 2.3ms | Allocations: 16085)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#create_-_check_vote-app-github_creation
--------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user56@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 114"], ["last_name", "Name 115"], ["email", "user56@example.com"], ["password_digest", "$2a$04$1iysaGgzxP0EwQPdQMHXMO5H43g/nLLrozFgn28/xMgpUnTnGrQm2"], ["confirmation_token", "dbbebde1cb622893cc8552bbf2038cd3"], ["state", "initial"], ["phone", "string_650"], ["created_at", "2022-03-18 15:15:41.847849"], ["updated_at", "2022-03-18 15:15:41.855945"], ["github", "string_651"], ["website", "string_652"], ["twitter", "string_653"], ["linkedin", "string_654"], ["devto", "string_655"], ["facebook", "string_656"], ["blog", "string_657"], ["bio", "string_658"], ["status", "string_659"], ["availability", "string_660"], ["primary_skills", "string_661"], ["learning", "string_662"], ["coding_for", "string_663"], ["education", "string_664"], ["title", "string_665"], ["work", "string_666"], ["primary_location", "string_667"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "sanford.osinski.info"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 116"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:41.847849"], ["updated_at", "2022-03-18 15:15:41.869199"], ["state", "active"], ["domain", "sanford.osinski.info"], ["owner_id", 601], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (3.9ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "f8290c31e265937d27afc5e392ef9a80"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user56@example.com"], ["token", "f8290c31e265937d27afc5e392ef9a80"], ["status", "pending"], ["created_at", "2022-03-18 15:15:41.879386"], ["updated_at", "2022-03-18 15:15:41.879386"], ["invited_by_id", 601], ["entityable_id", 404], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 601], ["account_id", 404], ["role", "admin"], ["created_at", "2022-03-18 15:15:41.883023"], ["updated_at", "2022-03-18 15:15:41.883023"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 404]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "f8290c31e265937d27afc5e392ef9a80"], ["id", 594], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:41.893389"], ["invitee_id", 601], ["id", 594]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 601], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user57@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 117"], ["last_name", "Name 118"], ["email", "user57@example.com"], ["password_digest", "$2a$04$orSWzcQhHh9HBqtr2pShPup3RkyERxfX0X/Rk3sbDLlD/XhQJvICC"], ["confirmation_token", "a4444d07fb2c3458ce41682df2cdb9a1"], ["state", "initial"], ["phone", "string_668"], ["created_at", "2022-03-18 15:15:41.900063"], ["updated_at", "2022-03-18 15:15:41.905163"], ["github", "string_669"], ["website", "string_670"], ["twitter", "string_671"], ["linkedin", "string_672"], ["devto", "string_673"], ["facebook", "string_674"], ["blog", "string_675"], ["bio", "string_676"], ["status", "string_677"], ["availability", "string_678"], ["primary_skills", "string_679"], ["learning", "string_680"], ["coding_for", "string_681"], ["education", "string_682"], ["title", "string_683"], ["work", "string_684"], ["primary_location", "string_685"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 601], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "4ca232963a25a75786b2a46b4e1c8ee5"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user58@example.com"], ["token", "4ca232963a25a75786b2a46b4e1c8ee5"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:41.914916"], ["updated_at", "2022-03-18 15:15:41.914916"], ["invited_by_id", 601], ["entityable_id", 404], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 602]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 602], ["account_id", 404], ["role", "developer"], ["created_at", "2022-03-18 15:15:41.918579"], ["updated_at", "2022-03-18 15:15:41.918579"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user59@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 119"], ["last_name", "Name 120"], ["email", "user59@example.com"], ["password_digest", "$2a$04$ZVjz.R52t1RFEuGOF5y0c.ZYq7P1iDn3b6HtwusT0c3lvwCYN58Ty"], ["confirmation_token", "a77df1cfdd6c89bf9c49ef343dfad5e4"], ["state", "initial"], ["phone", "string_686"], ["created_at", "2022-03-18 15:15:41.927460"], ["updated_at", "2022-03-18 15:15:41.931766"], ["github", "string_687"], ["website", "string_688"], ["twitter", "string_689"], ["linkedin", "string_690"], ["devto", "string_691"], ["facebook", "string_692"], ["blog", "string_693"], ["bio", "string_694"], ["status", "string_695"], ["availability", "string_696"], ["primary_skills", "string_697"], ["learning", "string_698"], ["coding_for", "string_699"], ["education", "string_700"], ["title", "string_701"], ["work", "string_702"], ["primary_location", "string_703"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "09f53bbb407e0d09b135c1f94357a639"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user60@example.com"], ["token", "09f53bbb407e0d09b135c1f94357a639"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:41.939223"], ["updated_at", "2022-03-18 15:15:41.939223"], ["invited_by_id", 601], ["entityable_id", 404], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 603]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 603], ["account_id", 404], ["role", "viewer"], ["created_at", "2022-03-18 15:15:41.942745"], ["updated_at", "2022-03-18 15:15:41.942745"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 121"], ["account_id", 404], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 121"], ["created_at", "2022-03-18 15:15:41.949789"], ["updated_at", "2022-03-18 15:15:41.949789"], ["account_id", 404], ["state", "active"], ["slug", "slug_13"], ["description", "Name 122"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 404], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 601], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 601], ["project_id", 383], ["role", "admin"], ["created_at", "2022-03-18 15:15:41.955508"], ["updated_at", "2022-03-18 15:15:41.955508"], ["invited_by_id", 601]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 404], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 602], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 602], ["project_id", 383], ["role", "developer"], ["created_at", "2022-03-18 15:15:41.961995"], ["updated_at", "2022-03-18 15:15:41.961995"], ["invited_by_id", 601]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 404], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 603], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 603], ["project_id", 383], ["role", "viewer"], ["created_at", "2022-03-18 15:15:41.968090"], ["updated_at", "2022-03-18 15:15:41.968090"], ["invited_by_id", 601]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 383], ["project_id", 383], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 123"], ["project_id", 383], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 123"], ["repository_id", 16], ["branch", "string_704"], ["path", "/volumes/directory-8"], ["auto_deploy", "disabled"], ["added_by_id", 601], ["project_id", 383], ["created_at", "2022-03-18 15:15:41.976721"], ["updated_at", "2022-03-18 15:15:41.976721"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (2.0ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_707"], ["password", "Password1String-38"], ["created_at", "2022-03-18 15:15:41.982558"], ["updated_at", "2022-03-18 15:15:41.982558"], ["provider_ref", "19"], ["account_id", 404], ["state", "active"], ["registry_url", "http://url2.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 125"], ["project_id", 383], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 125"], ["added_by_id", 601], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-7\",\"tag\":\"string_705\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":18,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-7\",\"tag\":\"string_706\",\"slug\":\"slug_14\",\"branch\":\"string_705\",\"description\":\"Name 124\",\"repository_id\":17,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 383], ["created_at", "2022-03-18 15:15:41.991920"], ["updated_at", "2022-03-18 15:15:41.991920"], ["compose_file_id", 182], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:41.995174"], ["id", 383]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_708"], ["password", "Password1String-39"], ["created_at", "2022-03-18 15:15:41.998840"], ["updated_at", "2022-03-18 15:15:41.998840"], ["provider_ref", "20"], ["account_id", 404], ["state", "not_connected"], ["registry_url", "http://url3.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::DockerHub Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::DockerHub"], ["username", "string_709"], ["password", "Password1String-40"], ["created_at", "2022-03-18 15:15:42.013077"], ["updated_at", "2022-03-18 15:15:42.013077"], ["account_id", 404], ["state", "not_connected"], ["registry_url", "http://url4.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "template_id" = $1 WHERE "uffizzi_core_deployments"."template_id" = $2[0m  [["template_id", nil], ["template_id", 301]]
  [1m[36mUffizziCore::Template Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."id" = $1[0m  [["id", 301]]
  [1m[36mUffizziCore::ConfigFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."compose_file_id" = $1[0m  [["compose_file_id", 182]]
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "compose_file_id" = $1 WHERE "uffizzi_core_deployments"."compose_file_id" = $2[0m  [["compose_file_id", nil], ["compose_file_id", 182]]
  [1m[36mUffizziCore::ComposeFile Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1[0m  [["id", 182]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:42.021488"], ["id", 383]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_config_files"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#create as JSON
  Parameters: {"compose_file"=>{"content"=>"c2VydmljZXM6CiAgcmVkaXM6CiAgICBpbWFnZTogcmVkaXM6bGF0ZXN0CgogIHBvc3RncmVzOgogICAgaW1hZ2U6IHBvc3RncmVzOjkuNgogICAgZW52X2ZpbGU6IC5lbnYKCiAgbmdpbng6CiAgICBpbWFnZTogbmdpbng6bGF0ZXN0CiAgICBjb25maWdzOgogICAgICAtIHNvdXJjZTogdm90ZV9jb25mCiAgICAgICAgdGFyZ2V0OiAvZXRjL25naW54L2NvbmYuZC9kZWZhdWx0LmNvbmYKCiAgd29ya2VyOgogICAgYnVpbGQ6CiAgICAgIGNvbnRleHQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9BQ0NPVU5UL2V4YW1wbGUtdm90aW5nLXdvcmtlcgogICAgZGVwbG95OgogICAgICByZXNvdXJjZXM6CiAgICAgICAgbGltaXRzOgogICAgICAgICAgbWVtb3J5OiAyNTBNCgogIHZvdGU6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvZXhhbXBsZS12b3Rpbmctdm90ZQoKICByZXN1bHQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvZXhhbXBsZS12b3RpbmctcmVzdWx0Cgpjb25maWdzOgogIHZvdGVfY29uZjoKICAgIGZpbGU6IC4vY29uZmlncy92b3RlLmNvbmYKCngtdWZmaXp6aS1jb250aW51b3VzLXByZXZpZXc6CiAgZGVwbG95X3ByZXZpZXdfd2hlbl9wdWxsX3JlcXVlc3RfaXNfb3BlbmVkOiB0cnVlCiAgZGVsZXRlX3ByZXZpZXdfd2hlbl9wdWxsX3JlcXVlc3RfaXNfY2xvc2VkOiB0cnVlCiAgc2hhcmVfdG9fZ2l0aHViOiB0cnVlCiAgZGVsZXRlX3ByZXZpZXdfYWZ0ZXI6IDEwaAoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogbmdpbngKICBwb3J0OiA4MDgwCg==\n", "path"=>"/volumes/directory-9", "source"=>"Name 126"}, "dependencies"=>[{"path"=>"configs/vote.conf", "source"=>"vote.conf", "content"=>"c2VydmVyIHsKICBsaXN0ZW4gICAgICAgODA4MDsKICBzZXJ2ZXJfbmFtZSAg\nZXhhbXBsZS5jb207CiAgbG9jYXRpb24gLyB7CiAgICBwcm94eV9wYXNzICAg\nICAgaHR0cDovLzEyNy4wLjAuMTo4MC87CiAgfQogIGxvY2F0aW9uIC92b3Rl\nLyB7CiAgICBwcm94eV9wYXNzICAgICAgaHR0cDovLzEyNy4wLjAuMTo4ODg4\nLzsKICB9Cn0K\n"}, {"path"=>".env", "source"=>".env", "content"=>"UE9TVEdSRVNfVVNFUj1wb3N0Z3JlcwpQT1NUR1JFU19QQVNTV09SRD1wb3N0\nZ3Jlcwo=\n"}], "project_slug"=>"slug_13"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 601], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 601], ["slug", "slug_13"], ["LIMIT", 1]]
[31mUnpermitted parameters: :compose_file, :project_slug, :format[0m
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 383], ["kind", "main"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 404], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" DESC LIMIT $3[0m  [["account_id", 404], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 383], ["project_id", 383], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 126"], ["project_id", 383], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 126"], ["project_id", 383], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::ComposeFile::CreateForm Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "payload", "content") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 126"], ["path", "/volumes/directory-9"], ["auto_deploy", "disabled"], ["added_by_id", 601], ["project_id", 383], ["created_at", "2022-03-18 15:15:42.192132"], ["updated_at", "2022-03-18 15:15:42.192132"], ["state", "valid_file"], ["payload", "{\"dependencies\":[{\"path\":\"configs/vote.conf\"},{\"path\":\".env\"}]}"], ["content", "c2VydmljZXM6CiAgcmVkaXM6CiAgICBpbWFnZTogcmVkaXM6bGF0ZXN0CgogIHBvc3RncmVzOgogICAgaW1hZ2U6IHBvc3RncmVzOjkuNgogICAgZW52X2ZpbGU6IC5lbnYKCiAgbmdpbng6CiAgICBpbWFnZTogbmdpbng6bGF0ZXN0CiAgICBjb25maWdzOgogICAgICAtIHNvdXJjZTogdm90ZV9jb25mCiAgICAgICAgdGFyZ2V0OiAvZXRjL25naW54L2NvbmYuZC9kZWZhdWx0LmNvbmYKCiAgd29ya2VyOgogICAgYnVpbGQ6CiAgICAgIGNvbnRleHQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9BQ0NPVU5UL2V4YW1wbGUtdm90aW5nLXdvcmtlcgogICAgZGVwbG95OgogICAgICByZXNvdXJjZXM6CiAgICAgICAgbGltaXRzOgogICAgICAgICAgbWVtb3J5OiAyNTBNCgogIHZvdGU6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvZXhhbXBsZS12b3Rpbmctdm90ZQoKICByZXN1bHQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvZXhhbXBsZS12b3RpbmctcmVzdWx0Cgpjb25maWdzOgogIHZvdGVfY29uZjoKICAgIGZpbGU6IC4vY29uZmlncy92b3RlLmNvbmYKCngtdWZmaXp6aS1jb250aW51b3VzLXByZXZpZXc6CiAgZGVwbG95X3ByZXZpZXdfd2hlbl9wdWxsX3JlcXVlc3RfaXNfb3BlbmVkOiB0cnVlCiAgZGVsZXRlX3ByZXZpZXdfd2hlbl9wdWxsX3JlcXVlc3RfaXNfY2xvc2VkOiB0cnVlCiAgc2hhcmVfdG9fZ2l0aHViOiB0cnVlCiAgZGVsZXRlX3ByZXZpZXdfYWZ0ZXI6IDEwaAoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogbmdpbngKICBwb3J0OiA4MDgwCg==\n"]]
  [1m[36mUffizziCore::ConfigFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."project_id" = $1 AND "uffizzi_core_config_files"."source" = $2 LIMIT $3[0m  [["project_id", 383], ["source", "directory-9/configs/vote.conf"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::ConfigFile::CreateForm Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_config_files" ("filename", "kind", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source", "source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["filename", "vote.conf"], ["kind", "config_map"], ["added_by_id", 601], ["payload", "server {\n  listen       8080;\n  server_name  example.com;\n  location / {\n    proxy_pass      http://127.0.0.1:80/;\n  }\n  location /vote/ {\n    proxy_pass      http://127.0.0.1:8888/;\n  }\n}\n"], ["project_id", 383], ["created_at", "2022-03-18 15:15:42.221524"], ["updated_at", "2022-03-18 15:15:42.221524"], ["compose_file_id", 183], ["creation_source", "compose_file"], ["source", "directory-9/configs/vote.conf"]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 404], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 404], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 404], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ConfigFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."project_id" = $1 AND "uffizzi_core_config_files"."creation_source" = $2 AND "uffizzi_core_config_files"."source" = $3[0m  [["project_id", 383], ["creation_source", "compose_file"], ["source", "directory-9/configs/vote.conf"]]
  [1m[36mUffizziCore::Credential Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 404], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 404], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 404], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 183], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."project_id" = $1 AND "uffizzi_core_templates"."name" = $2 LIMIT $3[0m  [["project_id", 383], ["name", "Name 126"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 126"], ["project_id", 383], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 126"], ["project_id", 383], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Template::CreateForm Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 126"], ["added_by_id", 601], ["payload", "{\"containers_attributes\":[{\"tag\":\"latest\",\"port\":null,\"image\":\"library/redis\",\"public\":false,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":null,\"name\":\"redis\",\"slug\":\"redis\",\"type\":\"UffizziCore::Repo::DockerHub\",\"branch\":null,\"namespace\":\"library\",\"is_private\":null,\"description\":\"\",\"repository_id\":null,\"dockerfile_path\":\"\",\"dockerfile_context_path\":null,\"deploy_preview_when_pull_request_is_opened\":true,\"delete_preview_when_pull_request_is_closed\":true,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":true,\"delete_preview_after\":10},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":false,\"container_config_files_attributes\":[]},{\"tag\":\"9.6\",\"port\":null,\"image\":\"library/postgres\",\"public\":false,\"entrypoint\":null,\"command\":null,\"variables\":[{\"name\":\"POSTGRES_USER\",\"value\":\"postgres\"},{\"name\":\"POSTGRES_PASSWORD\",\"value\":\"postgres\"}],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":null,\"name\":\"postgres\",\"slug\":\"postgres\",\"type\":\"UffizziCore::Repo::DockerHub\",\"branch\":null,\"namespace\":\"library\",\"is_private\":null,\"description\":\"\",\"repository_id\":null,\"dockerfile_path\":\"\",\"dockerfile_context_path\":null,\"deploy_preview_when_pull_request_is_opened\":true,\"delete_preview_when_pull_request_is_closed\":true,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":true,\"delete_preview_after\":10},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":false,\"container_config_files_attributes\":[]},{\"tag\":\"latest\",\"port\":8080,\"image\":\"library/nginx\",\"public\":true,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":null,\"name\":\"nginx\",\"slug\":\"nginx\",\"type\":\"UffizziCore::Repo::DockerHub\",\"branch\":null,\"namespace\":\"library\",\"is_private\":null,\"description\":\"\",\"repository_id\":null,\"dockerfile_path\":\"\",\"dockerfile_context_path\":null,\"deploy_preview_when_pull_request_is_opened\":true,\"delete_preview_when_pull_request_is_closed\":true,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":true,\"delete_preview_after\":10},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":true,\"container_config_files_attributes\":[{\"mount_path\":\"/etc/nginx/conf.d/default.conf\",\"config_file_id\":15}]},{\"tag\":\"master\",\"port\":null,\"image\":\"ACCOUNT/example-voting-worker\",\"public\":false,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":250,\"memory_request\":250,\"repo_attributes\":{\"kind\":\"dockerfile\",\"name\":\"example-voting-worker\",\"slug\":\"example-voting-worker\",\"type\":\"UffizziCore::Repo::Github\",\"branch\":\"master\",\"namespace\":\"ACCOUNT\",\"is_private\":null,\"description\":\"Example Docker Container, based upon `nginx`\",\"repository_id\":358291405,\"dockerfile_path\":\"Dockerfile\",\"dockerfile_context_path\":null,\"args\":[],\"deploy_preview_when_pull_request_is_opened\":true,\"delete_preview_when_pull_request_is_closed\":true,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":true,\"delete_preview_after\":10},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":false,\"container_config_files_attributes\":[]},{\"tag\":\"main\",\"port\":null,\"image\":\"ACCOUNT/example-voting-vote\",\"public\":false,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":\"dockerfile\",\"name\":\"example-voting-vote\",\"slug\":\"example-voting-vote\",\"type\":\"UffizziCore::Repo::Github\",\"branch\":\"main\",\"namespace\":\"ACCOUNT\",\"is_private\":null,\"description\":\"Python app to tally votes\",\"repository_id\":417420706,\"dockerfile_path\":\"Dockerfile\",\"dockerfile_context_path\":null,\"args\":[],\"deploy_preview_when_pull_request_is_opened\":true,\"delete_preview_when_pull_request_is_closed\":true,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":true,\"delete_preview_after\":10},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":false,\"container_config_files_attributes\":[]},{\"tag\":\"main\",\"port\":null,\"image\":\"ACCOUNT/example-voting-result\",\"public\":false,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":\"dockerfile\",\"name\":\"example-voting-result\",\"slug\":\"example-voting-result\",\"type\":\"UffizziCore::Repo::Github\",\"branch\":\"main\",\"namespace\":\"ACCOUNT\",\"is_private\":null,\"description\":\"Node.js Express app to display voting results\",\"repository_id\":392286402,\"dockerfile_path\":\"Dockerfile\",\"dockerfile_context_path\":null,\"args\":[],\"deploy_preview_when_pull_request_is_opened\":true,\"delete_preview_when_pull_request_is_closed\":true,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":true,\"delete_preview_after\":10},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":false,\"container_config_files_attributes\":[]}]}"], ["project_id", 383], ["created_at", "2022-03-18 15:15:42.388077"], ["updated_at", "2022-03-18 15:15:42.388077"], ["compose_file_id", 183], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:42.393171"], ["id", 383]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::ComposeFileSerializer with ActiveModelSerializers::Adapter::Json (18.74ms)
Completed 201 Created in 507ms (Views: 153.1ms | ActiveRecord: 12.4ms | Allocations: 75342)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_config_files"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#destroy_-_deletes_compose_file
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user61@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 127"], ["last_name", "Name 128"], ["email", "user61@example.com"], ["password_digest", "$2a$04$eZCz80J7ENqSaVbJN19tDu5c/N/2oIU6eAoBKE0LQqmWqUrTuwoI2"], ["confirmation_token", "beda5cfac966de07e547bbf22b58c1d0"], ["state", "initial"], ["phone", "string_711"], ["created_at", "2022-03-18 15:15:42.567356"], ["updated_at", "2022-03-18 15:15:42.572264"], ["github", "string_712"], ["website", "string_713"], ["twitter", "string_714"], ["linkedin", "string_715"], ["devto", "string_716"], ["facebook", "string_717"], ["blog", "string_718"], ["bio", "string_719"], ["status", "string_720"], ["availability", "string_721"], ["primary_skills", "string_722"], ["learning", "string_723"], ["coding_for", "string_724"], ["education", "string_725"], ["title", "string_726"], ["work", "string_727"], ["primary_location", "string_728"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "schinner.jones.net"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 129"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:42.567356"], ["updated_at", "2022-03-18 15:15:42.583750"], ["state", "active"], ["domain", "schinner.jones.net"], ["owner_id", 604], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "4bdf15e3012a3fcec994ad19c7ea228a"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user61@example.com"], ["token", "4bdf15e3012a3fcec994ad19c7ea228a"], ["status", "pending"], ["created_at", "2022-03-18 15:15:42.590566"], ["updated_at", "2022-03-18 15:15:42.590566"], ["invited_by_id", 604], ["entityable_id", 405], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 604], ["account_id", 405], ["role", "admin"], ["created_at", "2022-03-18 15:15:42.594487"], ["updated_at", "2022-03-18 15:15:42.594487"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 405]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "4bdf15e3012a3fcec994ad19c7ea228a"], ["id", 597], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:42.603671"], ["invitee_id", 604], ["id", 597]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 604], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user62@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 130"], ["last_name", "Name 131"], ["email", "user62@example.com"], ["password_digest", "$2a$04$eduVA9ofxJxO9jxTS5ycoO6IlKo/5N6Z5sm7nI971PrEAUvIpzdMW"], ["confirmation_token", "220e4c9c8e0809e2f1a49abfc02d8e51"], ["state", "initial"], ["phone", "string_729"], ["created_at", "2022-03-18 15:15:42.609942"], ["updated_at", "2022-03-18 15:15:42.615805"], ["github", "string_730"], ["website", "string_731"], ["twitter", "string_732"], ["linkedin", "string_733"], ["devto", "string_734"], ["facebook", "string_735"], ["blog", "string_736"], ["bio", "string_737"], ["status", "string_738"], ["availability", "string_739"], ["primary_skills", "string_740"], ["learning", "string_741"], ["coding_for", "string_742"], ["education", "string_743"], ["title", "string_744"], ["work", "string_745"], ["primary_location", "string_746"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 604], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "4d9530eeac2df536c1b0ed9b4ff85c4c"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user63@example.com"], ["token", "4d9530eeac2df536c1b0ed9b4ff85c4c"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:42.625252"], ["updated_at", "2022-03-18 15:15:42.625252"], ["invited_by_id", 604], ["entityable_id", 405], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 605]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 605], ["account_id", 405], ["role", "developer"], ["created_at", "2022-03-18 15:15:42.629055"], ["updated_at", "2022-03-18 15:15:42.629055"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user64@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 132"], ["last_name", "Name 133"], ["email", "user64@example.com"], ["password_digest", "$2a$04$SS0Fo5JfXExFOKVjLbK/3Oato8Ol.zD6ooHg.eETsfxOlfyEZRS.."], ["confirmation_token", "3568352228300a98b4a37b51788af8cb"], ["state", "initial"], ["phone", "string_747"], ["created_at", "2022-03-18 15:15:42.633892"], ["updated_at", "2022-03-18 15:15:42.638323"], ["github", "string_748"], ["website", "string_749"], ["twitter", "string_750"], ["linkedin", "string_751"], ["devto", "string_752"], ["facebook", "string_753"], ["blog", "string_754"], ["bio", "string_755"], ["status", "string_756"], ["availability", "string_757"], ["primary_skills", "string_758"], ["learning", "string_759"], ["coding_for", "string_760"], ["education", "string_761"], ["title", "string_762"], ["work", "string_763"], ["primary_location", "string_764"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "d82e52296dc93834246a9102062578be"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user65@example.com"], ["token", "d82e52296dc93834246a9102062578be"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:42.646221"], ["updated_at", "2022-03-18 15:15:42.646221"], ["invited_by_id", 604], ["entityable_id", 405], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 606]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 606], ["account_id", 405], ["role", "viewer"], ["created_at", "2022-03-18 15:15:42.650059"], ["updated_at", "2022-03-18 15:15:42.650059"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 134"], ["account_id", 405], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 134"], ["created_at", "2022-03-18 15:15:42.657897"], ["updated_at", "2022-03-18 15:15:42.657897"], ["account_id", 405], ["state", "active"], ["slug", "slug_15"], ["description", "Name 135"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 405], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 604], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 604], ["project_id", 384], ["role", "admin"], ["created_at", "2022-03-18 15:15:42.663999"], ["updated_at", "2022-03-18 15:15:42.663999"], ["invited_by_id", 604]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 405], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 605], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 605], ["project_id", 384], ["role", "developer"], ["created_at", "2022-03-18 15:15:42.671501"], ["updated_at", "2022-03-18 15:15:42.671501"], ["invited_by_id", 604]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 405], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 606], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 606], ["project_id", 384], ["role", "viewer"], ["created_at", "2022-03-18 15:15:42.677749"], ["updated_at", "2022-03-18 15:15:42.677749"], ["invited_by_id", 604]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 384], ["project_id", 384], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 136"], ["project_id", 384], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 136"], ["repository_id", 22], ["branch", "string_765"], ["path", "/volumes/directory-10"], ["auto_deploy", "disabled"], ["added_by_id", 604], ["project_id", 384], ["created_at", "2022-03-18 15:15:42.686708"], ["updated_at", "2022-03-18 15:15:42.686708"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_768"], ["password", "Password1String-44"], ["created_at", "2022-03-18 15:15:42.692794"], ["updated_at", "2022-03-18 15:15:42.692794"], ["provider_ref", "25"], ["account_id", 405], ["state", "active"], ["registry_url", "http://url5.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 138"], ["project_id", 384], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 138"], ["added_by_id", 604], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-8\",\"tag\":\"string_766\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":24,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-8\",\"tag\":\"string_767\",\"slug\":\"slug_16\",\"branch\":\"string_766\",\"description\":\"Name 137\",\"repository_id\":23,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 384], ["created_at", "2022-03-18 15:15:42.701170"], ["updated_at", "2022-03-18 15:15:42.701170"], ["compose_file_id", 184], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:42.703723"], ["id", 384]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#destroy as JSON
  Parameters: {"project_slug"=>"slug_15"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 604], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 604], ["slug", "slug_15"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 384], ["kind", "main"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 184], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "template_id" = $1 WHERE "uffizzi_core_deployments"."template_id" = $2[0m  [["template_id", nil], ["template_id", 303]]
  [1m[36mUffizziCore::Template Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."id" = $1[0m  [["id", 303]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 384], ["LIMIT", 1]]
  [1m[36mUffizziCore::ConfigFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."compose_file_id" = $1[0m  [["compose_file_id", 184]]
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "compose_file_id" = $1 WHERE "uffizzi_core_deployments"."compose_file_id" = $2[0m  [["compose_file_id", nil], ["compose_file_id", 184]]
  [1m[36mUffizziCore::ComposeFile Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1[0m  [["id", 184]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:42.725531"], ["id", 384]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 21ms (ActiveRecord: 5.0ms | Allocations: 3161)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#show_-_developer_gets_compose_file
---------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user66@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 139"], ["last_name", "Name 140"], ["email", "user66@example.com"], ["password_digest", "$2a$04$fadmIa0/ghqTZ6L03Ov9O.X1cub3g6rByFFuYWe1T0OSH8xhIeCqK"], ["confirmation_token", "e26a577743c79e602058a5e49d108c94"], ["state", "initial"], ["phone", "string_769"], ["created_at", "2022-03-18 15:15:42.742017"], ["updated_at", "2022-03-18 15:15:42.746724"], ["github", "string_770"], ["website", "string_771"], ["twitter", "string_772"], ["linkedin", "string_773"], ["devto", "string_774"], ["facebook", "string_775"], ["blog", "string_776"], ["bio", "string_777"], ["status", "string_778"], ["availability", "string_779"], ["primary_skills", "string_780"], ["learning", "string_781"], ["coding_for", "string_782"], ["education", "string_783"], ["title", "string_784"], ["work", "string_785"], ["primary_location", "string_786"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "daugherty.bruen.net"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 141"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:42.742017"], ["updated_at", "2022-03-18 15:15:42.755362"], ["state", "active"], ["domain", "daugherty.bruen.net"], ["owner_id", 607], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "106ca97a5273380d844bec11199fafb6"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user66@example.com"], ["token", "106ca97a5273380d844bec11199fafb6"], ["status", "pending"], ["created_at", "2022-03-18 15:15:42.761973"], ["updated_at", "2022-03-18 15:15:42.761973"], ["invited_by_id", 607], ["entityable_id", 406], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 607], ["account_id", 406], ["role", "admin"], ["created_at", "2022-03-18 15:15:42.765700"], ["updated_at", "2022-03-18 15:15:42.765700"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 406]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "106ca97a5273380d844bec11199fafb6"], ["id", 600], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:42.774399"], ["invitee_id", 607], ["id", 600]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 607], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user67@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 142"], ["last_name", "Name 143"], ["email", "user67@example.com"], ["password_digest", "$2a$04$oVVcY23hGwvub6fU9Qay/ecqNCQnIU10H/u.BS5OhaLih6b5JF9Ea"], ["confirmation_token", "54108265de3fa1f1fb7942276b094384"], ["state", "initial"], ["phone", "string_787"], ["created_at", "2022-03-18 15:15:42.781500"], ["updated_at", "2022-03-18 15:15:42.786921"], ["github", "string_788"], ["website", "string_789"], ["twitter", "string_790"], ["linkedin", "string_791"], ["devto", "string_792"], ["facebook", "string_793"], ["blog", "string_794"], ["bio", "string_795"], ["status", "string_796"], ["availability", "string_797"], ["primary_skills", "string_798"], ["learning", "string_799"], ["coding_for", "string_800"], ["education", "string_801"], ["title", "string_802"], ["work", "string_803"], ["primary_location", "string_804"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 607], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "d448490799ff65e3d666a1e5b4f004a7"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user68@example.com"], ["token", "d448490799ff65e3d666a1e5b4f004a7"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:42.796420"], ["updated_at", "2022-03-18 15:15:42.796420"], ["invited_by_id", 607], ["entityable_id", 406], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 608]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 608], ["account_id", 406], ["role", "developer"], ["created_at", "2022-03-18 15:15:42.800382"], ["updated_at", "2022-03-18 15:15:42.800382"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user69@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 144"], ["last_name", "Name 145"], ["email", "user69@example.com"], ["password_digest", "$2a$04$TJQPHPfHs7fNWxboP3GCzem3/hKWHuNL4Oz6CpTyuN7MCnvJDVLAm"], ["confirmation_token", "1cf18777bea94ecaf343b43a3a9d7779"], ["state", "initial"], ["phone", "string_805"], ["created_at", "2022-03-18 15:15:42.804896"], ["updated_at", "2022-03-18 15:15:42.809268"], ["github", "string_806"], ["website", "string_807"], ["twitter", "string_808"], ["linkedin", "string_809"], ["devto", "string_810"], ["facebook", "string_811"], ["blog", "string_812"], ["bio", "string_813"], ["status", "string_814"], ["availability", "string_815"], ["primary_skills", "string_816"], ["learning", "string_817"], ["coding_for", "string_818"], ["education", "string_819"], ["title", "string_820"], ["work", "string_821"], ["primary_location", "string_822"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "b8630e9a672e5a16f84fb3c112e3bfc2"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user70@example.com"], ["token", "b8630e9a672e5a16f84fb3c112e3bfc2"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:42.816865"], ["updated_at", "2022-03-18 15:15:42.816865"], ["invited_by_id", 607], ["entityable_id", 406], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 609]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 609], ["account_id", 406], ["role", "viewer"], ["created_at", "2022-03-18 15:15:42.820585"], ["updated_at", "2022-03-18 15:15:42.820585"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 146"], ["account_id", 406], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 146"], ["created_at", "2022-03-18 15:15:42.828360"], ["updated_at", "2022-03-18 15:15:42.828360"], ["account_id", 406], ["state", "active"], ["slug", "slug_17"], ["description", "Name 147"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 406], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 607], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 607], ["project_id", 385], ["role", "admin"], ["created_at", "2022-03-18 15:15:42.834433"], ["updated_at", "2022-03-18 15:15:42.834433"], ["invited_by_id", 607]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 406], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 608], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 608], ["project_id", 385], ["role", "developer"], ["created_at", "2022-03-18 15:15:42.841411"], ["updated_at", "2022-03-18 15:15:42.841411"], ["invited_by_id", 607]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 406], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 609], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 609], ["project_id", 385], ["role", "viewer"], ["created_at", "2022-03-18 15:15:42.847718"], ["updated_at", "2022-03-18 15:15:42.847718"], ["invited_by_id", 607]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 385], ["project_id", 385], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 148"], ["project_id", 385], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 148"], ["repository_id", 26], ["branch", "string_823"], ["path", "/volumes/directory-11"], ["auto_deploy", "disabled"], ["added_by_id", 607], ["project_id", 385], ["created_at", "2022-03-18 15:15:42.856504"], ["updated_at", "2022-03-18 15:15:42.856504"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_826"], ["password", "Password1String-48"], ["created_at", "2022-03-18 15:15:42.862581"], ["updated_at", "2022-03-18 15:15:42.862581"], ["provider_ref", "29"], ["account_id", 406], ["state", "active"], ["registry_url", "http://url6.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 150"], ["project_id", 385], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 150"], ["added_by_id", 607], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-9\",\"tag\":\"string_824\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":28,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-9\",\"tag\":\"string_825\",\"slug\":\"slug_18\",\"branch\":\"string_824\",\"description\":\"Name 149\",\"repository_id\":27,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 385], ["created_at", "2022-03-18 15:15:42.870753"], ["updated_at", "2022-03-18 15:15:42.870753"], ["compose_file_id", 185], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:42.873295"], ["id", 385]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#show as JSON
  Parameters: {"project_slug"=>"slug_17"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 608], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 608], ["slug", "slug_17"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 385], ["kind", "main"], ["LIMIT", 1]]
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::ComposeFileSerializer with ActiveModelSerializers::Adapter::Json (0.29ms)
Completed 200 OK in 12ms (Views: 1.4ms | ActiveRecord: 1.1ms | Allocations: 3295)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#create_-_docker_compose_file
---------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user71@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 151"], ["last_name", "Name 152"], ["email", "user71@example.com"], ["password_digest", "$2a$04$eP0s2i0iCIgMn8tMBUurGOUeHxxy80qv6ktkX1TODXi3zQzEhkAmG"], ["confirmation_token", "ce946031ccb6ecefc261b5ef5265e43c"], ["state", "initial"], ["phone", "string_827"], ["created_at", "2022-03-18 15:15:42.896747"], ["updated_at", "2022-03-18 15:15:42.902371"], ["github", "string_828"], ["website", "string_829"], ["twitter", "string_830"], ["linkedin", "string_831"], ["devto", "string_832"], ["facebook", "string_833"], ["blog", "string_834"], ["bio", "string_835"], ["status", "string_836"], ["availability", "string_837"], ["primary_skills", "string_838"], ["learning", "string_839"], ["coding_for", "string_840"], ["education", "string_841"], ["title", "string_842"], ["work", "string_843"], ["primary_location", "string_844"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "ohara.kutch.info"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 153"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:42.896747"], ["updated_at", "2022-03-18 15:15:42.910510"], ["state", "active"], ["domain", "ohara.kutch.info"], ["owner_id", 610], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "90019991102eb4243e6ec7a07c135baa"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user71@example.com"], ["token", "90019991102eb4243e6ec7a07c135baa"], ["status", "pending"], ["created_at", "2022-03-18 15:15:42.917217"], ["updated_at", "2022-03-18 15:15:42.917217"], ["invited_by_id", 610], ["entityable_id", 407], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 610], ["account_id", 407], ["role", "admin"], ["created_at", "2022-03-18 15:15:42.920975"], ["updated_at", "2022-03-18 15:15:42.920975"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 407]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "90019991102eb4243e6ec7a07c135baa"], ["id", 603], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:42.930416"], ["invitee_id", 610], ["id", 603]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 610], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user72@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 154"], ["last_name", "Name 155"], ["email", "user72@example.com"], ["password_digest", "$2a$04$ej9ScjqDjxpsksJOYDfM4upVFQM0OT.9dSaRZYY5/4QmaOD5vbqjO"], ["confirmation_token", "b8245725e0c19324c57b57632e9174fd"], ["state", "initial"], ["phone", "string_845"], ["created_at", "2022-03-18 15:15:42.936400"], ["updated_at", "2022-03-18 15:15:42.940933"], ["github", "string_846"], ["website", "string_847"], ["twitter", "string_848"], ["linkedin", "string_849"], ["devto", "string_850"], ["facebook", "string_851"], ["blog", "string_852"], ["bio", "string_853"], ["status", "string_854"], ["availability", "string_855"], ["primary_skills", "string_856"], ["learning", "string_857"], ["coding_for", "string_858"], ["education", "string_859"], ["title", "string_860"], ["work", "string_861"], ["primary_location", "string_862"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 610], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "3b3c7ba0a37310b0d0ee4e106cacd009"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user73@example.com"], ["token", "3b3c7ba0a37310b0d0ee4e106cacd009"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:42.950867"], ["updated_at", "2022-03-18 15:15:42.950867"], ["invited_by_id", 610], ["entityable_id", 407], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 611]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 611], ["account_id", 407], ["role", "developer"], ["created_at", "2022-03-18 15:15:42.955182"], ["updated_at", "2022-03-18 15:15:42.955182"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user74@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 156"], ["last_name", "Name 157"], ["email", "user74@example.com"], ["password_digest", "$2a$04$IUBy3EPlT.0KoRWL.udsYuhOJx5SG2Fy/S.T2E4z9iIhdzLRuwUJq"], ["confirmation_token", "1b87a7d2f76fa0ca6a80fc7615515e7d"], ["state", "initial"], ["phone", "string_863"], ["created_at", "2022-03-18 15:15:42.959573"], ["updated_at", "2022-03-18 15:15:42.964099"], ["github", "string_864"], ["website", "string_865"], ["twitter", "string_866"], ["linkedin", "string_867"], ["devto", "string_868"], ["facebook", "string_869"], ["blog", "string_870"], ["bio", "string_871"], ["status", "string_872"], ["availability", "string_873"], ["primary_skills", "string_874"], ["learning", "string_875"], ["coding_for", "string_876"], ["education", "string_877"], ["title", "string_878"], ["work", "string_879"], ["primary_location", "string_880"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "05f83e1634603c1432a499bdc49a6e31"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user75@example.com"], ["token", "05f83e1634603c1432a499bdc49a6e31"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:42.970964"], ["updated_at", "2022-03-18 15:15:42.970964"], ["invited_by_id", 610], ["entityable_id", 407], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 612]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 612], ["account_id", 407], ["role", "viewer"], ["created_at", "2022-03-18 15:15:42.974727"], ["updated_at", "2022-03-18 15:15:42.974727"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 158"], ["account_id", 407], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 158"], ["created_at", "2022-03-18 15:15:42.982331"], ["updated_at", "2022-03-18 15:15:42.982331"], ["account_id", 407], ["state", "active"], ["slug", "slug_19"], ["description", "Name 159"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 407], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 610], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 610], ["project_id", 386], ["role", "admin"], ["created_at", "2022-03-18 15:15:42.988493"], ["updated_at", "2022-03-18 15:15:42.988493"], ["invited_by_id", 610]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 407], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 611], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 611], ["project_id", 386], ["role", "developer"], ["created_at", "2022-03-18 15:15:42.994842"], ["updated_at", "2022-03-18 15:15:42.994842"], ["invited_by_id", 610]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 407], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 612], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 612], ["project_id", 386], ["role", "viewer"], ["created_at", "2022-03-18 15:15:43.001174"], ["updated_at", "2022-03-18 15:15:43.001174"], ["invited_by_id", 610]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 386], ["project_id", 386], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 160"], ["project_id", 386], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 160"], ["repository_id", 30], ["branch", "string_881"], ["path", "/volumes/directory-12"], ["auto_deploy", "disabled"], ["added_by_id", 610], ["project_id", 386], ["created_at", "2022-03-18 15:15:43.010352"], ["updated_at", "2022-03-18 15:15:43.010352"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_884"], ["password", "Password1String-52"], ["created_at", "2022-03-18 15:15:43.016060"], ["updated_at", "2022-03-18 15:15:43.016060"], ["provider_ref", "33"], ["account_id", 407], ["state", "active"], ["registry_url", "http://url7.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 162"], ["project_id", 386], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 162"], ["added_by_id", 610], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-10\",\"tag\":\"string_882\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":32,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-10\",\"tag\":\"string_883\",\"slug\":\"slug_20\",\"branch\":\"string_882\",\"description\":\"Name 161\",\"repository_id\":31,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 386], ["created_at", "2022-03-18 15:15:43.023654"], ["updated_at", "2022-03-18 15:15:43.023654"], ["compose_file_id", 186], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:43.026247"], ["id", 386]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "template_id" = $1 WHERE "uffizzi_core_deployments"."template_id" = $2[0m  [["template_id", nil], ["template_id", 305]]
  [1m[36mUffizziCore::Template Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."id" = $1[0m  [["id", 305]]
  [1m[36mUffizziCore::ConfigFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."compose_file_id" = $1[0m  [["compose_file_id", 186]]
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "compose_file_id" = $1 WHERE "uffizzi_core_deployments"."compose_file_id" = $2[0m  [["compose_file_id", nil], ["compose_file_id", 186]]
  [1m[36mUffizziCore::ComposeFile Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1[0m  [["id", 186]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:43.033346"], ["id", 386]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::DockerHub Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::DockerHub"], ["username", "string_885"], ["password", "Password1String-53"], ["created_at", "2022-03-18 15:15:43.041352"], ["updated_at", "2022-03-18 15:15:43.041352"], ["account_id", 407], ["state", "active"], ["registry_url", "http://url8.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "main"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#create as JSON
  Parameters: {"compose_file"=>{"content"=>"c2VydmljZXM6CiAgcmVkaXM6CiAgICBpbWFnZTogcmVkaXM6bGF0ZXN0Cgog\nIHBvc3RncmVzOgogICAgaW1hZ2U6IHBvc3RncmVzOjkuNgogICAgZW52aXJv\nbm1lbnQ6CiAgICAgIFBPU1RHUkVTX1VTRVI6IHBvc3RncmVzCiAgICAgIFBP\nU1RHUkVTX1BBU1NXT1JEOiBwb3N0Z3JlcwoKICBuZ2lueDoKICAgIGltYWdl\nOiBuZ2lueDpsYXRlc3QKICAgIGNvbmZpZ3M6CiAgICAgIC0gc291cmNlOiB2\nb3RlX2NvbmYKICAgICAgICB0YXJnZXQ6IC9ldGMvbmdpbngvY29uZi5kCiAg\nICBlbnRyeXBvaW50OiAvdXNyL3NiaW4vbmdpbngtZGVidWcKICAgIGNvbW1h\nbmQ6IAogICAgICAtICItZyIKICAgICAgLSAiZGFlbW9uIG9mZjsiCgogIHdv\ncmtlcjoKICAgIGltYWdlOiB1ZmZpenppY2xvdWQvZXhhbXBsZS13b3JrZXI6\nbGF0ZXN0CiAgICBkZXBsb3k6CiAgICAgIHJlc291cmNlczoKICAgICAgICBs\naW1pdHM6CiAgICAgICAgICBtZW1vcnk6IDI1ME0KCiAgdm90ZToKICAgIGlt\nYWdlOiB1ZmZpenppY2xvdWQvZXhhbXBsZS12b3RlOmxhdGVzdAoKICByZXN1\nbHQ6CiAgICBpbWFnZTogdWZmaXp6aWNsb3VkL2V4YW1wbGUtcmVzdWx0Omxh\ndGVzdAoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogbmdpbngKICBw\nb3J0OiA4MDgwCgpjb25maWdzOgogIHZvdGVfY29uZjoKICAgIGZpbGU6IGNv\nbmZpZ3Mvdm90ZS5jb25mCiAgZGVmYXVsZl9jb25mOgogICAgZmlsZTogY29u\nZmlnX2ZpbGVzL2NvbmZpZ19maWxlLmNvbmYK\n", "path"=>"/volumes/directory-13", "repository_id"=>"", "source"=>"Name 163"}, "dependencies"=>[{"path"=>"configs/vote.conf", "source"=>"vote.conf", "content"=>"c2VydmVyIHsKICBsaXN0ZW4gICAgICAgODA4MDsKICBzZXJ2ZXJfbmFtZSAg\nZXhhbXBsZS5jb207CiAgbG9jYXRpb24gLyB7CiAgICBwcm94eV9wYXNzICAg\nICAgaHR0cDovLzEyNy4wLjAuMTo4MC87CiAgfQogIGxvY2F0aW9uIC92b3Rl\nLyB7CiAgICBwcm94eV9wYXNzICAgICAgaHR0cDovLzEyNy4wLjAuMTo4ODg4\nLzsKICB9Cn0K\n"}], "project_slug"=>"slug_19"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 610], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 610], ["slug", "slug_19"], ["LIMIT", 1]]
[31mUnpermitted parameters: :compose_file, :project_slug, :format[0m
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 386], ["kind", "main"], ["LIMIT", 1]]
[31mUnpermitted parameter: :repository_id[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 407], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" DESC LIMIT $3[0m  [["account_id", 407], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 386], ["project_id", 386], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 163"], ["project_id", 386], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 163"], ["project_id", 386], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::ComposeFile::CreateForm Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "payload", "content") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 163"], ["path", "/volumes/directory-13"], ["auto_deploy", "disabled"], ["added_by_id", 610], ["project_id", 386], ["created_at", "2022-03-18 15:15:43.087357"], ["updated_at", "2022-03-18 15:15:43.087357"], ["state", "valid_file"], ["payload", "{\"dependencies\":[{\"path\":\"configs/vote.conf\"}]}"], ["content", "c2VydmljZXM6CiAgcmVkaXM6CiAgICBpbWFnZTogcmVkaXM6bGF0ZXN0Cgog\nIHBvc3RncmVzOgogICAgaW1hZ2U6IHBvc3RncmVzOjkuNgogICAgZW52aXJv\nbm1lbnQ6CiAgICAgIFBPU1RHUkVTX1VTRVI6IHBvc3RncmVzCiAgICAgIFBP\nU1RHUkVTX1BBU1NXT1JEOiBwb3N0Z3JlcwoKICBuZ2lueDoKICAgIGltYWdl\nOiBuZ2lueDpsYXRlc3QKICAgIGNvbmZpZ3M6CiAgICAgIC0gc291cmNlOiB2\nb3RlX2NvbmYKICAgICAgICB0YXJnZXQ6IC9ldGMvbmdpbngvY29uZi5kCiAg\nICBlbnRyeXBvaW50OiAvdXNyL3NiaW4vbmdpbngtZGVidWcKICAgIGNvbW1h\nbmQ6IAogICAgICAtICItZyIKICAgICAgLSAiZGFlbW9uIG9mZjsiCgogIHdv\ncmtlcjoKICAgIGltYWdlOiB1ZmZpenppY2xvdWQvZXhhbXBsZS13b3JrZXI6\nbGF0ZXN0CiAgICBkZXBsb3k6CiAgICAgIHJlc291cmNlczoKICAgICAgICBs\naW1pdHM6CiAgICAgICAgICBtZW1vcnk6IDI1ME0KCiAgdm90ZToKICAgIGlt\nYWdlOiB1ZmZpenppY2xvdWQvZXhhbXBsZS12b3RlOmxhdGVzdAoKICByZXN1\nbHQ6CiAgICBpbWFnZTogdWZmaXp6aWNsb3VkL2V4YW1wbGUtcmVzdWx0Omxh\ndGVzdAoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogbmdpbngKICBw\nb3J0OiA4MDgwCgpjb25maWdzOgogIHZvdGVfY29uZjoKICAgIGZpbGU6IGNv\nbmZpZ3Mvdm90ZS5jb25mCiAgZGVmYXVsZl9jb25mOgogICAgZmlsZTogY29u\nZmlnX2ZpbGVzL2NvbmZpZ19maWxlLmNvbmYK\n"]]
  [1m[36mUffizziCore::ConfigFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."project_id" = $1 AND "uffizzi_core_config_files"."source" = $2 LIMIT $3[0m  [["project_id", 386], ["source", "directory-13/configs/vote.conf"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::ConfigFile::CreateForm Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_config_files" ("filename", "kind", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source", "source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["filename", "vote.conf"], ["kind", "config_map"], ["added_by_id", 610], ["payload", "server {\n  listen       8080;\n  server_name  example.com;\n  location / {\n    proxy_pass      http://127.0.0.1:80/;\n  }\n  location /vote/ {\n    proxy_pass      http://127.0.0.1:8888/;\n  }\n}\n"], ["project_id", 386], ["created_at", "2022-03-18 15:15:43.092535"], ["updated_at", "2022-03-18 15:15:43.092535"], ["compose_file_id", 187], ["creation_source", "compose_file"], ["source", "directory-13/configs/vote.conf"]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 407], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 407], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 407], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ConfigFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."project_id" = $1 AND "uffizzi_core_config_files"."creation_source" = $2 AND "uffizzi_core_config_files"."source" = $3[0m  [["project_id", 386], ["creation_source", "compose_file"], ["source", "directory-13/configs/vote.conf"]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 407], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 407], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 407], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 187], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."project_id" = $1 AND "uffizzi_core_templates"."name" = $2 LIMIT $3[0m  [["project_id", 386], ["name", "Name 163"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 163"], ["project_id", 386], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 163"], ["project_id", 386], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Template::CreateForm Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 163"], ["added_by_id", 610], ["payload", "{\"containers_attributes\":[{\"tag\":\"latest\",\"port\":null,\"image\":\"library/redis\",\"public\":false,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":null,\"name\":\"redis\",\"slug\":\"redis\",\"type\":\"UffizziCore::Repo::DockerHub\",\"branch\":null,\"namespace\":\"library\",\"is_private\":null,\"description\":\"\",\"repository_id\":null,\"dockerfile_path\":\"\",\"dockerfile_context_path\":null,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":false,\"delete_preview_after\":null},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":false,\"container_config_files_attributes\":[]},{\"tag\":\"9.6\",\"port\":null,\"image\":\"library/postgres\",\"public\":false,\"entrypoint\":null,\"command\":null,\"variables\":[{\"name\":\"POSTGRES_USER\",\"value\":\"postgres\"},{\"name\":\"POSTGRES_PASSWORD\",\"value\":\"postgres\"}],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":null,\"name\":\"postgres\",\"slug\":\"postgres\",\"type\":\"UffizziCore::Repo::DockerHub\",\"branch\":null,\"namespace\":\"library\",\"is_private\":null,\"description\":\"\",\"repository_id\":null,\"dockerfile_path\":\"\",\"dockerfile_context_path\":null,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":false,\"delete_preview_after\":null},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":false,\"container_config_files_attributes\":[]},{\"tag\":\"latest\",\"port\":8080,\"image\":\"library/nginx\",\"public\":true,\"entrypoint\":\"[\\\"/usr/sbin/nginx-debug\\\"]\",\"command\":\"[\\\"-g\\\", \\\"daemon off;\\\"]\",\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":null,\"name\":\"nginx\",\"slug\":\"nginx\",\"type\":\"UffizziCore::Repo::DockerHub\",\"branch\":null,\"namespace\":\"library\",\"is_private\":null,\"description\":\"\",\"repository_id\":null,\"dockerfile_path\":\"\",\"dockerfile_context_path\":null,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":false,\"delete_preview_after\":null},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":true,\"container_config_files_attributes\":[{\"mount_path\":\"/etc/nginx/conf.d\",\"config_file_id\":16}]},{\"tag\":\"latest\",\"port\":null,\"image\":\"uffizzicloud/example-worker\",\"public\":false,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":250,\"memory_request\":250,\"repo_attributes\":{\"kind\":null,\"name\":\"example-worker\",\"slug\":\"example-worker\",\"type\":\"UffizziCore::Repo::DockerHub\",\"branch\":null,\"namespace\":\"uffizzicloud\",\"is_private\":null,\"description\":\"\",\"repository_id\":null,\"dockerfile_path\":\"\",\"dockerfile_context_path\":null,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":false,\"delete_preview_after\":null},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":false,\"container_config_files_attributes\":[]},{\"tag\":\"latest\",\"port\":null,\"image\":\"uffizzicloud/example-vote\",\"public\":false,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":null,\"name\":\"example-vote\",\"slug\":\"example-vote\",\"type\":\"UffizziCore::Repo::DockerHub\",\"branch\":null,\"namespace\":\"uffizzicloud\",\"is_private\":null,\"description\":\"\",\"repository_id\":null,\"dockerfile_path\":\"\",\"dockerfile_context_path\":null,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":false,\"delete_preview_after\":null},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":false,\"container_config_files_attributes\":[]},{\"tag\":\"latest\",\"port\":null,\"image\":\"uffizzicloud/example-result\",\"public\":false,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":null,\"name\":\"example-result\",\"slug\":\"example-result\",\"type\":\"UffizziCore::Repo::DockerHub\",\"branch\":null,\"namespace\":\"uffizzicloud\",\"is_private\":null,\"description\":\"\",\"repository_id\":null,\"dockerfile_path\":\"\",\"dockerfile_context_path\":null,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":false,\"delete_preview_after\":null},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":false,\"container_config_files_attributes\":[]}]}"], ["project_id", 386], ["created_at", "2022-03-18 15:15:43.116146"], ["updated_at", "2022-03-18 15:15:43.116146"], ["compose_file_id", 187], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:43.121127"], ["id", 386]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::ComposeFileSerializer with ActiveModelSerializers::Adapter::Json (0.32ms)
Completed 201 Created in 64ms (Views: 1.4ms | ActiveRecord: 9.5ms | Allocations: 16903)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "main"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#create_-_updates_the_existing_compose_file_for_the_project
---------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user76@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 164"], ["last_name", "Name 165"], ["email", "user76@example.com"], ["password_digest", "$2a$04$rgBoGDlr/OFMNXURpRHnquEDDQs2HH6G3JR9vdtbHTLCqjq.ttV0u"], ["confirmation_token", "5db1765e732baaaea1bd9f4f6d3d3e35"], ["state", "initial"], ["phone", "string_887"], ["created_at", "2022-03-18 15:15:43.135577"], ["updated_at", "2022-03-18 15:15:43.140475"], ["github", "string_888"], ["website", "string_889"], ["twitter", "string_890"], ["linkedin", "string_891"], ["devto", "string_892"], ["facebook", "string_893"], ["blog", "string_894"], ["bio", "string_895"], ["status", "string_896"], ["availability", "string_897"], ["primary_skills", "string_898"], ["learning", "string_899"], ["coding_for", "string_900"], ["education", "string_901"], ["title", "string_902"], ["work", "string_903"], ["primary_location", "string_904"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "okeefe.mccullough-moore.net"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 166"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:43.135577"], ["updated_at", "2022-03-18 15:15:43.148611"], ["state", "active"], ["domain", "okeefe.mccullough-moore.net"], ["owner_id", 613], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "1fb11501d5bde9a5b9d8178ba81a8de9"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user76@example.com"], ["token", "1fb11501d5bde9a5b9d8178ba81a8de9"], ["status", "pending"], ["created_at", "2022-03-18 15:15:43.155131"], ["updated_at", "2022-03-18 15:15:43.155131"], ["invited_by_id", 613], ["entityable_id", 408], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 613], ["account_id", 408], ["role", "admin"], ["created_at", "2022-03-18 15:15:43.158982"], ["updated_at", "2022-03-18 15:15:43.158982"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 408]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "1fb11501d5bde9a5b9d8178ba81a8de9"], ["id", 606], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:43.168232"], ["invitee_id", 613], ["id", 606]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 613], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user77@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 167"], ["last_name", "Name 168"], ["email", "user77@example.com"], ["password_digest", "$2a$04$TMe.8WeAzftFy1IWBak77.CON9Iu3Ba7T6KMbmiYOofvmVm64kx4e"], ["confirmation_token", "cf782680e12ded6d289c0a4b0ce3f311"], ["state", "initial"], ["phone", "string_905"], ["created_at", "2022-03-18 15:15:43.174275"], ["updated_at", "2022-03-18 15:15:43.179224"], ["github", "string_906"], ["website", "string_907"], ["twitter", "string_908"], ["linkedin", "string_909"], ["devto", "string_910"], ["facebook", "string_911"], ["blog", "string_912"], ["bio", "string_913"], ["status", "string_914"], ["availability", "string_915"], ["primary_skills", "string_916"], ["learning", "string_917"], ["coding_for", "string_918"], ["education", "string_919"], ["title", "string_920"], ["work", "string_921"], ["primary_location", "string_922"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 613], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "66fd64f0e00c3c07c1b61ee1e80406ef"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user78@example.com"], ["token", "66fd64f0e00c3c07c1b61ee1e80406ef"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:43.188693"], ["updated_at", "2022-03-18 15:15:43.188693"], ["invited_by_id", 613], ["entityable_id", 408], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 614]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 614], ["account_id", 408], ["role", "developer"], ["created_at", "2022-03-18 15:15:43.193114"], ["updated_at", "2022-03-18 15:15:43.193114"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user79@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 169"], ["last_name", "Name 170"], ["email", "user79@example.com"], ["password_digest", "$2a$04$zFmzVsNZCWeLeowREbqaC.W8xQFV6skSMiwHSK1jvYm6zVwt5.TmO"], ["confirmation_token", "4163bb4155456c061acaa1a819323708"], ["state", "initial"], ["phone", "string_923"], ["created_at", "2022-03-18 15:15:43.197514"], ["updated_at", "2022-03-18 15:15:43.201947"], ["github", "string_924"], ["website", "string_925"], ["twitter", "string_926"], ["linkedin", "string_927"], ["devto", "string_928"], ["facebook", "string_929"], ["blog", "string_930"], ["bio", "string_931"], ["status", "string_932"], ["availability", "string_933"], ["primary_skills", "string_934"], ["learning", "string_935"], ["coding_for", "string_936"], ["education", "string_937"], ["title", "string_938"], ["work", "string_939"], ["primary_location", "string_940"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "ade848bfa3e969a2c904447cdc083cf3"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user80@example.com"], ["token", "ade848bfa3e969a2c904447cdc083cf3"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:43.208885"], ["updated_at", "2022-03-18 15:15:43.208885"], ["invited_by_id", 613], ["entityable_id", 408], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 615]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 615], ["account_id", 408], ["role", "viewer"], ["created_at", "2022-03-18 15:15:43.212463"], ["updated_at", "2022-03-18 15:15:43.212463"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 171"], ["account_id", 408], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 171"], ["created_at", "2022-03-18 15:15:43.220475"], ["updated_at", "2022-03-18 15:15:43.220475"], ["account_id", 408], ["state", "active"], ["slug", "slug_21"], ["description", "Name 172"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 408], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 613], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 613], ["project_id", 387], ["role", "admin"], ["created_at", "2022-03-18 15:15:43.226505"], ["updated_at", "2022-03-18 15:15:43.226505"], ["invited_by_id", 613]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 408], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 614], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 614], ["project_id", 387], ["role", "developer"], ["created_at", "2022-03-18 15:15:43.232644"], ["updated_at", "2022-03-18 15:15:43.232644"], ["invited_by_id", 613]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 408], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 615], ["project_id", 387], ["role", "viewer"], ["created_at", "2022-03-18 15:15:43.238814"], ["updated_at", "2022-03-18 15:15:43.238814"], ["invited_by_id", 613]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 387], ["project_id", 387], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 173"], ["project_id", 387], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 173"], ["repository_id", 35], ["branch", "string_941"], ["path", "/volumes/directory-14"], ["auto_deploy", "disabled"], ["added_by_id", 613], ["project_id", 387], ["created_at", "2022-03-18 15:15:43.248177"], ["updated_at", "2022-03-18 15:15:43.248177"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_944"], ["password", "Password1String-57"], ["created_at", "2022-03-18 15:15:43.254033"], ["updated_at", "2022-03-18 15:15:43.254033"], ["provider_ref", "38"], ["account_id", 408], ["state", "active"], ["registry_url", "http://url9.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 175"], ["project_id", 387], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 175"], ["added_by_id", 613], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-11\",\"tag\":\"string_942\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":37,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-11\",\"tag\":\"string_943\",\"slug\":\"slug_22\",\"branch\":\"string_942\",\"description\":\"Name 174\",\"repository_id\":36,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 387], ["created_at", "2022-03-18 15:15:43.262139"], ["updated_at", "2022-03-18 15:15:43.262139"], ["compose_file_id", 188], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:43.264834"], ["id", 387]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#create as JSON
  Parameters: {"compose_file"=>{"content"=>"c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvaGVsbG8td29ybGQjbWFpbgoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogaGVsbG8td29ybGQKICBwb3J0OiA4MAo=\n", "path"=>"/volumes/directory-15", "repository_id"=>"", "source"=>"Name 176"}, "project_slug"=>"slug_21"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 613], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 613], ["slug", "slug_21"], ["LIMIT", 1]]
[31mUnpermitted parameters: :compose_file, :project_slug, :format[0m
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 387], ["kind", "main"], ["LIMIT", 1]]
[31mUnpermitted parameter: :repository_id[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 387], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 408], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" DESC LIMIT $3[0m  [["account_id", 408], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."id" != $2 AND "uffizzi_core_compose_files"."project_id" = $3 LIMIT $4[0m  [["project_id", 387], ["id", 188], ["project_id", 387], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."id" != $2 AND "uffizzi_core_compose_files"."project_id" = $3 LIMIT $4[0m  [["source", "Name 176"], ["id", 188], ["project_id", 387], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::ComposeFile::UpdateForm Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_compose_files" SET "source" = $1, "path" = $2, "updated_at" = $3, "payload" = $4, "content" = $5 WHERE "uffizzi_core_compose_files"."id" = $6[0m  [["source", "Name 176"], ["path", "/volumes/directory-15"], ["updated_at", "2022-03-18 15:15:43.352206"], ["payload", "{\"dependencies\":[]}"], ["content", "c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvaGVsbG8td29ybGQjbWFpbgoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogaGVsbG8td29ybGQKICBwb3J0OiA4MAo=\n"], ["id", 188]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 613], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 408], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 188], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."id" != $2 AND "uffizzi_core_templates"."project_id" = $3 LIMIT $4[0m  [["name", "Name 176"], ["id", 307], ["project_id", 387], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."id" != $2 AND "uffizzi_core_templates"."project_id" = $3 LIMIT $4[0m  [["name", "Name 176"], ["id", 307], ["project_id", 387], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Template::CreateForm Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_templates" SET "name" = $1, "payload" = $2, "updated_at" = $3 WHERE "uffizzi_core_templates"."id" = $4[0m  [["name", "Name 176"], ["payload", "{\"containers_attributes\":[{\"tag\":\"main\",\"port\":80,\"image\":\"ACCOUNT/hello-world\",\"public\":true,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":\"dockerfile\",\"name\":\"hello-world\",\"slug\":\"hello-world\",\"type\":\"UffizziCore::Repo::Github\",\"branch\":\"main\",\"namespace\":\"ACCOUNT\",\"is_private\":null,\"description\":\"Example Docker Container, based upon `nginx`\",\"repository_id\":358291405,\"dockerfile_path\":\"Dockerfile\",\"dockerfile_context_path\":null,\"args\":[],\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":false,\"delete_preview_after\":null},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":true,\"container_config_files_attributes\":[]}]}"], ["updated_at", "2022-03-18 15:15:43.365494"], ["id", 307]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:43.367851"], ["id", 387]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::ComposeFileSerializer with ActiveModelSerializers::Adapter::Json (0.29ms)
Completed 201 Created in 91ms (Views: 1.7ms | ActiveRecord: 7.2ms | Allocations: 48154)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#show_-_viewer_gets_compose_file
------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user81@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 177"], ["last_name", "Name 178"], ["email", "user81@example.com"], ["password_digest", "$2a$04$XQVf6T27kPr4GBPsjQOnVObIK9RnMXjVVAA5LvzDAgPAxLbA5RPCm"], ["confirmation_token", "1ebaf2874422657e975eedb392b3d679"], ["state", "initial"], ["phone", "string_946"], ["created_at", "2022-03-18 15:15:43.384463"], ["updated_at", "2022-03-18 15:15:43.389050"], ["github", "string_947"], ["website", "string_948"], ["twitter", "string_949"], ["linkedin", "string_950"], ["devto", "string_951"], ["facebook", "string_952"], ["blog", "string_953"], ["bio", "string_954"], ["status", "string_955"], ["availability", "string_956"], ["primary_skills", "string_957"], ["learning", "string_958"], ["coding_for", "string_959"], ["education", "string_960"], ["title", "string_961"], ["work", "string_962"], ["primary_location", "string_963"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "kohler-white.hamill-torp.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 179"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:43.384463"], ["updated_at", "2022-03-18 15:15:43.398009"], ["state", "active"], ["domain", "kohler-white.hamill-torp.co"], ["owner_id", 616], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "b3c51c1c634121ae7dc345f41c026203"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user81@example.com"], ["token", "b3c51c1c634121ae7dc345f41c026203"], ["status", "pending"], ["created_at", "2022-03-18 15:15:43.404433"], ["updated_at", "2022-03-18 15:15:43.404433"], ["invited_by_id", 616], ["entityable_id", 409], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 616], ["account_id", 409], ["role", "admin"], ["created_at", "2022-03-18 15:15:43.408377"], ["updated_at", "2022-03-18 15:15:43.408377"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 409]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "b3c51c1c634121ae7dc345f41c026203"], ["id", 609], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:43.417175"], ["invitee_id", 616], ["id", 609]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 616], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user82@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 180"], ["last_name", "Name 181"], ["email", "user82@example.com"], ["password_digest", "$2a$04$3biNDw20/3SmAxWG95k/tOjX0dbrVq0w738csSS.MUa/pMMrr6a2O"], ["confirmation_token", "37173d6f06525294477fd3e5f00e8176"], ["state", "initial"], ["phone", "string_964"], ["created_at", "2022-03-18 15:15:43.423567"], ["updated_at", "2022-03-18 15:15:43.428414"], ["github", "string_965"], ["website", "string_966"], ["twitter", "string_967"], ["linkedin", "string_968"], ["devto", "string_969"], ["facebook", "string_970"], ["blog", "string_971"], ["bio", "string_972"], ["status", "string_973"], ["availability", "string_974"], ["primary_skills", "string_975"], ["learning", "string_976"], ["coding_for", "string_977"], ["education", "string_978"], ["title", "string_979"], ["work", "string_980"], ["primary_location", "string_981"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 616], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "f60570e7cb5f517f7fede3683614722e"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user83@example.com"], ["token", "f60570e7cb5f517f7fede3683614722e"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:43.438196"], ["updated_at", "2022-03-18 15:15:43.438196"], ["invited_by_id", 616], ["entityable_id", 409], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 617]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 617], ["account_id", 409], ["role", "developer"], ["created_at", "2022-03-18 15:15:43.441870"], ["updated_at", "2022-03-18 15:15:43.441870"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user84@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 182"], ["last_name", "Name 183"], ["email", "user84@example.com"], ["password_digest", "$2a$04$MBBwzaxz/UlSjLMXRq/yOuBMxnaInDr97aXtJMsWuwQxGcl1fbZOa"], ["confirmation_token", "64003f95e7e198ea6e36697b84a9f6a7"], ["state", "initial"], ["phone", "string_982"], ["created_at", "2022-03-18 15:15:43.446968"], ["updated_at", "2022-03-18 15:15:43.451205"], ["github", "string_983"], ["website", "string_984"], ["twitter", "string_985"], ["linkedin", "string_986"], ["devto", "string_987"], ["facebook", "string_988"], ["blog", "string_989"], ["bio", "string_990"], ["status", "string_991"], ["availability", "string_992"], ["primary_skills", "string_993"], ["learning", "string_994"], ["coding_for", "string_995"], ["education", "string_996"], ["title", "string_997"], ["work", "string_998"], ["primary_location", "string_999"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "53ed14a57dc0935cdda0c5da3191d4e6"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user85@example.com"], ["token", "53ed14a57dc0935cdda0c5da3191d4e6"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:43.458580"], ["updated_at", "2022-03-18 15:15:43.458580"], ["invited_by_id", 616], ["entityable_id", 409], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 618]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 618], ["account_id", 409], ["role", "viewer"], ["created_at", "2022-03-18 15:15:43.462271"], ["updated_at", "2022-03-18 15:15:43.462271"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 184"], ["account_id", 409], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 184"], ["created_at", "2022-03-18 15:15:43.469624"], ["updated_at", "2022-03-18 15:15:43.469624"], ["account_id", 409], ["state", "active"], ["slug", "slug_23"], ["description", "Name 185"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 409], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 616], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 616], ["project_id", 388], ["role", "admin"], ["created_at", "2022-03-18 15:15:43.476076"], ["updated_at", "2022-03-18 15:15:43.476076"], ["invited_by_id", 616]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 409], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 617], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 617], ["project_id", 388], ["role", "developer"], ["created_at", "2022-03-18 15:15:43.482442"], ["updated_at", "2022-03-18 15:15:43.482442"], ["invited_by_id", 616]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 409], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 618], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 618], ["project_id", 388], ["role", "viewer"], ["created_at", "2022-03-18 15:15:43.488588"], ["updated_at", "2022-03-18 15:15:43.488588"], ["invited_by_id", 616]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 388], ["project_id", 388], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 186"], ["project_id", 388], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 186"], ["repository_id", 40], ["branch", "string_1000"], ["path", "/volumes/directory-16"], ["auto_deploy", "disabled"], ["added_by_id", 616], ["project_id", 388], ["created_at", "2022-03-18 15:15:43.497820"], ["updated_at", "2022-03-18 15:15:43.497820"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1003"], ["password", "Password1String-61"], ["created_at", "2022-03-18 15:15:43.503838"], ["updated_at", "2022-03-18 15:15:43.503838"], ["provider_ref", "43"], ["account_id", 409], ["state", "active"], ["registry_url", "http://url10.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 188"], ["project_id", 388], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 188"], ["added_by_id", 616], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-12\",\"tag\":\"string_1001\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":42,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-12\",\"tag\":\"string_1002\",\"slug\":\"slug_24\",\"branch\":\"string_1001\",\"description\":\"Name 187\",\"repository_id\":41,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 388], ["created_at", "2022-03-18 15:15:43.511738"], ["updated_at", "2022-03-18 15:15:43.511738"], ["compose_file_id", 189], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:43.514334"], ["id", 388]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#show as JSON
  Parameters: {"project_slug"=>"slug_23"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 618], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 618], ["slug", "slug_23"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 388], ["kind", "main"], ["LIMIT", 1]]
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::ComposeFileSerializer with ActiveModelSerializers::Adapter::Json (0.29ms)
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.1ms | Allocations: 1836)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#show_-_returns_404_if_compose_file_does_not_exist
------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user86@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 189"], ["last_name", "Name 190"], ["email", "user86@example.com"], ["password_digest", "$2a$04$oinM3b2.9bBCJ7ClZ9u2Euc9tPTQebR2sWzTJVh.Mb1ENrpFAFabW"], ["confirmation_token", "a69e34931fd3003179c562dcc25edc46"], ["state", "initial"], ["phone", "string_1004"], ["created_at", "2022-03-18 15:15:43.533752"], ["updated_at", "2022-03-18 15:15:43.538437"], ["github", "string_1005"], ["website", "string_1006"], ["twitter", "string_1007"], ["linkedin", "string_1008"], ["devto", "string_1009"], ["facebook", "string_1010"], ["blog", "string_1011"], ["bio", "string_1012"], ["status", "string_1013"], ["availability", "string_1014"], ["primary_skills", "string_1015"], ["learning", "string_1016"], ["coding_for", "string_1017"], ["education", "string_1018"], ["title", "string_1019"], ["work", "string_1020"], ["primary_location", "string_1021"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "schumm-harber.schuppe-bechtelar.info"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 191"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:43.533752"], ["updated_at", "2022-03-18 15:15:43.546396"], ["state", "active"], ["domain", "schumm-harber.schuppe-bechtelar.info"], ["owner_id", 619], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "d34ac5e588195a0ce1114c5fd69ef4b8"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user86@example.com"], ["token", "d34ac5e588195a0ce1114c5fd69ef4b8"], ["status", "pending"], ["created_at", "2022-03-18 15:15:43.553355"], ["updated_at", "2022-03-18 15:15:43.553355"], ["invited_by_id", 619], ["entityable_id", 410], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 619], ["account_id", 410], ["role", "admin"], ["created_at", "2022-03-18 15:15:43.557210"], ["updated_at", "2022-03-18 15:15:43.557210"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 410]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "d34ac5e588195a0ce1114c5fd69ef4b8"], ["id", 612], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:43.565742"], ["invitee_id", 619], ["id", 612]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 619], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user87@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 192"], ["last_name", "Name 193"], ["email", "user87@example.com"], ["password_digest", "$2a$04$N8zYR2L03.to7wq4bMgRoeqDjWYypYSZpHhdbDX9PBKga5gwC/E4K"], ["confirmation_token", "6ba8a33beac49736bff89dc1e1bc170e"], ["state", "initial"], ["phone", "string_1022"], ["created_at", "2022-03-18 15:15:43.571839"], ["updated_at", "2022-03-18 15:15:43.576518"], ["github", "string_1023"], ["website", "string_1024"], ["twitter", "string_1025"], ["linkedin", "string_1026"], ["devto", "string_1027"], ["facebook", "string_1028"], ["blog", "string_1029"], ["bio", "string_1030"], ["status", "string_1031"], ["availability", "string_1032"], ["primary_skills", "string_1033"], ["learning", "string_1034"], ["coding_for", "string_1035"], ["education", "string_1036"], ["title", "string_1037"], ["work", "string_1038"], ["primary_location", "string_1039"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 619], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "b267d984bfb381d15e4ddbda9e0ec607"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user88@example.com"], ["token", "b267d984bfb381d15e4ddbda9e0ec607"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:43.594274"], ["updated_at", "2022-03-18 15:15:43.594274"], ["invited_by_id", 619], ["entityable_id", 410], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 620]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 620], ["account_id", 410], ["role", "developer"], ["created_at", "2022-03-18 15:15:43.599272"], ["updated_at", "2022-03-18 15:15:43.599272"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user89@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 194"], ["last_name", "Name 195"], ["email", "user89@example.com"], ["password_digest", "$2a$04$RtpHZUDnbjps3iH.rKWqdOQgGf9l7UxKBR.H.rjbNTXdn.U931Os2"], ["confirmation_token", "c1a47eb10eed4b065c1149bfc605a1bd"], ["state", "initial"], ["phone", "string_1040"], ["created_at", "2022-03-18 15:15:43.604828"], ["updated_at", "2022-03-18 15:15:43.610460"], ["github", "string_1041"], ["website", "string_1042"], ["twitter", "string_1043"], ["linkedin", "string_1044"], ["devto", "string_1045"], ["facebook", "string_1046"], ["blog", "string_1047"], ["bio", "string_1048"], ["status", "string_1049"], ["availability", "string_1050"], ["primary_skills", "string_1051"], ["learning", "string_1052"], ["coding_for", "string_1053"], ["education", "string_1054"], ["title", "string_1055"], ["work", "string_1056"], ["primary_location", "string_1057"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "6d971fd9c561adddcabba9eac9e1593f"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user90@example.com"], ["token", "6d971fd9c561adddcabba9eac9e1593f"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:43.619932"], ["updated_at", "2022-03-18 15:15:43.619932"], ["invited_by_id", 619], ["entityable_id", 410], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 621]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 621], ["account_id", 410], ["role", "viewer"], ["created_at", "2022-03-18 15:15:43.624665"], ["updated_at", "2022-03-18 15:15:43.624665"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 196"], ["account_id", 410], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 196"], ["created_at", "2022-03-18 15:15:43.632046"], ["updated_at", "2022-03-18 15:15:43.632046"], ["account_id", 410], ["state", "active"], ["slug", "slug_25"], ["description", "Name 197"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 410], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 619], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 619], ["project_id", 389], ["role", "admin"], ["created_at", "2022-03-18 15:15:43.638295"], ["updated_at", "2022-03-18 15:15:43.638295"], ["invited_by_id", 619]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 410], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 620], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 620], ["project_id", 389], ["role", "developer"], ["created_at", "2022-03-18 15:15:43.644628"], ["updated_at", "2022-03-18 15:15:43.644628"], ["invited_by_id", 619]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 410], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 621], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 621], ["project_id", 389], ["role", "viewer"], ["created_at", "2022-03-18 15:15:43.651307"], ["updated_at", "2022-03-18 15:15:43.651307"], ["invited_by_id", 619]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 389], ["project_id", 389], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 198"], ["project_id", 389], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 198"], ["repository_id", 44], ["branch", "string_1058"], ["path", "/volumes/directory-17"], ["auto_deploy", "disabled"], ["added_by_id", 619], ["project_id", 389], ["created_at", "2022-03-18 15:15:43.660009"], ["updated_at", "2022-03-18 15:15:43.660009"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1061"], ["password", "Password1String-65"], ["created_at", "2022-03-18 15:15:43.666037"], ["updated_at", "2022-03-18 15:15:43.666037"], ["provider_ref", "47"], ["account_id", 410], ["state", "active"], ["registry_url", "http://url11.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 200"], ["project_id", 389], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 200"], ["added_by_id", 619], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-13\",\"tag\":\"string_1059\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":46,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-13\",\"tag\":\"string_1060\",\"slug\":\"slug_26\",\"branch\":\"string_1059\",\"description\":\"Name 199\",\"repository_id\":45,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 389], ["created_at", "2022-03-18 15:15:43.673758"], ["updated_at", "2022-03-18 15:15:43.673758"], ["compose_file_id", 190], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:43.676800"], ["id", 389]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "template_id" = $1 WHERE "uffizzi_core_deployments"."template_id" = $2[0m  [["template_id", nil], ["template_id", 309]]
  [1m[36mUffizziCore::Template Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."id" = $1[0m  [["id", 309]]
  [1m[36mUffizziCore::ConfigFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."compose_file_id" = $1[0m  [["compose_file_id", 190]]
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "compose_file_id" = $1 WHERE "uffizzi_core_deployments"."compose_file_id" = $2[0m  [["compose_file_id", nil], ["compose_file_id", 190]]
  [1m[36mUffizziCore::ComposeFile Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1[0m  [["id", 190]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:43.683703"], ["id", 389]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#show as JSON
  Parameters: {"project_slug"=>"slug_25"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 621], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 621], ["slug", "slug_25"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 389], ["kind", "main"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 404 Not Found in 7ms (Views: 1.0ms | ActiveRecord: 1.1ms | Allocations: 1464)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#create_-_admin_creates_compose_file
----------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user91@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 201"], ["last_name", "Name 202"], ["email", "user91@example.com"], ["password_digest", "$2a$04$RFwsRnMtywQezrSdp9C5iOLyA/xVLDtXwKpuY/RMmfP2/pWWd0SjO"], ["confirmation_token", "45628b568a84508085f618e918483568"], ["state", "initial"], ["phone", "string_1062"], ["created_at", "2022-03-18 15:15:43.706258"], ["updated_at", "2022-03-18 15:15:43.710785"], ["github", "string_1063"], ["website", "string_1064"], ["twitter", "string_1065"], ["linkedin", "string_1066"], ["devto", "string_1067"], ["facebook", "string_1068"], ["blog", "string_1069"], ["bio", "string_1070"], ["status", "string_1071"], ["availability", "string_1072"], ["primary_skills", "string_1073"], ["learning", "string_1074"], ["coding_for", "string_1075"], ["education", "string_1076"], ["title", "string_1077"], ["work", "string_1078"], ["primary_location", "string_1079"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "bahringer-bode.senger.name"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 203"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:43.706258"], ["updated_at", "2022-03-18 15:15:43.718772"], ["state", "active"], ["domain", "bahringer-bode.senger.name"], ["owner_id", 622], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "a68751c45ba2ccc4f5d86898361d6012"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user91@example.com"], ["token", "a68751c45ba2ccc4f5d86898361d6012"], ["status", "pending"], ["created_at", "2022-03-18 15:15:43.726026"], ["updated_at", "2022-03-18 15:15:43.726026"], ["invited_by_id", 622], ["entityable_id", 411], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 622], ["account_id", 411], ["role", "admin"], ["created_at", "2022-03-18 15:15:43.730102"], ["updated_at", "2022-03-18 15:15:43.730102"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 411]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "a68751c45ba2ccc4f5d86898361d6012"], ["id", 615], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:43.739148"], ["invitee_id", 622], ["id", 615]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 622], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user92@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 204"], ["last_name", "Name 205"], ["email", "user92@example.com"], ["password_digest", "$2a$04$o4unz8YY0sg.y3dk3QG0ouyCwnmZ9ETKthZHgotEhS0mCrsUo2ri2"], ["confirmation_token", "48262768fe8b9352c1df9fc25cc46116"], ["state", "initial"], ["phone", "string_1080"], ["created_at", "2022-03-18 15:15:43.745014"], ["updated_at", "2022-03-18 15:15:43.749948"], ["github", "string_1081"], ["website", "string_1082"], ["twitter", "string_1083"], ["linkedin", "string_1084"], ["devto", "string_1085"], ["facebook", "string_1086"], ["blog", "string_1087"], ["bio", "string_1088"], ["status", "string_1089"], ["availability", "string_1090"], ["primary_skills", "string_1091"], ["learning", "string_1092"], ["coding_for", "string_1093"], ["education", "string_1094"], ["title", "string_1095"], ["work", "string_1096"], ["primary_location", "string_1097"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 622], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "0b69a5d81397b828e0dd95e945c5fd43"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user93@example.com"], ["token", "0b69a5d81397b828e0dd95e945c5fd43"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:43.760720"], ["updated_at", "2022-03-18 15:15:43.760720"], ["invited_by_id", 622], ["entityable_id", 411], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 623]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 623], ["account_id", 411], ["role", "developer"], ["created_at", "2022-03-18 15:15:43.766394"], ["updated_at", "2022-03-18 15:15:43.766394"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user94@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 206"], ["last_name", "Name 207"], ["email", "user94@example.com"], ["password_digest", "$2a$04$y.mqKczA7sQ7B/x/8r/oPebrl0767GEq33fUyCQRbebDDGlv.oITK"], ["confirmation_token", "b7eafffdecbb20ab95c3ab07042d38da"], ["state", "initial"], ["phone", "string_1098"], ["created_at", "2022-03-18 15:15:43.771383"], ["updated_at", "2022-03-18 15:15:43.775929"], ["github", "string_1099"], ["website", "string_1100"], ["twitter", "string_1101"], ["linkedin", "string_1102"], ["devto", "string_1103"], ["facebook", "string_1104"], ["blog", "string_1105"], ["bio", "string_1106"], ["status", "string_1107"], ["availability", "string_1108"], ["primary_skills", "string_1109"], ["learning", "string_1110"], ["coding_for", "string_1111"], ["education", "string_1112"], ["title", "string_1113"], ["work", "string_1114"], ["primary_location", "string_1115"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "fe1ce6170db165d157c8593e45397879"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user95@example.com"], ["token", "fe1ce6170db165d157c8593e45397879"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:43.783188"], ["updated_at", "2022-03-18 15:15:43.783188"], ["invited_by_id", 622], ["entityable_id", 411], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 624]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 624], ["account_id", 411], ["role", "viewer"], ["created_at", "2022-03-18 15:15:43.786773"], ["updated_at", "2022-03-18 15:15:43.786773"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 208"], ["account_id", 411], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 208"], ["created_at", "2022-03-18 15:15:43.794863"], ["updated_at", "2022-03-18 15:15:43.794863"], ["account_id", 411], ["state", "active"], ["slug", "slug_27"], ["description", "Name 209"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 411], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 622], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 622], ["project_id", 390], ["role", "admin"], ["created_at", "2022-03-18 15:15:43.801612"], ["updated_at", "2022-03-18 15:15:43.801612"], ["invited_by_id", 622]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 411], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 623], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 623], ["project_id", 390], ["role", "developer"], ["created_at", "2022-03-18 15:15:43.808489"], ["updated_at", "2022-03-18 15:15:43.808489"], ["invited_by_id", 622]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 411], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 624], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 624], ["project_id", 390], ["role", "viewer"], ["created_at", "2022-03-18 15:15:43.815131"], ["updated_at", "2022-03-18 15:15:43.815131"], ["invited_by_id", 622]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 390], ["project_id", 390], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 210"], ["project_id", 390], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 210"], ["repository_id", 48], ["branch", "string_1116"], ["path", "/volumes/directory-18"], ["auto_deploy", "disabled"], ["added_by_id", 622], ["project_id", 390], ["created_at", "2022-03-18 15:15:43.824485"], ["updated_at", "2022-03-18 15:15:43.824485"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1119"], ["password", "Password1String-69"], ["created_at", "2022-03-18 15:15:43.830770"], ["updated_at", "2022-03-18 15:15:43.830770"], ["provider_ref", "51"], ["account_id", 411], ["state", "active"], ["registry_url", "http://url12.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 212"], ["project_id", 390], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 212"], ["added_by_id", 622], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-14\",\"tag\":\"string_1117\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":50,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-14\",\"tag\":\"string_1118\",\"slug\":\"slug_28\",\"branch\":\"string_1117\",\"description\":\"Name 211\",\"repository_id\":49,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 390], ["created_at", "2022-03-18 15:15:43.838956"], ["updated_at", "2022-03-18 15:15:43.838956"], ["compose_file_id", 191], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:43.841531"], ["id", 390]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "template_id" = $1 WHERE "uffizzi_core_deployments"."template_id" = $2[0m  [["template_id", nil], ["template_id", 310]]
  [1m[36mUffizziCore::Template Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."id" = $1[0m  [["id", 310]]
  [1m[36mUffizziCore::ConfigFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."compose_file_id" = $1[0m  [["compose_file_id", 191]]
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "compose_file_id" = $1 WHERE "uffizzi_core_deployments"."compose_file_id" = $2[0m  [["compose_file_id", nil], ["compose_file_id", 191]]
  [1m[36mUffizziCore::ComposeFile Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1[0m  [["id", 191]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:43.848805"], ["id", 390]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "main"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#create as JSON
  Parameters: {"compose_file"=>{"content"=>"c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvaGVsbG8td29ybGQjbWFpbgoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogaGVsbG8td29ybGQKICBwb3J0OiA4MAo=\n", "path"=>"/volumes/directory-19", "repository_id"=>"", "source"=>"Name 213"}, "project_slug"=>"slug_27"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 622], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 622], ["slug", "slug_27"], ["LIMIT", 1]]
[31mUnpermitted parameters: :compose_file, :project_slug, :format[0m
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 390], ["kind", "main"], ["LIMIT", 1]]
[31mUnpermitted parameter: :repository_id[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 411], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" DESC LIMIT $3[0m  [["account_id", 411], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 390], ["project_id", 390], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 213"], ["project_id", 390], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 213"], ["project_id", 390], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::ComposeFile::CreateForm Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "payload", "content") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 213"], ["path", "/volumes/directory-19"], ["auto_deploy", "disabled"], ["added_by_id", 622], ["project_id", 390], ["created_at", "2022-03-18 15:15:43.928676"], ["updated_at", "2022-03-18 15:15:43.928676"], ["state", "valid_file"], ["payload", "{\"dependencies\":[]}"], ["content", "c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvaGVsbG8td29ybGQjbWFpbgoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogaGVsbG8td29ybGQKICBwb3J0OiA4MAo=\n"]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 411], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 192], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."project_id" = $1 AND "uffizzi_core_templates"."name" = $2 LIMIT $3[0m  [["project_id", 390], ["name", "Name 213"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 213"], ["project_id", 390], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 213"], ["project_id", 390], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Template::CreateForm Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 213"], ["added_by_id", 622], ["payload", "{\"containers_attributes\":[{\"tag\":\"main\",\"port\":80,\"image\":\"ACCOUNT/hello-world\",\"public\":true,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":\"dockerfile\",\"name\":\"hello-world\",\"slug\":\"hello-world\",\"type\":\"UffizziCore::Repo::Github\",\"branch\":\"main\",\"namespace\":\"ACCOUNT\",\"is_private\":null,\"description\":\"Example Docker Container, based upon `nginx`\",\"repository_id\":358291405,\"dockerfile_path\":\"Dockerfile\",\"dockerfile_context_path\":null,\"args\":[],\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":false,\"delete_preview_after\":null},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":true,\"container_config_files_attributes\":[]}]}"], ["project_id", 390], ["created_at", "2022-03-18 15:15:43.940542"], ["updated_at", "2022-03-18 15:15:43.940542"], ["compose_file_id", 192], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:43.943570"], ["id", 390]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::ComposeFileSerializer with ActiveModelSerializers::Adapter::Json (0.34ms)
Completed 201 Created in 77ms (Views: 1.2ms | ActiveRecord: 7.2ms | Allocations: 39538)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "main"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#create_if_a_repository_not_found
-------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user96@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 214"], ["last_name", "Name 215"], ["email", "user96@example.com"], ["password_digest", "$2a$04$7Au19DxoKF5zOBvGphECkezp4a34mgGS1WOyDRl4PFHyG35DQG1U."], ["confirmation_token", "3972f4b929a175369a5b265240b84f34"], ["state", "initial"], ["phone", "string_1121"], ["created_at", "2022-03-18 15:15:43.958697"], ["updated_at", "2022-03-18 15:15:43.963377"], ["github", "string_1122"], ["website", "string_1123"], ["twitter", "string_1124"], ["linkedin", "string_1125"], ["devto", "string_1126"], ["facebook", "string_1127"], ["blog", "string_1128"], ["bio", "string_1129"], ["status", "string_1130"], ["availability", "string_1131"], ["primary_skills", "string_1132"], ["learning", "string_1133"], ["coding_for", "string_1134"], ["education", "string_1135"], ["title", "string_1136"], ["work", "string_1137"], ["primary_location", "string_1138"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "tromp-beer.bosco.biz"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 216"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:43.958697"], ["updated_at", "2022-03-18 15:15:43.971384"], ["state", "active"], ["domain", "tromp-beer.bosco.biz"], ["owner_id", 625], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "1bd0ed421ba232ce626c81349fb503cf"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user96@example.com"], ["token", "1bd0ed421ba232ce626c81349fb503cf"], ["status", "pending"], ["created_at", "2022-03-18 15:15:43.978377"], ["updated_at", "2022-03-18 15:15:43.978377"], ["invited_by_id", 625], ["entityable_id", 412], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 625], ["account_id", 412], ["role", "admin"], ["created_at", "2022-03-18 15:15:43.981924"], ["updated_at", "2022-03-18 15:15:43.981924"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 412]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "1bd0ed421ba232ce626c81349fb503cf"], ["id", 618], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:43.990394"], ["invitee_id", 625], ["id", 618]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 625], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user97@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 217"], ["last_name", "Name 218"], ["email", "user97@example.com"], ["password_digest", "$2a$04$Kb0T85xD55LrZ8O1ZUKMxedSIn1dZ4QlhLfGe5Mxwe1.BP45MYjGS"], ["confirmation_token", "c9a998a0e6899dc43aac8e775f921043"], ["state", "initial"], ["phone", "string_1139"], ["created_at", "2022-03-18 15:15:43.996294"], ["updated_at", "2022-03-18 15:15:44.000926"], ["github", "string_1140"], ["website", "string_1141"], ["twitter", "string_1142"], ["linkedin", "string_1143"], ["devto", "string_1144"], ["facebook", "string_1145"], ["blog", "string_1146"], ["bio", "string_1147"], ["status", "string_1148"], ["availability", "string_1149"], ["primary_skills", "string_1150"], ["learning", "string_1151"], ["coding_for", "string_1152"], ["education", "string_1153"], ["title", "string_1154"], ["work", "string_1155"], ["primary_location", "string_1156"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 625], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "95660db645454439f8712e77ace02d12"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user98@example.com"], ["token", "95660db645454439f8712e77ace02d12"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:44.010648"], ["updated_at", "2022-03-18 15:15:44.010648"], ["invited_by_id", 625], ["entityable_id", 412], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 626]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 626], ["account_id", 412], ["role", "developer"], ["created_at", "2022-03-18 15:15:44.014444"], ["updated_at", "2022-03-18 15:15:44.014444"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user99@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 219"], ["last_name", "Name 220"], ["email", "user99@example.com"], ["password_digest", "$2a$04$GX/pj1RNfm47pdpF/EO43ebhqAwThks6.L2mx6bbz4nc/4SdQHUnq"], ["confirmation_token", "d1d733ec5f73efb1ee76a0a146fe3fb3"], ["state", "initial"], ["phone", "string_1157"], ["created_at", "2022-03-18 15:15:44.018852"], ["updated_at", "2022-03-18 15:15:44.022943"], ["github", "string_1158"], ["website", "string_1159"], ["twitter", "string_1160"], ["linkedin", "string_1161"], ["devto", "string_1162"], ["facebook", "string_1163"], ["blog", "string_1164"], ["bio", "string_1165"], ["status", "string_1166"], ["availability", "string_1167"], ["primary_skills", "string_1168"], ["learning", "string_1169"], ["coding_for", "string_1170"], ["education", "string_1171"], ["title", "string_1172"], ["work", "string_1173"], ["primary_location", "string_1174"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "ce807373c3ed01a2f412e99e0d4cbcd4"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user100@example.com"], ["token", "ce807373c3ed01a2f412e99e0d4cbcd4"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:44.030211"], ["updated_at", "2022-03-18 15:15:44.030211"], ["invited_by_id", 625], ["entityable_id", 412], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 627]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 627], ["account_id", 412], ["role", "viewer"], ["created_at", "2022-03-18 15:15:44.033529"], ["updated_at", "2022-03-18 15:15:44.033529"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 221"], ["account_id", 412], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 221"], ["created_at", "2022-03-18 15:15:44.040514"], ["updated_at", "2022-03-18 15:15:44.040514"], ["account_id", 412], ["state", "active"], ["slug", "slug_29"], ["description", "Name 222"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 412], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 625], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 625], ["project_id", 391], ["role", "admin"], ["created_at", "2022-03-18 15:15:44.046314"], ["updated_at", "2022-03-18 15:15:44.046314"], ["invited_by_id", 625]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 412], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 626], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 626], ["project_id", 391], ["role", "developer"], ["created_at", "2022-03-18 15:15:44.052860"], ["updated_at", "2022-03-18 15:15:44.052860"], ["invited_by_id", 625]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 412], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 627], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 627], ["project_id", 391], ["role", "viewer"], ["created_at", "2022-03-18 15:15:44.058945"], ["updated_at", "2022-03-18 15:15:44.058945"], ["invited_by_id", 625]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 391], ["project_id", 391], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 223"], ["project_id", 391], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 223"], ["repository_id", 53], ["branch", "string_1175"], ["path", "/volumes/directory-20"], ["auto_deploy", "disabled"], ["added_by_id", 625], ["project_id", 391], ["created_at", "2022-03-18 15:15:44.067582"], ["updated_at", "2022-03-18 15:15:44.067582"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1178"], ["password", "Password1String-73"], ["created_at", "2022-03-18 15:15:44.073332"], ["updated_at", "2022-03-18 15:15:44.073332"], ["provider_ref", "56"], ["account_id", 412], ["state", "active"], ["registry_url", "http://url13.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 225"], ["project_id", 391], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 225"], ["added_by_id", 625], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-15\",\"tag\":\"string_1176\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":55,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-15\",\"tag\":\"string_1177\",\"slug\":\"slug_30\",\"branch\":\"string_1176\",\"description\":\"Name 224\",\"repository_id\":54,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 391], ["created_at", "2022-03-18 15:15:44.081477"], ["updated_at", "2022-03-18 15:15:44.081477"], ["compose_file_id", 193], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.085865"], ["id", 391]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "template_id" = $1 WHERE "uffizzi_core_deployments"."template_id" = $2[0m  [["template_id", nil], ["template_id", 312]]
  [1m[36mUffizziCore::Template Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."id" = $1[0m  [["id", 312]]
  [1m[36mUffizziCore::ConfigFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."compose_file_id" = $1[0m  [["compose_file_id", 193]]
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "compose_file_id" = $1 WHERE "uffizzi_core_deployments"."compose_file_id" = $2[0m  [["compose_file_id", nil], ["compose_file_id", 193]]
  [1m[36mUffizziCore::ComposeFile Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1[0m  [["id", 193]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.093499"], ["id", 391]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#create as JSON
  Parameters: {"compose_file"=>{"content"=>"c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDogCiAgICAgIGNvbnRleHQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9leGFtcGxldXNlci9oZWxsby13b3JsZC0xI21haW4KCngtdWZmaXp6aS1pbmdyZXNzOgogIHNlcnZpY2U6IGhlbGxvLXdvcmxkCiAgcG9ydDogODAK\n", "path"=>"/volumes/directory-21", "source"=>"Name 226"}, "project_slug"=>"slug_29"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 625], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 625], ["slug", "slug_29"], ["LIMIT", 1]]
[31mUnpermitted parameters: :compose_file, :project_slug, :format[0m
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 391], ["kind", "main"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" DESC LIMIT $3[0m  [["account_id", 412], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 422 Unprocessable Entity in 43ms (Views: 1.8ms | ActiveRecord: 2.0ms | Allocations: 31232)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#destroy_-_when_compose_file_not_found
------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user101@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 227"], ["last_name", "Name 228"], ["email", "user101@example.com"], ["password_digest", "$2a$04$IrKdOMClaWwrEzf1vevxtexKp4Luu4c5LxtuJOOqmxZeeL1kau1oe"], ["confirmation_token", "89537d201240cc44c2f56dc26658d180"], ["state", "initial"], ["phone", "string_1180"], ["created_at", "2022-03-18 15:15:44.161506"], ["updated_at", "2022-03-18 15:15:44.165924"], ["github", "string_1181"], ["website", "string_1182"], ["twitter", "string_1183"], ["linkedin", "string_1184"], ["devto", "string_1185"], ["facebook", "string_1186"], ["blog", "string_1187"], ["bio", "string_1188"], ["status", "string_1189"], ["availability", "string_1190"], ["primary_skills", "string_1191"], ["learning", "string_1192"], ["coding_for", "string_1193"], ["education", "string_1194"], ["title", "string_1195"], ["work", "string_1196"], ["primary_location", "string_1197"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "mayer.abernathy-christiansen.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 229"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:44.161506"], ["updated_at", "2022-03-18 15:15:44.174226"], ["state", "active"], ["domain", "mayer.abernathy-christiansen.co"], ["owner_id", 628], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "7ad9dd74edf15b9e1631e7130aeb4df6"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user101@example.com"], ["token", "7ad9dd74edf15b9e1631e7130aeb4df6"], ["status", "pending"], ["created_at", "2022-03-18 15:15:44.183619"], ["updated_at", "2022-03-18 15:15:44.183619"], ["invited_by_id", 628], ["entityable_id", 413], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 628], ["account_id", 413], ["role", "admin"], ["created_at", "2022-03-18 15:15:44.187695"], ["updated_at", "2022-03-18 15:15:44.187695"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 413]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "7ad9dd74edf15b9e1631e7130aeb4df6"], ["id", 621], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:44.196392"], ["invitee_id", 628], ["id", 621]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 628], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user102@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 230"], ["last_name", "Name 231"], ["email", "user102@example.com"], ["password_digest", "$2a$04$TBijlrZDJ/E5UlUwFsYghutUu5I124WxrYXrP/oXa40FpGYVKT8RO"], ["confirmation_token", "9097fe50c7d212dd74ec848d03e86bb7"], ["state", "initial"], ["phone", "string_1198"], ["created_at", "2022-03-18 15:15:44.202839"], ["updated_at", "2022-03-18 15:15:44.207299"], ["github", "string_1199"], ["website", "string_1200"], ["twitter", "string_1201"], ["linkedin", "string_1202"], ["devto", "string_1203"], ["facebook", "string_1204"], ["blog", "string_1205"], ["bio", "string_1206"], ["status", "string_1207"], ["availability", "string_1208"], ["primary_skills", "string_1209"], ["learning", "string_1210"], ["coding_for", "string_1211"], ["education", "string_1212"], ["title", "string_1213"], ["work", "string_1214"], ["primary_location", "string_1215"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "6215b1be74d4360daed49758d8a13cdb"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user103@example.com"], ["token", "6215b1be74d4360daed49758d8a13cdb"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:44.216826"], ["updated_at", "2022-03-18 15:15:44.216826"], ["invited_by_id", 628], ["entityable_id", 413], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 629]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 629], ["account_id", 413], ["role", "developer"], ["created_at", "2022-03-18 15:15:44.221505"], ["updated_at", "2022-03-18 15:15:44.221505"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user104@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 232"], ["last_name", "Name 233"], ["email", "user104@example.com"], ["password_digest", "$2a$04$usjCIZxXvjxR1XGla7YAnevn.zR24NPwgOSYwSLBCvwTD/ijtcn9O"], ["confirmation_token", "11212f733c74812e1edcebe1c9deb507"], ["state", "initial"], ["phone", "string_1216"], ["created_at", "2022-03-18 15:15:44.225914"], ["updated_at", "2022-03-18 15:15:44.230086"], ["github", "string_1217"], ["website", "string_1218"], ["twitter", "string_1219"], ["linkedin", "string_1220"], ["devto", "string_1221"], ["facebook", "string_1222"], ["blog", "string_1223"], ["bio", "string_1224"], ["status", "string_1225"], ["availability", "string_1226"], ["primary_skills", "string_1227"], ["learning", "string_1228"], ["coding_for", "string_1229"], ["education", "string_1230"], ["title", "string_1231"], ["work", "string_1232"], ["primary_location", "string_1233"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "204e89336adc798bda336381ae0d3f3e"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user105@example.com"], ["token", "204e89336adc798bda336381ae0d3f3e"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:44.237539"], ["updated_at", "2022-03-18 15:15:44.237539"], ["invited_by_id", 628], ["entityable_id", 413], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 630]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 630], ["account_id", 413], ["role", "viewer"], ["created_at", "2022-03-18 15:15:44.241290"], ["updated_at", "2022-03-18 15:15:44.241290"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 234"], ["account_id", 413], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 234"], ["created_at", "2022-03-18 15:15:44.248253"], ["updated_at", "2022-03-18 15:15:44.248253"], ["account_id", 413], ["state", "active"], ["slug", "slug_31"], ["description", "Name 235"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 413], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 628], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 628], ["project_id", 392], ["role", "admin"], ["created_at", "2022-03-18 15:15:44.254133"], ["updated_at", "2022-03-18 15:15:44.254133"], ["invited_by_id", 628]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 413], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 629], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 629], ["project_id", 392], ["role", "developer"], ["created_at", "2022-03-18 15:15:44.261048"], ["updated_at", "2022-03-18 15:15:44.261048"], ["invited_by_id", 628]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 413], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 630], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 630], ["project_id", 392], ["role", "viewer"], ["created_at", "2022-03-18 15:15:44.267146"], ["updated_at", "2022-03-18 15:15:44.267146"], ["invited_by_id", 628]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 392], ["project_id", 392], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 236"], ["project_id", 392], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 236"], ["repository_id", 58], ["branch", "string_1234"], ["path", "/volumes/directory-22"], ["auto_deploy", "disabled"], ["added_by_id", 628], ["project_id", 392], ["created_at", "2022-03-18 15:15:44.275801"], ["updated_at", "2022-03-18 15:15:44.275801"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1237"], ["password", "Password1String-77"], ["created_at", "2022-03-18 15:15:44.281594"], ["updated_at", "2022-03-18 15:15:44.281594"], ["provider_ref", "61"], ["account_id", 413], ["state", "active"], ["registry_url", "http://url14.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 238"], ["project_id", 392], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 238"], ["added_by_id", 628], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-16\",\"tag\":\"string_1235\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":60,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-16\",\"tag\":\"string_1236\",\"slug\":\"slug_32\",\"branch\":\"string_1235\",\"description\":\"Name 237\",\"repository_id\":59,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 392], ["created_at", "2022-03-18 15:15:44.289356"], ["updated_at", "2022-03-18 15:15:44.289356"], ["compose_file_id", 194], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.291763"], ["id", 392]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "template_id" = $1 WHERE "uffizzi_core_deployments"."template_id" = $2[0m  [["template_id", nil], ["template_id", 313]]
  [1m[36mUffizziCore::Template Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."id" = $1[0m  [["id", 313]]
  [1m[36mUffizziCore::ConfigFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."compose_file_id" = $1[0m  [["compose_file_id", 194]]
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "compose_file_id" = $1 WHERE "uffizzi_core_deployments"."compose_file_id" = $2[0m  [["compose_file_id", nil], ["compose_file_id", 194]]
  [1m[36mUffizziCore::ComposeFile Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1[0m  [["id", 194]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.298925"], ["id", 392]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#destroy as JSON
  Parameters: {"project_slug"=>"slug_31"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 629], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 629], ["slug", "slug_31"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 392], ["kind", "main"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 404 Not Found in 8ms (Views: 1.0ms | ActiveRecord: 1.0ms | Allocations: 1468)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::ComposeFilesControllerTest: test_#show_-_admin_gets_compose_file
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user106@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 239"], ["last_name", "Name 240"], ["email", "user106@example.com"], ["password_digest", "$2a$04$hw.HKnRbSuBPcSdZSmVQ/.fG2To24KLuod8i/5BHQnqx8tvyb8R4S"], ["confirmation_token", "69451af1f74be85535103d907cedcd91"], ["state", "initial"], ["phone", "string_1238"], ["created_at", "2022-03-18 15:15:44.322528"], ["updated_at", "2022-03-18 15:15:44.327006"], ["github", "string_1239"], ["website", "string_1240"], ["twitter", "string_1241"], ["linkedin", "string_1242"], ["devto", "string_1243"], ["facebook", "string_1244"], ["blog", "string_1245"], ["bio", "string_1246"], ["status", "string_1247"], ["availability", "string_1248"], ["primary_skills", "string_1249"], ["learning", "string_1250"], ["coding_for", "string_1251"], ["education", "string_1252"], ["title", "string_1253"], ["work", "string_1254"], ["primary_location", "string_1255"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "davis.kozey.net"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 241"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:44.322528"], ["updated_at", "2022-03-18 15:15:44.335373"], ["state", "active"], ["domain", "davis.kozey.net"], ["owner_id", 631], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "38cb02aeaf843e3998d1afa5fcf9d497"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user106@example.com"], ["token", "38cb02aeaf843e3998d1afa5fcf9d497"], ["status", "pending"], ["created_at", "2022-03-18 15:15:44.341967"], ["updated_at", "2022-03-18 15:15:44.341967"], ["invited_by_id", 631], ["entityable_id", 414], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 631], ["account_id", 414], ["role", "admin"], ["created_at", "2022-03-18 15:15:44.346380"], ["updated_at", "2022-03-18 15:15:44.346380"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 414]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "38cb02aeaf843e3998d1afa5fcf9d497"], ["id", 624], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:44.355159"], ["invitee_id", 631], ["id", 624]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 631], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user107@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 242"], ["last_name", "Name 243"], ["email", "user107@example.com"], ["password_digest", "$2a$04$2t5XWoGojz4MjnPMRIi5cegKeZ0.ss8vKxdsw/HaEn8Ts4ZkhVMze"], ["confirmation_token", "1201ca88f1f3248a3feeb8c1d95b98ea"], ["state", "initial"], ["phone", "string_1256"], ["created_at", "2022-03-18 15:15:44.361101"], ["updated_at", "2022-03-18 15:15:44.366006"], ["github", "string_1257"], ["website", "string_1258"], ["twitter", "string_1259"], ["linkedin", "string_1260"], ["devto", "string_1261"], ["facebook", "string_1262"], ["blog", "string_1263"], ["bio", "string_1264"], ["status", "string_1265"], ["availability", "string_1266"], ["primary_skills", "string_1267"], ["learning", "string_1268"], ["coding_for", "string_1269"], ["education", "string_1270"], ["title", "string_1271"], ["work", "string_1272"], ["primary_location", "string_1273"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 631], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "12cdadb505be1bd12ed231f8606b609d"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user108@example.com"], ["token", "12cdadb505be1bd12ed231f8606b609d"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:44.376265"], ["updated_at", "2022-03-18 15:15:44.376265"], ["invited_by_id", 631], ["entityable_id", 414], ["entityable_type", "UffizziCore::Account"], ["role", "developer"], ["invitee_id", 632]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 632], ["account_id", 414], ["role", "developer"], ["created_at", "2022-03-18 15:15:44.379917"], ["updated_at", "2022-03-18 15:15:44.379917"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user109@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 244"], ["last_name", "Name 245"], ["email", "user109@example.com"], ["password_digest", "$2a$04$mKSGGAPMYX7/6IJQfPdcce5K6IU47CeglsgyR1GdkmuZQdWspgg1e"], ["confirmation_token", "9bbb050471d4c10cee85928a3de59578"], ["state", "initial"], ["phone", "string_1274"], ["created_at", "2022-03-18 15:15:44.384695"], ["updated_at", "2022-03-18 15:15:44.389101"], ["github", "string_1275"], ["website", "string_1276"], ["twitter", "string_1277"], ["linkedin", "string_1278"], ["devto", "string_1279"], ["facebook", "string_1280"], ["blog", "string_1281"], ["bio", "string_1282"], ["status", "string_1283"], ["availability", "string_1284"], ["primary_skills", "string_1285"], ["learning", "string_1286"], ["coding_for", "string_1287"], ["education", "string_1288"], ["title", "string_1289"], ["work", "string_1290"], ["primary_location", "string_1291"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "9e5f7f3b42b18fa4607d10da36c79caf"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role", "invitee_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "user110@example.com"], ["token", "9e5f7f3b42b18fa4607d10da36c79caf"], ["status", "accepted"], ["created_at", "2022-03-18 15:15:44.396086"], ["updated_at", "2022-03-18 15:15:44.396086"], ["invited_by_id", 631], ["entityable_id", 414], ["entityable_type", "UffizziCore::Account"], ["role", "viewer"], ["invitee_id", 633]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 633], ["account_id", 414], ["role", "viewer"], ["created_at", "2022-03-18 15:15:44.400373"], ["updated_at", "2022-03-18 15:15:44.400373"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 246"], ["account_id", 414], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 246"], ["created_at", "2022-03-18 15:15:44.408133"], ["updated_at", "2022-03-18 15:15:44.408133"], ["account_id", 414], ["state", "active"], ["slug", "slug_33"], ["description", "Name 247"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 414], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 631], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 631], ["project_id", 393], ["role", "admin"], ["created_at", "2022-03-18 15:15:44.414272"], ["updated_at", "2022-03-18 15:15:44.414272"], ["invited_by_id", 631]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 414], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 632], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 632], ["project_id", 393], ["role", "developer"], ["created_at", "2022-03-18 15:15:44.420388"], ["updated_at", "2022-03-18 15:15:44.420388"], ["invited_by_id", 631]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 414], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 633], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 633], ["project_id", 393], ["role", "viewer"], ["created_at", "2022-03-18 15:15:44.427288"], ["updated_at", "2022-03-18 15:15:44.427288"], ["invited_by_id", 631]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 393], ["project_id", 393], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 248"], ["project_id", 393], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 248"], ["repository_id", 62], ["branch", "string_1292"], ["path", "/volumes/directory-23"], ["auto_deploy", "disabled"], ["added_by_id", 631], ["project_id", 393], ["created_at", "2022-03-18 15:15:44.435621"], ["updated_at", "2022-03-18 15:15:44.435621"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1295"], ["password", "Password1String-81"], ["created_at", "2022-03-18 15:15:44.441651"], ["updated_at", "2022-03-18 15:15:44.441651"], ["provider_ref", "65"], ["account_id", 414], ["state", "active"], ["registry_url", "http://url15.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 250"], ["project_id", 393], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 250"], ["added_by_id", 631], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-17\",\"tag\":\"string_1293\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":64,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-17\",\"tag\":\"string_1294\",\"slug\":\"slug_34\",\"branch\":\"string_1293\",\"description\":\"Name 249\",\"repository_id\":63,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 393], ["created_at", "2022-03-18 15:15:44.449455"], ["updated_at", "2022-03-18 15:15:44.449455"], ["compose_file_id", 195], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.452687"], ["id", 393]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::ComposeFilesController#show as JSON
  Parameters: {"project_slug"=>"slug_33"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 631], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 631], ["slug", "slug_33"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 393], ["kind", "main"], ["LIMIT", 1]]
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::ComposeFileSerializer with ActiveModelSerializers::Adapter::Json (0.29ms)
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 1.0ms | Allocations: 1861)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------
UffizziCore::DeploymentServiceTest: test_#disable_when_a_temporary_compose_file_exists
--------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user111@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 251"], ["last_name", "Name 252"], ["email", "user111@example.com"], ["password_digest", "$2a$04$BGs9n6plBL.xSAP4tqjR1.ukeTQn0lvofWVR/2E4HTyh10ebRLJVm"], ["confirmation_token", "b2ad936aaff3dfbb236f75fc7a305929"], ["state", "initial"], ["phone", "string_1296"], ["created_at", "2022-03-18 15:15:44.472322"], ["updated_at", "2022-03-18 15:15:44.477147"], ["github", "string_1297"], ["website", "string_1298"], ["twitter", "string_1299"], ["linkedin", "string_1300"], ["devto", "string_1301"], ["facebook", "string_1302"], ["blog", "string_1303"], ["bio", "string_1304"], ["status", "string_1305"], ["availability", "string_1306"], ["primary_skills", "string_1307"], ["learning", "string_1308"], ["coding_for", "string_1309"], ["education", "string_1310"], ["title", "string_1311"], ["work", "string_1312"], ["primary_location", "string_1313"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "mccullough.bernier-cummerata.biz"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 253"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:44.472322"], ["updated_at", "2022-03-18 15:15:44.485923"], ["state", "active"], ["domain", "mccullough.bernier-cummerata.biz"], ["owner_id", 634], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "6232e5d5294f9582b44eb1c36c0e62aa"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user111@example.com"], ["token", "6232e5d5294f9582b44eb1c36c0e62aa"], ["status", "pending"], ["created_at", "2022-03-18 15:15:44.492533"], ["updated_at", "2022-03-18 15:15:44.492533"], ["invited_by_id", 634], ["entityable_id", 415], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 634], ["account_id", 415], ["role", "admin"], ["created_at", "2022-03-18 15:15:44.496321"], ["updated_at", "2022-03-18 15:15:44.496321"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 415]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "6232e5d5294f9582b44eb1c36c0e62aa"], ["id", 627], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:44.505366"], ["invitee_id", 634], ["id", 627]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 634], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 254"], ["account_id", 415], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 254"], ["created_at", "2022-03-18 15:15:44.514909"], ["updated_at", "2022-03-18 15:15:44.514909"], ["account_id", 415], ["state", "active"], ["slug", "slug_35"], ["description", "Name 255"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.8ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 394], ["kind", "standard"], ["created_at", "2022-03-18 15:15:44.518809"], ["updated_at", "2022-03-18 15:15:44.529897"], ["subdomain", "calcar-adinventitias"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.534734"], ["id", 394]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user112@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 256"], ["last_name", "Name 257"], ["email", "user112@example.com"], ["password_digest", "$2a$04$YMm273OZbEGIYh83VOp7MOMTUDK0fMGPQwOnvS/lh0kk6JX2xh3Cy"], ["confirmation_token", "1318c540a5545b6552f403eb7e794605"], ["state", "initial"], ["phone", "string_1314"], ["created_at", "2022-03-18 15:15:44.538815"], ["updated_at", "2022-03-18 15:15:44.543470"], ["github", "string_1315"], ["website", "string_1316"], ["twitter", "string_1317"], ["linkedin", "string_1318"], ["devto", "string_1319"], ["facebook", "string_1320"], ["blog", "string_1321"], ["bio", "string_1322"], ["status", "string_1323"], ["availability", "string_1324"], ["primary_skills", "string_1325"], ["learning", "string_1326"], ["coding_for", "string_1327"], ["education", "string_1328"], ["title", "string_1329"], ["work", "string_1330"], ["primary_location", "string_1331"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "auer.johnson-cremin.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 258"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:44.538815"], ["updated_at", "2022-03-18 15:15:44.557466"], ["state", "active"], ["domain", "auer.johnson-cremin.co"], ["owner_id", 635], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "6089e322f4111444bb0131a9b0611cb6"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user112@example.com"], ["token", "6089e322f4111444bb0131a9b0611cb6"], ["status", "pending"], ["created_at", "2022-03-18 15:15:44.566689"], ["updated_at", "2022-03-18 15:15:44.566689"], ["invited_by_id", 635], ["entityable_id", 416], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 635], ["account_id", 416], ["role", "admin"], ["created_at", "2022-03-18 15:15:44.571852"], ["updated_at", "2022-03-18 15:15:44.571852"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 416]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "6089e322f4111444bb0131a9b0611cb6"], ["id", 628], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:44.582349"], ["invitee_id", 635], ["id", 628]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "kind") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["source", "Name 259"], ["repository_id", 66], ["branch", "string_1332"], ["path", "/volumes/directory-24"], ["auto_deploy", "disabled"], ["added_by_id", 635], ["project_id", 394], ["created_at", "2022-03-18 15:15:44.586615"], ["updated_at", "2022-03-18 15:15:44.586615"], ["state", "valid_file"], ["kind", "temporary"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 261"], ["added_by_id", 635], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-18\",\"tag\":\"string_1333\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":68,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-18\",\"tag\":\"string_1334\",\"slug\":\"slug_36\",\"branch\":\"string_1333\",\"description\":\"Name 260\",\"repository_id\":67,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 394], ["created_at", "2022-03-18 15:15:44.594173"], ["updated_at", "2022-03-18 15:15:44.594173"], ["compose_file_id", 196], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.598499"], ["id", 394]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source", "compose_file_id", "template_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["project_id", 394], ["kind", "standard"], ["created_at", "2022-03-18 15:15:44.602050"], ["updated_at", "2022-03-18 15:15:44.603147"], ["subdomain", "deinde-amet"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"], ["compose_file_id", 196], ["template_id", 315]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.606499"], ["id", 394]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 69], ["deployment_id", 303], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["image", "namespace/name-19"], ["tag", "string_1335"], ["created_at", "2022-03-18 15:15:44.636891"], ["updated_at", "2022-03-18 15:15:44.636891"], ["deployment_id", 303], ["public", true], ["port", 69], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 69], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.639570"], ["id", 303]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.641609"], ["id", 394]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 303], ["target_port", 69]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "state" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:44.655295"], ["state", "disabled"], ["id", 303]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 303], ["state", "active"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUffizziCore::Container Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_containers" SET "updated_at" = $1, "state" = $2 WHERE "uffizzi_core_containers"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:44.662389"], ["state", "disabled"], ["id", 183]]
  [1m[36mUffizziCore::Container Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_containers" SET "updated_at" = $1, "public" = $2, "port" = $3, "target_port" = $4 WHERE "uffizzi_core_containers"."id" = $5[0m  [["updated_at", "2022-03-18 15:15:44.666345"], ["public", false], ["port", nil], ["target_port", nil], ["id", 183]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.668397"], ["id", 303]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.677588"], ["id", 394]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "template_id" = $1 WHERE "uffizzi_core_deployments"."template_id" = $2[0m  [["template_id", nil], ["template_id", 315]]
  [1m[36mUffizziCore::Template Destroy (0.3ms)[0m  [1m[31mDELETE FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."id" = $1[0m  [["id", 315]]
  [1m[36mUffizziCore::ConfigFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_config_files".* FROM "uffizzi_core_config_files" WHERE "uffizzi_core_config_files"."compose_file_id" = $1[0m  [["compose_file_id", 196]]
  [1m[36mUffizziCore::Deployment Update All (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "compose_file_id" = $1 WHERE "uffizzi_core_deployments"."compose_file_id" = $2[0m  [["compose_file_id", nil], ["compose_file_id", 196]]
  [1m[36mUffizziCore::ComposeFile Destroy (0.4ms)[0m  [1m[31mDELETE FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."id" = $1[0m  [["id", 196]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.684238"], ["id", 394]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates"[0m
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."id" = $1 LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UffizziCore::DeploymentServiceTest: test_#disable_when_deployment_has_no_compose_file
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user113@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 262"], ["last_name", "Name 263"], ["email", "user113@example.com"], ["password_digest", "$2a$04$8/jszaLs9Y16Lbw1RdB79O6u.qNSblvfzCFFjj97OW.Dvnq8xbEKO"], ["confirmation_token", "e1fc7b377ba932d2e1fed30c44458b0d"], ["state", "initial"], ["phone", "string_1336"], ["created_at", "2022-03-18 15:15:44.734370"], ["updated_at", "2022-03-18 15:15:44.740949"], ["github", "string_1337"], ["website", "string_1338"], ["twitter", "string_1339"], ["linkedin", "string_1340"], ["devto", "string_1341"], ["facebook", "string_1342"], ["blog", "string_1343"], ["bio", "string_1344"], ["status", "string_1345"], ["availability", "string_1346"], ["primary_skills", "string_1347"], ["learning", "string_1348"], ["coding_for", "string_1349"], ["education", "string_1350"], ["title", "string_1351"], ["work", "string_1352"], ["primary_location", "string_1353"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "leffler.schroeder-cronin.biz"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 264"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:44.734370"], ["updated_at", "2022-03-18 15:15:44.752448"], ["state", "active"], ["domain", "leffler.schroeder-cronin.biz"], ["owner_id", 636], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "8453df4cbc544c2d194922e6ae755db4"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user113@example.com"], ["token", "8453df4cbc544c2d194922e6ae755db4"], ["status", "pending"], ["created_at", "2022-03-18 15:15:44.761424"], ["updated_at", "2022-03-18 15:15:44.761424"], ["invited_by_id", 636], ["entityable_id", 417], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 636], ["account_id", 417], ["role", "admin"], ["created_at", "2022-03-18 15:15:44.766505"], ["updated_at", "2022-03-18 15:15:44.766505"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 417]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "8453df4cbc544c2d194922e6ae755db4"], ["id", 629], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:44.778325"], ["invitee_id", 636], ["id", 629]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 636], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 265"], ["account_id", 417], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 265"], ["created_at", "2022-03-18 15:15:44.787777"], ["updated_at", "2022-03-18 15:15:44.787777"], ["account_id", 417], ["state", "active"], ["slug", "slug_37"], ["description", "Name 266"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 395], ["kind", "standard"], ["created_at", "2022-03-18 15:15:44.791468"], ["updated_at", "2022-03-18 15:15:44.792471"], ["subdomain", "cariosus-appositus"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.795575"], ["id", 395]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 70], ["deployment_id", 304], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["image", "namespace/name-20"], ["tag", "string_1354"], ["created_at", "2022-03-18 15:15:44.803006"], ["updated_at", "2022-03-18 15:15:44.803006"], ["deployment_id", 304], ["public", true], ["port", 70], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 70], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.805906"], ["id", 304]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.807948"], ["id", 395]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 304], ["target_port", 70]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "state" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:44.817733"], ["state", "disabled"], ["id", 304]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 304], ["state", "active"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUffizziCore::Container Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_containers" SET "updated_at" = $1, "state" = $2 WHERE "uffizzi_core_containers"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:44.823803"], ["state", "disabled"], ["id", 184]]
  [1m[36mUffizziCore::Container Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_containers" SET "updated_at" = $1, "public" = $2, "port" = $3, "target_port" = $4 WHERE "uffizzi_core_containers"."id" = $5[0m  [["updated_at", "2022-03-18 15:15:44.827698"], ["public", false], ["port", nil], ["target_port", nil], ["id", 184]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.829501"], ["id", 304]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.832956"], ["id", 395]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates"[0m
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."id" = $1 LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
UffizziCore::DeploymentServiceTest: test_#disable_when_the_main_compose_file_exists
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user114@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 267"], ["last_name", "Name 268"], ["email", "user114@example.com"], ["password_digest", "$2a$04$b12j6KJ5f7TwO.PuO5.2U.uYnNfYxLVC8CbZw55QGeLmh4irhN9Sa"], ["confirmation_token", "5524f7343b4036f747fd2f2d9e2aff1d"], ["state", "initial"], ["phone", "string_1355"], ["created_at", "2022-03-18 15:15:44.854623"], ["updated_at", "2022-03-18 15:15:44.860510"], ["github", "string_1356"], ["website", "string_1357"], ["twitter", "string_1358"], ["linkedin", "string_1359"], ["devto", "string_1360"], ["facebook", "string_1361"], ["blog", "string_1362"], ["bio", "string_1363"], ["status", "string_1364"], ["availability", "string_1365"], ["primary_skills", "string_1366"], ["learning", "string_1367"], ["coding_for", "string_1368"], ["education", "string_1369"], ["title", "string_1370"], ["work", "string_1371"], ["primary_location", "string_1372"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "smith.borer.info"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 269"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:44.854623"], ["updated_at", "2022-03-18 15:15:44.870125"], ["state", "active"], ["domain", "smith.borer.info"], ["owner_id", 637], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "afbd75d469c5084964eac4d40ca1387d"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user114@example.com"], ["token", "afbd75d469c5084964eac4d40ca1387d"], ["status", "pending"], ["created_at", "2022-03-18 15:15:44.877187"], ["updated_at", "2022-03-18 15:15:44.877187"], ["invited_by_id", 637], ["entityable_id", 418], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 637], ["account_id", 418], ["role", "admin"], ["created_at", "2022-03-18 15:15:44.881134"], ["updated_at", "2022-03-18 15:15:44.881134"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 418]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "afbd75d469c5084964eac4d40ca1387d"], ["id", 630], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:44.891195"], ["invitee_id", 637], ["id", 630]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 637], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 270"], ["account_id", 418], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 270"], ["created_at", "2022-03-18 15:15:44.900944"], ["updated_at", "2022-03-18 15:15:44.900944"], ["account_id", 418], ["state", "active"], ["slug", "slug_38"], ["description", "Name 271"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 396], ["kind", "standard"], ["created_at", "2022-03-18 15:15:44.904607"], ["updated_at", "2022-03-18 15:15:44.905692"], ["subdomain", "tui-sperno"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.909241"], ["id", 396]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user115@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 272"], ["last_name", "Name 273"], ["email", "user115@example.com"], ["password_digest", "$2a$04$Ow3cuIFSV3HJOMRLYX3Eaes9j4APNI6futP1iI3lt1os3wk4UKVw6"], ["confirmation_token", "0a71ce5897e2ef94ce356a9e3f545a42"], ["state", "initial"], ["phone", "string_1373"], ["created_at", "2022-03-18 15:15:44.912763"], ["updated_at", "2022-03-18 15:15:44.917090"], ["github", "string_1374"], ["website", "string_1375"], ["twitter", "string_1376"], ["linkedin", "string_1377"], ["devto", "string_1378"], ["facebook", "string_1379"], ["blog", "string_1380"], ["bio", "string_1381"], ["status", "string_1382"], ["availability", "string_1383"], ["primary_skills", "string_1384"], ["learning", "string_1385"], ["coding_for", "string_1386"], ["education", "string_1387"], ["title", "string_1388"], ["work", "string_1389"], ["primary_location", "string_1390"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "marquardt.zboncak-braun.org"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 274"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:44.912763"], ["updated_at", "2022-03-18 15:15:44.925363"], ["state", "active"], ["domain", "marquardt.zboncak-braun.org"], ["owner_id", 638], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "e6ad0531979878739b18dfbb49f601eb"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user115@example.com"], ["token", "e6ad0531979878739b18dfbb49f601eb"], ["status", "pending"], ["created_at", "2022-03-18 15:15:44.931914"], ["updated_at", "2022-03-18 15:15:44.931914"], ["invited_by_id", 638], ["entityable_id", 419], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 638], ["account_id", 419], ["role", "admin"], ["created_at", "2022-03-18 15:15:44.935642"], ["updated_at", "2022-03-18 15:15:44.935642"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 419]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "e6ad0531979878739b18dfbb49f601eb"], ["id", 631], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:44.944288"], ["invitee_id", 638], ["id", 631]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 396], ["project_id", 396], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 275"], ["project_id", 396], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 275"], ["repository_id", 71], ["branch", "string_1391"], ["path", "/volumes/directory-25"], ["auto_deploy", "disabled"], ["added_by_id", 638], ["project_id", 396], ["created_at", "2022-03-18 15:15:44.953223"], ["updated_at", "2022-03-18 15:15:44.953223"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 277"], ["project_id", 396], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 277"], ["added_by_id", 638], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-21\",\"tag\":\"string_1392\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":73,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-21\",\"tag\":\"string_1393\",\"slug\":\"slug_39\",\"branch\":\"string_1392\",\"description\":\"Name 276\",\"repository_id\":72,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 396], ["created_at", "2022-03-18 15:15:44.962347"], ["updated_at", "2022-03-18 15:15:44.962347"], ["compose_file_id", 197], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.964975"], ["id", 396]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source", "compose_file_id", "template_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["project_id", 396], ["kind", "standard"], ["created_at", "2022-03-18 15:15:44.968370"], ["updated_at", "2022-03-18 15:15:44.969274"], ["subdomain", "combibo-adfero"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"], ["compose_file_id", 197], ["template_id", 316]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.972988"], ["id", 396]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 74], ["deployment_id", 306], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["image", "namespace/name-22"], ["tag", "string_1394"], ["created_at", "2022-03-18 15:15:44.980269"], ["updated_at", "2022-03-18 15:15:44.980269"], ["deployment_id", 306], ["public", true], ["port", 74], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 74], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.982455"], ["id", 306]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:44.984418"], ["id", 396]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 306], ["target_port", 74]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "state" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:44.994037"], ["state", "disabled"], ["id", 306]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 306], ["state", "active"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUffizziCore::Container Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_containers" SET "updated_at" = $1, "state" = $2 WHERE "uffizzi_core_containers"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:45.000299"], ["state", "disabled"], ["id", 185]]
  [1m[36mUffizziCore::Container Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_containers" SET "updated_at" = $1, "public" = $2, "port" = $3, "target_port" = $4 WHERE "uffizzi_core_containers"."id" = $5[0m  [["updated_at", "2022-03-18 15:15:45.004260"], ["public", false], ["port", nil], ["target_port", nil], ["id", 185]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.006089"], ["id", 306]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.009452"], ["id", 396]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates"[0m
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------
UffizziCore::DeploymentServiceTest: test_#deploy_containers_-_start_to_deploy_github_container
----------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user116@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 278"], ["last_name", "Name 279"], ["email", "user116@example.com"], ["password_digest", "$2a$04$lV8qQmiUefR8GXpIy/iGgeO8t0CgREJkneRxYWylMW2/S5nnQnpNS"], ["confirmation_token", "0894abd3ee5ef2cebcb75fe3668be75c"], ["state", "initial"], ["phone", "string_1395"], ["created_at", "2022-03-18 15:15:45.031310"], ["updated_at", "2022-03-18 15:15:45.037260"], ["github", "string_1396"], ["website", "string_1397"], ["twitter", "string_1398"], ["linkedin", "string_1399"], ["devto", "string_1400"], ["facebook", "string_1401"], ["blog", "string_1402"], ["bio", "string_1403"], ["status", "string_1404"], ["availability", "string_1405"], ["primary_skills", "string_1406"], ["learning", "string_1407"], ["coding_for", "string_1408"], ["education", "string_1409"], ["title", "string_1410"], ["work", "string_1411"], ["primary_location", "string_1412"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "fritsch.lakin.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 280"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:45.031310"], ["updated_at", "2022-03-18 15:15:45.048369"], ["state", "active"], ["domain", "fritsch.lakin.com"], ["owner_id", 639], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "5adb52840d7910aac168f93a5dfc6ead"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user116@example.com"], ["token", "5adb52840d7910aac168f93a5dfc6ead"], ["status", "pending"], ["created_at", "2022-03-18 15:15:45.057352"], ["updated_at", "2022-03-18 15:15:45.057352"], ["invited_by_id", 639], ["entityable_id", 420], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 639], ["account_id", 420], ["role", "admin"], ["created_at", "2022-03-18 15:15:45.061568"], ["updated_at", "2022-03-18 15:15:45.061568"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 420]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "5adb52840d7910aac168f93a5dfc6ead"], ["id", 632], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:45.070311"], ["invitee_id", 639], ["id", 632]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 639], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 281"], ["account_id", 420], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 281"], ["created_at", "2022-03-18 15:15:45.079184"], ["updated_at", "2022-03-18 15:15:45.079184"], ["account_id", 420], ["state", "active"], ["slug", "slug_40"], ["description", "Name 282"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 397], ["kind", "standard"], ["created_at", "2022-03-18 15:15:45.082614"], ["updated_at", "2022-03-18 15:15:45.083672"], ["subdomain", "volo-valeo"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.087524"], ["id", 397]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 639], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1413"], ["password", "Password1String-88"], ["created_at", "2022-03-18 15:15:45.093547"], ["updated_at", "2022-03-18 15:15:45.093547"], ["account_id", 420], ["state", "not_connected"], ["registry_url", "http://url16.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::Github Create (0.9ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "string_1414"], ["name", "string_1415"], ["tag", "string_1416"], ["type", "UffizziCore::Repo::Github"], ["branch", "string_1417"], ["project_id", 397], ["created_at", "2022-03-18 15:15:45.132585"], ["updated_at", "2022-03-18 15:15:45.132585"], ["description", "Name 283"], ["slug", "slug_41"], ["repository_id", 75], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "repo_id", "state", "continuously_deploy", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["image", "namespace/name-23"], ["tag", "string_1418"], ["created_at", "2022-03-18 15:15:45.142500"], ["updated_at", "2022-03-18 15:15:45.142500"], ["deployment_id", 307], ["repo_id", 148], ["state", "active"], ["continuously_deploy", "disabled"], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.148941"], ["id", 307]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.151109"], ["id", 397]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."type" = $1[0m  [["type", "UffizziCore::ActivityItem::Github"]]
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 307], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."namespace" = $1 AND "uffizzi_core_activity_items"."name" = $2 AND "uffizzi_core_activity_items"."container_id" = $3 AND "uffizzi_core_activity_items"."deployment_id" = $4 AND "uffizzi_core_activity_items"."branch" = $5 AND "uffizzi_core_activity_items"."type" = $6 LIMIT $7[0m  [["namespace", "string_1414"], ["name", "string_1415"], ["container_id", 186], ["deployment_id", 307], ["branch", "string_1417"], ["type", "UffizziCore::ActivityItem::Github"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "branch", "type", "container_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["deployment_id", 307], ["namespace", "string_1414"], ["name", "string_1415"], ["branch", "string_1417"], ["type", "UffizziCore::ActivityItem::Github"], ["container_id", 186], ["created_at", "2022-03-18 15:15:45.200541"], ["updated_at", "2022-03-18 15:15:45.200541"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 92], ["state", "building"], ["created_at", "2022-03-18 15:15:45.217076"], ["updated_at", "2022-03-18 15:15:45.217076"]]
  [1m[36mUffizziCore::ActivityItem::Github Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.220656"], ["id", 92]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 397], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 420], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 420], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "uffizzi_core_containers"."id" AS t0_r0, "uffizzi_core_containers"."image" AS t0_r1, "uffizzi_core_containers"."tag" AS t0_r2, "uffizzi_core_containers"."variables" AS t0_r3, "uffizzi_core_containers"."created_at" AS t0_r4, "uffizzi_core_containers"."updated_at" AS t0_r5, "uffizzi_core_containers"."deployment_id" AS t0_r6, "uffizzi_core_containers"."public" AS t0_r7, "uffizzi_core_containers"."port" AS t0_r8, "uffizzi_core_containers"."repo_id" AS t0_r9, "uffizzi_core_containers"."state" AS t0_r10, "uffizzi_core_containers"."continuously_deploy" AS t0_r11, "uffizzi_core_containers"."kind" AS t0_r12, "uffizzi_core_containers"."target_port" AS t0_r13, "uffizzi_core_containers"."controller_name" AS t0_r14, "uffizzi_core_containers"."receive_incoming_requests" AS t0_r15, "uffizzi_core_containers"."memory_request" AS t0_r16, "uffizzi_core_containers"."memory_limit" AS t0_r17, "uffizzi_core_containers"."secret_variables" AS t0_r18, "uffizzi_core_containers"."entrypoint" AS t0_r19, "uffizzi_core_containers"."command" AS t0_r20, "repo"."id" AS t1_r0, "repo"."namespace" AS t1_r1, "repo"."name" AS t1_r2, "repo"."tag" AS t1_r3, "repo"."type" AS t1_r4, "repo"."branch" AS t1_r5, "repo"."project_id" AS t1_r6, "repo"."created_at" AS t1_r7, "repo"."updated_at" AS t1_r8, "repo"."description" AS t1_r9, "repo"."is_private" AS t1_r10, "repo"."slug" AS t1_r11, "repo"."repository_id" AS t1_r12, "repo"."kind" AS t1_r13, "repo"."dockerfile_path" AS t1_r14, "repo"."args" AS t1_r15, "repo"."dockerfile_context_path" AS t1_r16, "repo"."deploy_preview_when_pull_request_is_opened" AS t1_r17, "repo"."delete_preview_when_pull_request_is_closed" AS t1_r18, "repo"."deploy_preview_when_image_tag_is_created" AS t1_r19, "repo"."delete_preview_when_image_tag_is_updated" AS t1_r20, "repo"."share_to_github" AS t1_r21, "repo"."delete_preview_after" AS t1_r22, "repo"."tag_pattern_deprecated" AS t1_r23 FROM "uffizzi_core_containers" LEFT OUTER JOIN "uffizzi_core_repos" "repo" ON "repo"."id" = "uffizzi_core_containers"."repo_id" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "repo"."type" = $3[0m  [["deployment_id", 307], ["state", "active"], ["type", "UffizziCore::Repo::Github"]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 307], ["state", "active"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_containers" SET "updated_at" = $1, "controller_name" = $2 WHERE "uffizzi_core_containers"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:45.254939"], ["controller_name", "a964fde2dd"], ["id", 186]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.257743"], ["id", 307]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.259596"], ["id", 397]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 307], ["state", "active"]]
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 186], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 92], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=307 repeat deploy_containers
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."type" = $1[0m  [["type", "UffizziCore::ActivityItem::Github"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------
UffizziCore::DeploymentServiceTest: test_#deploy_containers_-_start_to_deploy_dockerhub_container
-------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user117@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 284"], ["last_name", "Name 285"], ["email", "user117@example.com"], ["password_digest", "$2a$04$FkS3A9XC3x2LmDIAssml4.R3jV9krVZt2A8mEikP.zzC02cRFTWSO"], ["confirmation_token", "3a3b9c9f745b58b2f1ebaf536b73fbb0"], ["state", "initial"], ["phone", "string_1419"], ["created_at", "2022-03-18 15:15:45.275728"], ["updated_at", "2022-03-18 15:15:45.279980"], ["github", "string_1420"], ["website", "string_1421"], ["twitter", "string_1422"], ["linkedin", "string_1423"], ["devto", "string_1424"], ["facebook", "string_1425"], ["blog", "string_1426"], ["bio", "string_1427"], ["status", "string_1428"], ["availability", "string_1429"], ["primary_skills", "string_1430"], ["learning", "string_1431"], ["coding_for", "string_1432"], ["education", "string_1433"], ["title", "string_1434"], ["work", "string_1435"], ["primary_location", "string_1436"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "yundt.carter.io"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 286"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:45.275728"], ["updated_at", "2022-03-18 15:15:45.288117"], ["state", "active"], ["domain", "yundt.carter.io"], ["owner_id", 640], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "2f7ea98954ca3315b9629ddf90652c87"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user117@example.com"], ["token", "2f7ea98954ca3315b9629ddf90652c87"], ["status", "pending"], ["created_at", "2022-03-18 15:15:45.294339"], ["updated_at", "2022-03-18 15:15:45.294339"], ["invited_by_id", 640], ["entityable_id", 421], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 640], ["account_id", 421], ["role", "admin"], ["created_at", "2022-03-18 15:15:45.297894"], ["updated_at", "2022-03-18 15:15:45.297894"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 421]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "2f7ea98954ca3315b9629ddf90652c87"], ["id", 633], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:45.306536"], ["invitee_id", 640], ["id", 633]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 640], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 287"], ["account_id", 421], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 287"], ["created_at", "2022-03-18 15:15:45.315151"], ["updated_at", "2022-03-18 15:15:45.315151"], ["account_id", 421], ["state", "active"], ["slug", "slug_42"], ["description", "Name 288"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 398], ["kind", "standard"], ["created_at", "2022-03-18 15:15:45.318667"], ["updated_at", "2022-03-18 15:15:45.319589"], ["subdomain", "curriculum-adfero"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.322805"], ["id", 398]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::DockerHub Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "string_1437"], ["name", "string_1438"], ["tag", "string_1439"], ["type", "UffizziCore::Repo::DockerHub"], ["branch", "string_1440"], ["project_id", 398], ["created_at", "2022-03-18 15:15:45.343016"], ["updated_at", "2022-03-18 15:15:45.343016"], ["description", "Name 289"], ["slug", "slug_43"], ["repository_id", 76], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "repo_id", "state", "continuously_deploy", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["image", "namespace/name-24"], ["tag", "string_1441"], ["created_at", "2022-03-18 15:15:45.351045"], ["updated_at", "2022-03-18 15:15:45.351045"], ["deployment_id", 308], ["repo_id", 149], ["state", "active"], ["continuously_deploy", "disabled"], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.354396"], ["id", 308]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.356365"], ["id", 398]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."state" = $1[0m  [["state", "deploying"]]
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 308], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."namespace" = $1 AND "uffizzi_core_activity_items"."name" = $2 AND "uffizzi_core_activity_items"."container_id" = $3 AND "uffizzi_core_activity_items"."deployment_id" = $4 AND "uffizzi_core_activity_items"."type" = $5 AND "uffizzi_core_activity_items"."tag" = $6 LIMIT $7[0m  [["namespace", "string_1437"], ["name", "string_1438"], ["container_id", 187], ["deployment_id", 308], ["type", "UffizziCore::ActivityItem::Docker"], ["tag", "string_1441"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem::Docker Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "type", "container_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["deployment_id", 308], ["namespace", "string_1437"], ["name", "string_1438"], ["tag", "string_1441"], ["type", "UffizziCore::ActivityItem::Docker"], ["container_id", 187], ["created_at", "2022-03-18 15:15:45.382667"], ["updated_at", "2022-03-18 15:15:45.382667"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 93], ["state", "deploying"], ["created_at", "2022-03-18 15:15:45.386452"], ["updated_at", "2022-03-18 15:15:45.386452"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.389724"], ["id", 93]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 398], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 421], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_containers"."id" AS t0_r0, "uffizzi_core_containers"."image" AS t0_r1, "uffizzi_core_containers"."tag" AS t0_r2, "uffizzi_core_containers"."variables" AS t0_r3, "uffizzi_core_containers"."created_at" AS t0_r4, "uffizzi_core_containers"."updated_at" AS t0_r5, "uffizzi_core_containers"."deployment_id" AS t0_r6, "uffizzi_core_containers"."public" AS t0_r7, "uffizzi_core_containers"."port" AS t0_r8, "uffizzi_core_containers"."repo_id" AS t0_r9, "uffizzi_core_containers"."state" AS t0_r10, "uffizzi_core_containers"."continuously_deploy" AS t0_r11, "uffizzi_core_containers"."kind" AS t0_r12, "uffizzi_core_containers"."target_port" AS t0_r13, "uffizzi_core_containers"."controller_name" AS t0_r14, "uffizzi_core_containers"."receive_incoming_requests" AS t0_r15, "uffizzi_core_containers"."memory_request" AS t0_r16, "uffizzi_core_containers"."memory_limit" AS t0_r17, "uffizzi_core_containers"."secret_variables" AS t0_r18, "uffizzi_core_containers"."entrypoint" AS t0_r19, "uffizzi_core_containers"."command" AS t0_r20, "repo"."id" AS t1_r0, "repo"."namespace" AS t1_r1, "repo"."name" AS t1_r2, "repo"."tag" AS t1_r3, "repo"."type" AS t1_r4, "repo"."branch" AS t1_r5, "repo"."project_id" AS t1_r6, "repo"."created_at" AS t1_r7, "repo"."updated_at" AS t1_r8, "repo"."description" AS t1_r9, "repo"."is_private" AS t1_r10, "repo"."slug" AS t1_r11, "repo"."repository_id" AS t1_r12, "repo"."kind" AS t1_r13, "repo"."dockerfile_path" AS t1_r14, "repo"."args" AS t1_r15, "repo"."dockerfile_context_path" AS t1_r16, "repo"."deploy_preview_when_pull_request_is_opened" AS t1_r17, "repo"."delete_preview_when_pull_request_is_closed" AS t1_r18, "repo"."deploy_preview_when_image_tag_is_created" AS t1_r19, "repo"."delete_preview_when_image_tag_is_updated" AS t1_r20, "repo"."share_to_github" AS t1_r21, "repo"."delete_preview_after" AS t1_r22, "repo"."tag_pattern_deprecated" AS t1_r23 FROM "uffizzi_core_containers" LEFT OUTER JOIN "uffizzi_core_repos" "repo" ON "repo"."id" = "uffizzi_core_containers"."repo_id" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "repo"."type" = $3[0m  [["deployment_id", 308], ["state", "active"], ["type", "UffizziCore::Repo::Github"]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 308], ["state", "active"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_containers" SET "updated_at" = $1, "controller_name" = $2 WHERE "uffizzi_core_containers"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:45.403003"], ["controller_name", "a2ef204445"], ["id", 187]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.406609"], ["id", 308]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.408485"], ["id", 398]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Load (0.8ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 308], ["state", "active"]]
  [1m[36mUffizziCore::ActivityItem Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 187], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 93], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=308 start deploying into controller
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 308], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 398], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 421], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ContainerConfigFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_container_config_files".* FROM "uffizzi_core_container_config_files" WHERE "uffizzi_core_container_config_files"."container_id" = $1[0m  [["container_id", 187]]
  [1m[36mUffizziCore::Credential Load (0.8ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" INNER JOIN "uffizzi_core_accounts" ON "uffizzi_core_credentials"."account_id" = "uffizzi_core_accounts"."id" INNER JOIN "uffizzi_core_projects" ON "uffizzi_core_accounts"."id" = "uffizzi_core_projects"."account_id" WHERE "uffizzi_core_projects"."id" = $1 AND "uffizzi_core_credentials"."type" IN ($2, $3, $4, $5)[0m  [["id", 398], ["type", "UffizziCore::Credential::DockerHub"], ["type", "UffizziCore::Credential::Azure"], ["type", "UffizziCore::Credential::Google"], ["type", "UffizziCore::Credential::Amazon"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."state" = $1[0m  [["state", "deploying"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------
UffizziCore::DeploymentServiceTest: test_#deploy_containers_-_empty_spec
------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user118@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 290"], ["last_name", "Name 291"], ["email", "user118@example.com"], ["password_digest", "$2a$04$AVFh4ZKByNDXYCzfLJss1e8501Kn6bwkMotv4WSzo5FIh1sUISxYy"], ["confirmation_token", "fa0ed210c39a32e07931509ef6d559cb"], ["state", "initial"], ["phone", "string_1442"], ["created_at", "2022-03-18 15:15:45.543331"], ["updated_at", "2022-03-18 15:15:45.547837"], ["github", "string_1443"], ["website", "string_1444"], ["twitter", "string_1445"], ["linkedin", "string_1446"], ["devto", "string_1447"], ["facebook", "string_1448"], ["blog", "string_1449"], ["bio", "string_1450"], ["status", "string_1451"], ["availability", "string_1452"], ["primary_skills", "string_1453"], ["learning", "string_1454"], ["coding_for", "string_1455"], ["education", "string_1456"], ["title", "string_1457"], ["work", "string_1458"], ["primary_location", "string_1459"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "rogahn-vandervort.armstrong.io"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 292"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:45.543331"], ["updated_at", "2022-03-18 15:15:45.555682"], ["state", "active"], ["domain", "rogahn-vandervort.armstrong.io"], ["owner_id", 641], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "3ee34f0ffbc5a604ef83d600487691b9"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user118@example.com"], ["token", "3ee34f0ffbc5a604ef83d600487691b9"], ["status", "pending"], ["created_at", "2022-03-18 15:15:45.562127"], ["updated_at", "2022-03-18 15:15:45.562127"], ["invited_by_id", 641], ["entityable_id", 422], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 641], ["account_id", 422], ["role", "admin"], ["created_at", "2022-03-18 15:15:45.565872"], ["updated_at", "2022-03-18 15:15:45.565872"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 422]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "3ee34f0ffbc5a604ef83d600487691b9"], ["id", 634], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:45.575349"], ["invitee_id", 641], ["id", 634]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 641], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 293"], ["account_id", 422], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 293"], ["created_at", "2022-03-18 15:15:45.584146"], ["updated_at", "2022-03-18 15:15:45.584146"], ["account_id", 422], ["state", "active"], ["slug", "slug_44"], ["description", "Name 294"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 399], ["kind", "standard"], ["created_at", "2022-03-18 15:15:45.588243"], ["updated_at", "2022-03-18 15:15:45.589152"], ["subdomain", "ventus-aeneus"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.592706"], ["id", 399]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 309], ["state", "active"]]
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_containers"."id" AS t0_r0, "uffizzi_core_containers"."image" AS t0_r1, "uffizzi_core_containers"."tag" AS t0_r2, "uffizzi_core_containers"."variables" AS t0_r3, "uffizzi_core_containers"."created_at" AS t0_r4, "uffizzi_core_containers"."updated_at" AS t0_r5, "uffizzi_core_containers"."deployment_id" AS t0_r6, "uffizzi_core_containers"."public" AS t0_r7, "uffizzi_core_containers"."port" AS t0_r8, "uffizzi_core_containers"."repo_id" AS t0_r9, "uffizzi_core_containers"."state" AS t0_r10, "uffizzi_core_containers"."continuously_deploy" AS t0_r11, "uffizzi_core_containers"."kind" AS t0_r12, "uffizzi_core_containers"."target_port" AS t0_r13, "uffizzi_core_containers"."controller_name" AS t0_r14, "uffizzi_core_containers"."receive_incoming_requests" AS t0_r15, "uffizzi_core_containers"."memory_request" AS t0_r16, "uffizzi_core_containers"."memory_limit" AS t0_r17, "uffizzi_core_containers"."secret_variables" AS t0_r18, "uffizzi_core_containers"."entrypoint" AS t0_r19, "uffizzi_core_containers"."command" AS t0_r20, "repo"."id" AS t1_r0, "repo"."namespace" AS t1_r1, "repo"."name" AS t1_r2, "repo"."tag" AS t1_r3, "repo"."type" AS t1_r4, "repo"."branch" AS t1_r5, "repo"."project_id" AS t1_r6, "repo"."created_at" AS t1_r7, "repo"."updated_at" AS t1_r8, "repo"."description" AS t1_r9, "repo"."is_private" AS t1_r10, "repo"."slug" AS t1_r11, "repo"."repository_id" AS t1_r12, "repo"."kind" AS t1_r13, "repo"."dockerfile_path" AS t1_r14, "repo"."args" AS t1_r15, "repo"."dockerfile_context_path" AS t1_r16, "repo"."deploy_preview_when_pull_request_is_opened" AS t1_r17, "repo"."delete_preview_when_pull_request_is_closed" AS t1_r18, "repo"."deploy_preview_when_image_tag_is_created" AS t1_r19, "repo"."delete_preview_when_image_tag_is_updated" AS t1_r20, "repo"."share_to_github" AS t1_r21, "repo"."delete_preview_after" AS t1_r22, "repo"."tag_pattern_deprecated" AS t1_r23 FROM "uffizzi_core_containers" LEFT OUTER JOIN "uffizzi_core_repos" "repo" ON "repo"."id" = "uffizzi_core_containers"."repo_id" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "repo"."type" = $3[0m  [["deployment_id", 309], ["state", "active"], ["type", "UffizziCore::Repo::Github"]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 309], ["state", "active"]]
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 309], ["state", "active"]]
DEPLOYMENT_PROCESS deployment_id=309 start deploying into controller
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 309], ["state", "active"]]
  [1m[36mUffizziCore::Credential Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" INNER JOIN "uffizzi_core_accounts" ON "uffizzi_core_credentials"."account_id" = "uffizzi_core_accounts"."id" INNER JOIN "uffizzi_core_projects" ON "uffizzi_core_accounts"."id" = "uffizzi_core_projects"."account_id" WHERE "uffizzi_core_projects"."id" = $1 AND "uffizzi_core_credentials"."type" IN ($2, $3, $4, $5)[0m  [["id", 399], ["type", "UffizziCore::Credential::DockerHub"], ["type", "UffizziCore::Credential::Azure"], ["type", "UffizziCore::Credential::Google"], ["type", "UffizziCore::Credential::Amazon"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------------
UffizziCore::ActivityItemServiceTest: test_#manage_deploy_activity_item_-_pending_resource_availability
-------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user119@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 295"], ["last_name", "Name 296"], ["email", "user119@example.com"], ["password_digest", "$2a$04$mwqAtPmU4GJ6MfpfJHHA6O0pCWWx6aLNrjhFZnBEuY4xVlHnxWPsW"], ["confirmation_token", "7c186f21e798606bb084da4d894d8ab2"], ["state", "initial"], ["phone", "string_1460"], ["created_at", "2022-03-18 15:15:45.641535"], ["updated_at", "2022-03-18 15:15:45.648713"], ["github", "string_1461"], ["website", "string_1462"], ["twitter", "string_1463"], ["linkedin", "string_1464"], ["devto", "string_1465"], ["facebook", "string_1466"], ["blog", "string_1467"], ["bio", "string_1468"], ["status", "string_1469"], ["availability", "string_1470"], ["primary_skills", "string_1471"], ["learning", "string_1472"], ["coding_for", "string_1473"], ["education", "string_1474"], ["title", "string_1475"], ["work", "string_1476"], ["primary_location", "string_1477"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "williamson-williamson.kovacek-howell.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 297"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:45.641535"], ["updated_at", "2022-03-18 15:15:45.659554"], ["state", "active"], ["domain", "williamson-williamson.kovacek-howell.com"], ["owner_id", 642], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "f1c60f5c294caa6574fbc09070ec77b7"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user119@example.com"], ["token", "f1c60f5c294caa6574fbc09070ec77b7"], ["status", "pending"], ["created_at", "2022-03-18 15:15:45.667764"], ["updated_at", "2022-03-18 15:15:45.667764"], ["invited_by_id", 642], ["entityable_id", 423], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 642], ["account_id", 423], ["role", "admin"], ["created_at", "2022-03-18 15:15:45.672789"], ["updated_at", "2022-03-18 15:15:45.672789"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 423]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "f1c60f5c294caa6574fbc09070ec77b7"], ["id", 635], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:45.683340"], ["invitee_id", 642], ["id", 635]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 642], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 298"], ["account_id", 423], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 298"], ["created_at", "2022-03-18 15:15:45.693724"], ["updated_at", "2022-03-18 15:15:45.693724"], ["account_id", 423], ["state", "active"], ["slug", "slug_45"], ["description", "Name 299"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 400], ["kind", "standard"], ["created_at", "2022-03-18 15:15:45.697999"], ["updated_at", "2022-03-18 15:15:45.699156"], ["subdomain", "cupressus-valetudo"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.702276"], ["id", 400]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::DockerHub Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "string_1478"], ["name", "string_1479"], ["tag", "string_1480"], ["type", "UffizziCore::Repo::DockerHub"], ["branch", "string_1481"], ["project_id", 400], ["created_at", "2022-03-18 15:15:45.706482"], ["updated_at", "2022-03-18 15:15:45.706482"], ["description", "Name 300"], ["slug", "slug_46"], ["repository_id", 77], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 78], ["deployment_id", 310], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["image", "library/nginx"], ["tag", "string_1482"], ["created_at", "2022-03-18 15:15:45.715613"], ["updated_at", "2022-03-18 15:15:45.715613"], ["deployment_id", 310], ["public", true], ["port", 78], ["repo_id", 150], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 78], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.3ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.717739"], ["id", 310]]
  [1m[36mUffizziCore::Project Update (0.3ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.719646"], ["id", 400]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 310], ["target_port", 78]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem::Docker Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "branch", "type", "container_id", "commit", "commit_message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["deployment_id", 310], ["namespace", "library"], ["name", "nginx"], ["tag", "string_1482"], ["branch", ""], ["type", "UffizziCore::ActivityItem::Docker"], ["container_id", 188], ["commit", "commit-hash-1"], ["commit_message", "commit-message-1"], ["created_at", "2022-03-18 15:15:45.725409"], ["updated_at", "2022-03-18 15:15:45.725409"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 94], ["state", "deploying"], ["created_at", "2022-03-18 15:15:45.742483"], ["updated_at", "2022-03-18 15:15:45.742483"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.746378"], ["id", 94]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events"[0m
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "uffizzi_core_containers"."public" = $3[0m  [["deployment_id", 310], ["state", "active"], ["public", true]]
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 310], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 94], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------
UffizziCore::ActivityItemServiceTest: test_#manage_deploy_activity_item_-_resource_is_unavailable
-------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user120@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 303"], ["last_name", "Name 304"], ["email", "user120@example.com"], ["password_digest", "$2a$04$tpiPv4J58p3EX8B4lO/M6uemddZ7E/sPYC1QOoP1iKkSQ5fJsey/a"], ["confirmation_token", "db6af2c1c39d088686cde20cc49756b1"], ["state", "initial"], ["phone", "string_1483"], ["created_at", "2022-03-18 15:15:45.850057"], ["updated_at", "2022-03-18 15:15:45.854830"], ["github", "string_1484"], ["website", "string_1485"], ["twitter", "string_1486"], ["linkedin", "string_1487"], ["devto", "string_1488"], ["facebook", "string_1489"], ["blog", "string_1490"], ["bio", "string_1491"], ["status", "string_1492"], ["availability", "string_1493"], ["primary_skills", "string_1494"], ["learning", "string_1495"], ["coding_for", "string_1496"], ["education", "string_1497"], ["title", "string_1498"], ["work", "string_1499"], ["primary_location", "string_1500"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "nicolas.gibson.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 305"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:45.850057"], ["updated_at", "2022-03-18 15:15:45.863236"], ["state", "active"], ["domain", "nicolas.gibson.com"], ["owner_id", 643], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "a1e9a85e423ef295a16199804ec80761"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user120@example.com"], ["token", "a1e9a85e423ef295a16199804ec80761"], ["status", "pending"], ["created_at", "2022-03-18 15:15:45.870166"], ["updated_at", "2022-03-18 15:15:45.870166"], ["invited_by_id", 643], ["entityable_id", 424], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 643], ["account_id", 424], ["role", "admin"], ["created_at", "2022-03-18 15:15:45.873706"], ["updated_at", "2022-03-18 15:15:45.873706"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 424]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "a1e9a85e423ef295a16199804ec80761"], ["id", 636], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:45.881920"], ["invitee_id", 643], ["id", 636]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 643], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 306"], ["account_id", 424], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 306"], ["created_at", "2022-03-18 15:15:45.890814"], ["updated_at", "2022-03-18 15:15:45.890814"], ["account_id", 424], ["state", "active"], ["slug", "slug_47"], ["description", "Name 307"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 401], ["kind", "standard"], ["created_at", "2022-03-18 15:15:45.894085"], ["updated_at", "2022-03-18 15:15:45.895079"], ["subdomain", "beneficium-baiulus"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.898238"], ["id", 401]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::DockerHub Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "string_1501"], ["name", "string_1502"], ["tag", "string_1503"], ["type", "UffizziCore::Repo::DockerHub"], ["branch", "string_1504"], ["project_id", 401], ["created_at", "2022-03-18 15:15:45.904264"], ["updated_at", "2022-03-18 15:15:45.904264"], ["description", "Name 308"], ["slug", "slug_48"], ["repository_id", 79], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 80], ["deployment_id", 311], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["image", "library/nginx"], ["tag", "string_1505"], ["created_at", "2022-03-18 15:15:45.913914"], ["updated_at", "2022-03-18 15:15:45.913914"], ["deployment_id", 311], ["public", true], ["port", 80], ["repo_id", 151], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 80], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.916699"], ["id", 311]]
  [1m[36mUffizziCore::Project Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.919247"], ["id", 401]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 311], ["target_port", 80]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem::Docker Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "branch", "type", "container_id", "commit", "commit_message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["deployment_id", 311], ["namespace", "library"], ["name", "nginx"], ["tag", "string_1505"], ["branch", ""], ["type", "UffizziCore::ActivityItem::Docker"], ["container_id", 189], ["commit", "commit-hash-2"], ["commit_message", "commit-message-2"], ["created_at", "2022-03-18 15:15:45.926108"], ["updated_at", "2022-03-18 15:15:45.926108"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 95], ["state", "building"], ["created_at", "2022-03-18 15:15:45.931581"], ["updated_at", "2022-03-18 15:15:45.931581"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.934388"], ["id", 95]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."state" = $1[0m  [["state", "failed"]]
  [1m[36mUffizziCore::Container Load (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "uffizzi_core_containers"."public" = $3[0m  [["deployment_id", 311], ["state", "active"], ["public", true]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 311], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 95], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 95], ["state", "failed"], ["created_at", "2022-03-18 15:15:45.969826"], ["updated_at", "2022-03-18 15:15:45.969826"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:45.972981"], ["id", 95]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."state" = $1[0m  [["state", "failed"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------
UffizziCore::ActivityItemServiceTest: test_#manage_deploy_activity_item_-_successfully_deployed_resources
---------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user121@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 311"], ["last_name", "Name 312"], ["email", "user121@example.com"], ["password_digest", "$2a$04$PtJfhoH6ZN6oUM2BkahYSeyAITzx1uJ2TH0hzLQ8/8k1m8YaTNv5e"], ["confirmation_token", "808ef10cb85c178bc9e437487c172e96"], ["state", "initial"], ["phone", "string_1506"], ["created_at", "2022-03-18 15:15:45.983970"], ["updated_at", "2022-03-18 15:15:45.988474"], ["github", "string_1507"], ["website", "string_1508"], ["twitter", "string_1509"], ["linkedin", "string_1510"], ["devto", "string_1511"], ["facebook", "string_1512"], ["blog", "string_1513"], ["bio", "string_1514"], ["status", "string_1515"], ["availability", "string_1516"], ["primary_skills", "string_1517"], ["learning", "string_1518"], ["coding_for", "string_1519"], ["education", "string_1520"], ["title", "string_1521"], ["work", "string_1522"], ["primary_location", "string_1523"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "hand.prosacco.org"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 313"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:45.983970"], ["updated_at", "2022-03-18 15:15:45.996817"], ["state", "active"], ["domain", "hand.prosacco.org"], ["owner_id", 644], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "74d2d1380425e61326be566ac82c4d28"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user121@example.com"], ["token", "74d2d1380425e61326be566ac82c4d28"], ["status", "pending"], ["created_at", "2022-03-18 15:15:46.003255"], ["updated_at", "2022-03-18 15:15:46.003255"], ["invited_by_id", 644], ["entityable_id", 425], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 644], ["account_id", 425], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.006740"], ["updated_at", "2022-03-18 15:15:46.006740"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 425]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "74d2d1380425e61326be566ac82c4d28"], ["id", 637], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:46.015792"], ["invitee_id", 644], ["id", 637]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 644], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 314"], ["account_id", 425], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 314"], ["created_at", "2022-03-18 15:15:46.024149"], ["updated_at", "2022-03-18 15:15:46.024149"], ["account_id", 425], ["state", "active"], ["slug", "slug_49"], ["description", "Name 315"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 402], ["kind", "standard"], ["created_at", "2022-03-18 15:15:46.027668"], ["updated_at", "2022-03-18 15:15:46.028559"], ["subdomain", "tondeo-thesis"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:46.031849"], ["id", 402]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::DockerHub Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "string_1524"], ["name", "string_1525"], ["tag", "string_1526"], ["type", "UffizziCore::Repo::DockerHub"], ["branch", "string_1527"], ["project_id", 402], ["created_at", "2022-03-18 15:15:46.036528"], ["updated_at", "2022-03-18 15:15:46.036528"], ["description", "Name 316"], ["slug", "slug_50"], ["repository_id", 81], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 82], ["deployment_id", 312], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["image", "library/nginx"], ["tag", "string_1528"], ["created_at", "2022-03-18 15:15:46.046308"], ["updated_at", "2022-03-18 15:15:46.046308"], ["deployment_id", 312], ["public", true], ["port", 82], ["repo_id", 152], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 82], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:46.048720"], ["id", 312]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:46.050785"], ["id", 402]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 312], ["target_port", 82]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem::Docker Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "branch", "type", "container_id", "commit", "commit_message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["deployment_id", 312], ["namespace", "library"], ["name", "nginx"], ["tag", "string_1528"], ["branch", ""], ["type", "UffizziCore::ActivityItem::Docker"], ["container_id", 190], ["commit", "commit-hash-3"], ["commit_message", "commit-message-3"], ["created_at", "2022-03-18 15:15:46.056364"], ["updated_at", "2022-03-18 15:15:46.056364"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 96], ["state", "deploying"], ["created_at", "2022-03-18 15:15:46.061021"], ["updated_at", "2022-03-18 15:15:46.061021"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:46.063625"], ["id", 96]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."state" = $1[0m  [["state", "deployed"]]
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "uffizzi_core_containers"."public" = $3[0m  [["deployment_id", 312], ["state", "active"], ["public", true]]
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 312], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 96], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 96], ["state", "deployed"], ["created_at", "2022-03-18 15:15:46.103469"], ["updated_at", "2022-03-18 15:15:46.103469"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:46.106365"], ["id", 96]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."state" = $1[0m  [["state", "deployed"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------------------------
UffizziCore::ActivityItemServiceTest: test_#manage_deploy_activity_item_-_successfully_deployed_github_container_from_continuous_preview
----------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user122@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 319"], ["last_name", "Name 320"], ["email", "user122@example.com"], ["password_digest", "$2a$04$dArovDSmxef137KJZi5yreWhSysotZXjkZHWuPk2oAgg3fWJwa306"], ["confirmation_token", "3466af6729c1581e8289e345ccadea34"], ["state", "initial"], ["phone", "string_1529"], ["created_at", "2022-03-18 15:15:46.117829"], ["updated_at", "2022-03-18 15:15:46.122248"], ["github", "string_1530"], ["website", "string_1531"], ["twitter", "string_1532"], ["linkedin", "string_1533"], ["devto", "string_1534"], ["facebook", "string_1535"], ["blog", "string_1536"], ["bio", "string_1537"], ["status", "string_1538"], ["availability", "string_1539"], ["primary_skills", "string_1540"], ["learning", "string_1541"], ["coding_for", "string_1542"], ["education", "string_1543"], ["title", "string_1544"], ["work", "string_1545"], ["primary_location", "string_1546"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "wolf-hand.white.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 321"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:46.117829"], ["updated_at", "2022-03-18 15:15:46.129945"], ["state", "active"], ["domain", "wolf-hand.white.co"], ["owner_id", 645], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "5b84e2bccd27aa4435944f72b98ce92f"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user122@example.com"], ["token", "5b84e2bccd27aa4435944f72b98ce92f"], ["status", "pending"], ["created_at", "2022-03-18 15:15:46.137246"], ["updated_at", "2022-03-18 15:15:46.137246"], ["invited_by_id", 645], ["entityable_id", 426], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 645], ["account_id", 426], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.141244"], ["updated_at", "2022-03-18 15:15:46.141244"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 426]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "5b84e2bccd27aa4435944f72b98ce92f"], ["id", 638], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:46.150182"], ["invitee_id", 645], ["id", 638]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 645], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 322"], ["account_id", 426], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 322"], ["created_at", "2022-03-18 15:15:46.158874"], ["updated_at", "2022-03-18 15:15:46.158874"], ["account_id", 426], ["state", "active"], ["slug", "slug_51"], ["description", "Name 323"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 403], ["kind", "standard"], ["created_at", "2022-03-18 15:15:46.162982"], ["updated_at", "2022-03-18 15:15:46.163875"], ["subdomain", "provident-virgo"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:46.167466"], ["id", 403]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 645], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1547"], ["password", "Password1String-95"], ["created_at", "2022-03-18 15:15:46.174116"], ["updated_at", "2022-03-18 15:15:46.174116"], ["account_id", 426], ["state", "active"], ["registry_url", "http://url17.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "string_1547"], ["name", "Name 324"], ["tag", "string_1549"], ["type", "UffizziCore::Repo::Github"], ["branch", "string_1548"], ["project_id", 403], ["created_at", "2022-03-18 15:15:46.180003"], ["updated_at", "2022-03-18 15:15:46.180003"], ["description", "Name 325"], ["slug", "slug_52"], ["repository_id", 83], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Build Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_builds" ("repo_id", "build_id", "status", "created_at", "updated_at", "deployed") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["repo_id", 153], ["build_id", "9283f9f62e9a7191c264a0f24316b791"], ["status", 2], ["created_at", "2022-03-18 15:15:46.199516"], ["updated_at", "2022-03-18 15:15:46.199516"], ["deployed", true]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "continuous_preview_payload", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["project_id", 403], ["kind", "standard"], ["created_at", "2022-03-18 15:15:46.205159"], ["updated_at", "2022-03-18 15:15:46.206062"], ["subdomain", "caelum-ars"], ["state", "active"], ["memory_limit", 1.0], ["continuous_preview_payload", "{\"pull_request\":{\"id\":1,\"message\":\"\",\"repository_full_name\":\"string_1547/Name 324\"}}"], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:46.210060"], ["id", 403]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 84], ["deployment_id", 314], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 314], ["target_port", 39656], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 314], ["target_port", 38320], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["image", "string_1547/Name 324"], ["tag", "string_1548"], ["created_at", "2022-03-18 15:15:46.219726"], ["updated_at", "2022-03-18 15:15:46.219726"], ["deployment_id", 314], ["public", true], ["port", 84], ["repo_id", 153], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 38320], ["receive_incoming_requests", true]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:46.223809"], ["id", 314]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:46.225693"], ["id", 403]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 314], ["target_port", 38320]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "branch", "type", "container_id", "commit", "commit_message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["deployment_id", 314], ["namespace", "string_1547"], ["name", "Name 324"], ["tag", ""], ["branch", "string_1548"], ["type", "UffizziCore::ActivityItem::Github"], ["container_id", 191], ["commit", "commit-hash-4"], ["commit_message", "commit-message-4"], ["created_at", "2022-03-18 15:15:46.231834"], ["updated_at", "2022-03-18 15:15:46.231834"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 97], ["state", "deploying"], ["created_at", "2022-03-18 15:15:46.236431"], ["updated_at", "2022-03-18 15:15:46.236431"]]
  [1m[36mUffizziCore::ActivityItem::Github Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:46.239964"], ["id", 97]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 426], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Build Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 153], ["deployed", true], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."state" = $1[0m  [["state", "deployed"]]
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "uffizzi_core_containers"."public" = $3[0m  [["deployment_id", 314], ["state", "active"], ["public", true]]
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 314], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 153], ["LIMIT", 1]]
  [1m[36mUffizziCore::Build Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 153], ["deployed", true], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 403], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 426], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 426], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Build Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 153], ["deployed", true], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 97], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 97], ["state", "deployed"], ["created_at", "2022-03-18 15:15:46.292956"], ["updated_at", "2022-03-18 15:15:46.292956"]]
  [1m[36mUffizziCore::ActivityItem::Github Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:46.296462"], ["id", 97]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Build Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 153], ["deployed", true], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem::Github Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "commit" = $1, "commit_message" = $2, "build_id" = $3, "updated_at" = $4 WHERE "uffizzi_core_activity_items"."id" = $5[0m  [["commit", nil], ["commit_message", nil], ["build_id", 22], ["updated_at", "2022-03-18 15:15:46.301740"], ["id", 97]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."state" = $1[0m  [["state", "deployed"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Account::CredentialsControllerTest: test_#create_google_credential
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user123@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (1.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 328"], ["last_name", "Name 329"], ["email", "user123@example.com"], ["password_digest", "$2a$04$5wsP6DvCtMxWoc5hBdZdJ.dnZKCPv2CFmuucgw8LbhjP9jG4yI4o6"], ["confirmation_token", "cb130c7a41b3e064dc376c69d21e7363"], ["state", "initial"], ["phone", "string_1550"], ["created_at", "2022-03-18 15:15:46.320858"], ["updated_at", "2022-03-18 15:15:46.325850"], ["github", "string_1551"], ["website", "string_1552"], ["twitter", "string_1553"], ["linkedin", "string_1554"], ["devto", "string_1555"], ["facebook", "string_1556"], ["blog", "string_1557"], ["bio", "string_1558"], ["status", "string_1559"], ["availability", "string_1560"], ["primary_skills", "string_1561"], ["learning", "string_1562"], ["coding_for", "string_1563"], ["education", "string_1564"], ["title", "string_1565"], ["work", "string_1566"], ["primary_location", "string_1567"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "schuppe-kreiger.west.net"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 330"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:46.320858"], ["updated_at", "2022-03-18 15:15:46.335402"], ["state", "active"], ["domain", "schuppe-kreiger.west.net"], ["owner_id", 646], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "70fa26f6826ee0e28d2936f174999500"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user123@example.com"], ["token", "70fa26f6826ee0e28d2936f174999500"], ["status", "pending"], ["created_at", "2022-03-18 15:15:46.342086"], ["updated_at", "2022-03-18 15:15:46.342086"], ["invited_by_id", 646], ["entityable_id", 427], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 646], ["account_id", 427], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.345933"], ["updated_at", "2022-03-18 15:15:46.345933"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 427]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "70fa26f6826ee0e28d2936f174999500"], ["id", 639], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:46.355412"], ["invitee_id", 646], ["id", 639]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 646], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 331"], ["account_id", 427], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 331"], ["created_at", "2022-03-18 15:15:46.364383"], ["updated_at", "2022-03-18 15:15:46.364383"], ["account_id", 427], ["state", "active"], ["slug", "slug_53"], ["description", "Name 332"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 427], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 646], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 646], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 646], ["project_id", 404], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.372968"], ["updated_at", "2022-03-18 15:15:46.372968"], ["invited_by_id", 646]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
Processing by UffizziCore::Api::Cli::V1::Account::CredentialsController#create as JSON
  Parameters: {"account_id"=>"427", "credential"=>{"account"=>"", "password"=>"[FILTERED]", "registry_url"=>"https://gcr.io/", "type"=>"UffizziCore::Credential::Google", "username"=>"string_1568"}}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 646], ["LIMIT", 1]]
[31mUnpermitted parameter: :account[0m
  [1m[36mUffizziCore::Account Load (0.8ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 646], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 LIMIT $3[0m  [["account_id", 427], ["type", "UffizziCore::Credential::Google"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Account::Credential::CreateForm Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Google"], ["username", "_json_key"], ["password", "Password1String-97"], ["created_at", "2022-03-18 15:15:46.425398"], ["updated_at", "2022-03-18 15:15:46.425398"], ["account_id", 427], ["state", "active"], ["registry_url", "https://gcr.io/"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Account::CredentialSerializer with ActiveModelSerializers::Adapter::Json (0.55ms)
Completed 201 Created in 55ms (Views: 3.8ms | ActiveRecord: 2.7ms | Allocations: 13717)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Account::CredentialsControllerTest: test_#create_docker_hub_credential
-------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user124@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 333"], ["last_name", "Name 334"], ["email", "user124@example.com"], ["password_digest", "$2a$04$iRjaR/1D93Yg3olzJT/WpO0laOovcOOYtRD9NjIAdJZlUC40dDIVu"], ["confirmation_token", "d8a1c00be8cd4b6c35818360833cf05e"], ["state", "initial"], ["phone", "string_1570"], ["created_at", "2022-03-18 15:15:46.446510"], ["updated_at", "2022-03-18 15:15:46.451419"], ["github", "string_1571"], ["website", "string_1572"], ["twitter", "string_1573"], ["linkedin", "string_1574"], ["devto", "string_1575"], ["facebook", "string_1576"], ["blog", "string_1577"], ["bio", "string_1578"], ["status", "string_1579"], ["availability", "string_1580"], ["primary_skills", "string_1581"], ["learning", "string_1582"], ["coding_for", "string_1583"], ["education", "string_1584"], ["title", "string_1585"], ["work", "string_1586"], ["primary_location", "string_1587"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "king.bayer-klocko.io"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 335"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:46.446510"], ["updated_at", "2022-03-18 15:15:46.459904"], ["state", "active"], ["domain", "king.bayer-klocko.io"], ["owner_id", 647], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "ffa235ac70c021d758ccb1c62b0cbd2a"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user124@example.com"], ["token", "ffa235ac70c021d758ccb1c62b0cbd2a"], ["status", "pending"], ["created_at", "2022-03-18 15:15:46.466669"], ["updated_at", "2022-03-18 15:15:46.466669"], ["invited_by_id", 647], ["entityable_id", 428], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 647], ["account_id", 428], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.470472"], ["updated_at", "2022-03-18 15:15:46.470472"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 428]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "ffa235ac70c021d758ccb1c62b0cbd2a"], ["id", 640], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:46.481061"], ["invitee_id", 647], ["id", 640]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 647], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 336"], ["account_id", 428], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 336"], ["created_at", "2022-03-18 15:15:46.492885"], ["updated_at", "2022-03-18 15:15:46.492885"], ["account_id", 428], ["state", "active"], ["slug", "slug_54"], ["description", "Name 337"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 428], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 647], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 647], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 647], ["project_id", 405], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.503569"], ["updated_at", "2022-03-18 15:15:46.503569"], ["invited_by_id", 647]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
Processing by UffizziCore::Api::Cli::V1::Account::CredentialsController#create as JSON
  Parameters: {"account_id"=>"428", "credential"=>{"account"=>"", "password"=>"[FILTERED]", "registry_url"=>"http://url18.com", "type"=>"UffizziCore::Credential::DockerHub", "username"=>"string_1588"}}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 647], ["LIMIT", 1]]
[31mUnpermitted parameter: :account[0m
  [1m[36mUffizziCore::Account Load (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 647], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 LIMIT $3[0m  [["account_id", 428], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Account::Credential::CreateForm Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::DockerHub"], ["username", "string_1588"], ["password", "Password1String-99"], ["created_at", "2022-03-18 15:15:46.551332"], ["updated_at", "2022-03-18 15:15:46.551332"], ["account_id", 428], ["state", "active"], ["registry_url", "https://index.docker.io/v1/"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Account::CredentialSerializer with ActiveModelSerializers::Adapter::Json (0.46ms)
Completed 201 Created in 41ms (Views: 1.5ms | ActiveRecord: 2.7ms | Allocations: 6018)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Account::CredentialsControllerTest: test_#create_duplicate_credential
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user125@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 338"], ["last_name", "Name 339"], ["email", "user125@example.com"], ["password_digest", "$2a$04$VparoZW/tk1w.TMvJnSePOi5hl2FXcbKEhoMllf6s1CPrjd9bMmei"], ["confirmation_token", "a4cda7ece7ec030688b4e56c74b902ef"], ["state", "initial"], ["phone", "string_1589"], ["created_at", "2022-03-18 15:15:46.565446"], ["updated_at", "2022-03-18 15:15:46.570097"], ["github", "string_1590"], ["website", "string_1591"], ["twitter", "string_1592"], ["linkedin", "string_1593"], ["devto", "string_1594"], ["facebook", "string_1595"], ["blog", "string_1596"], ["bio", "string_1597"], ["status", "string_1598"], ["availability", "string_1599"], ["primary_skills", "string_1600"], ["learning", "string_1601"], ["coding_for", "string_1602"], ["education", "string_1603"], ["title", "string_1604"], ["work", "string_1605"], ["primary_location", "string_1606"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "greenholt.krajcik-corkery.name"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 340"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:46.565446"], ["updated_at", "2022-03-18 15:15:46.578607"], ["state", "active"], ["domain", "greenholt.krajcik-corkery.name"], ["owner_id", 648], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "536bdc93f86496b209a7a510fc72a291"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user125@example.com"], ["token", "536bdc93f86496b209a7a510fc72a291"], ["status", "pending"], ["created_at", "2022-03-18 15:15:46.585647"], ["updated_at", "2022-03-18 15:15:46.585647"], ["invited_by_id", 648], ["entityable_id", 429], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 648], ["account_id", 429], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.590109"], ["updated_at", "2022-03-18 15:15:46.590109"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 429]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "536bdc93f86496b209a7a510fc72a291"], ["id", 641], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:46.600488"], ["invitee_id", 648], ["id", 641]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 648], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 341"], ["account_id", 429], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 341"], ["created_at", "2022-03-18 15:15:46.611209"], ["updated_at", "2022-03-18 15:15:46.611209"], ["account_id", 429], ["state", "active"], ["slug", "slug_55"], ["description", "Name 342"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 429], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 648], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 648], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 648], ["project_id", 406], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.619193"], ["updated_at", "2022-03-18 15:15:46.619193"], ["invited_by_id", 648]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::DockerHub Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::DockerHub"], ["username", "string_1607"], ["password", "Password1String-101"], ["created_at", "2022-03-18 15:15:46.624462"], ["updated_at", "2022-03-18 15:15:46.624462"], ["account_id", 429], ["state", "not_connected"], ["registry_url", "http://url19.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
Processing by UffizziCore::Api::Cli::V1::Account::CredentialsController#create as JSON
  Parameters: {"account_id"=>"429", "credential"=>{"account"=>"429", "password"=>"[FILTERED]", "registry_url"=>"http://url20.com", "type"=>"UffizziCore::Credential::DockerHub", "username"=>"string_1608"}}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 648], ["LIMIT", 1]]
[31mUnpermitted parameter: :account[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 648], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 LIMIT $3[0m  [["account_id", 429], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.55ms)
Completed 422 Unprocessable Entity in 23ms (Views: 1.9ms | ActiveRecord: 2.3ms | Allocations: 4482)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" ORDER BY "uffizzi_core_credentials"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Account::CredentialsControllerTest: test_#create_amazon_credential
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user126@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 343"], ["last_name", "Name 344"], ["email", "user126@example.com"], ["password_digest", "$2a$04$amBFOJ828blEyrzOUkSz2uFqi3.TlqqWzHXY/HBf85RDhak8N1oRy"], ["confirmation_token", "4830cc0f04b2b076cede9976ec8a2fff"], ["state", "initial"], ["phone", "string_1609"], ["created_at", "2022-03-18 15:15:46.666288"], ["updated_at", "2022-03-18 15:15:46.670797"], ["github", "string_1610"], ["website", "string_1611"], ["twitter", "string_1612"], ["linkedin", "string_1613"], ["devto", "string_1614"], ["facebook", "string_1615"], ["blog", "string_1616"], ["bio", "string_1617"], ["status", "string_1618"], ["availability", "string_1619"], ["primary_skills", "string_1620"], ["learning", "string_1621"], ["coding_for", "string_1622"], ["education", "string_1623"], ["title", "string_1624"], ["work", "string_1625"], ["primary_location", "string_1626"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "beier.emmerich-mckenzie.net"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 345"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:46.666288"], ["updated_at", "2022-03-18 15:15:46.678781"], ["state", "active"], ["domain", "beier.emmerich-mckenzie.net"], ["owner_id", 649], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "63d227a3c6f0e32c5986a6f7bd6d5d3c"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user126@example.com"], ["token", "63d227a3c6f0e32c5986a6f7bd6d5d3c"], ["status", "pending"], ["created_at", "2022-03-18 15:15:46.685386"], ["updated_at", "2022-03-18 15:15:46.685386"], ["invited_by_id", 649], ["entityable_id", 430], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 649], ["account_id", 430], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.689508"], ["updated_at", "2022-03-18 15:15:46.689508"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 430]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "63d227a3c6f0e32c5986a6f7bd6d5d3c"], ["id", 642], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:46.698088"], ["invitee_id", 649], ["id", 642]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 649], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 346"], ["account_id", 430], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 346"], ["created_at", "2022-03-18 15:15:46.706656"], ["updated_at", "2022-03-18 15:15:46.706656"], ["account_id", 430], ["state", "active"], ["slug", "slug_56"], ["description", "Name 347"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 430], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 649], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 649], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 649], ["project_id", 407], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.714232"], ["updated_at", "2022-03-18 15:15:46.714232"], ["invited_by_id", 649]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
Processing by UffizziCore::Api::Cli::V1::Account::CredentialsController#create as JSON
  Parameters: {"account_id"=>"430", "credential"=>{"account"=>"", "password"=>"[FILTERED]", "registry_url"=>"https://123456789876.dkr.ecr.us-east-1.amazonaws.com", "type"=>"UffizziCore::Credential::Amazon", "username"=>"string_1627"}}
  [1m[36mUffizziCore::User Load (0.8ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 649], ["LIMIT", 1]]
[31mUnpermitted parameter: :account[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 649], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 LIMIT $3[0m  [["account_id", 430], ["type", "UffizziCore::Credential::Amazon"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Account::Credential::CreateForm Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Amazon"], ["username", "string_1627"], ["password", "Password1String-104"], ["created_at", "2022-03-18 15:15:46.735756"], ["updated_at", "2022-03-18 15:15:46.735756"], ["account_id", 430], ["state", "active"], ["registry_url", "https://123456789876.dkr.ecr.us-east-1.amazonaws.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Account::CredentialSerializer with ActiveModelSerializers::Adapter::Json (0.32ms)
Completed 201 Created in 14ms (Views: 1.3ms | ActiveRecord: 2.6ms | Allocations: 3505)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Account::CredentialsControllerTest: test_#create_if_docker_hub_auth_is_failed
--------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user127@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 348"], ["last_name", "Name 349"], ["email", "user127@example.com"], ["password_digest", "$2a$04$pOclKQo67WRvIsJMucSgIOzKhEYVRC3bBc.s8DaGmlRiIfXjZxRGG"], ["confirmation_token", "b9b471442233cc8144f8c8c7ffd80fe3"], ["state", "initial"], ["phone", "string_1628"], ["created_at", "2022-03-18 15:15:46.749113"], ["updated_at", "2022-03-18 15:15:46.753247"], ["github", "string_1629"], ["website", "string_1630"], ["twitter", "string_1631"], ["linkedin", "string_1632"], ["devto", "string_1633"], ["facebook", "string_1634"], ["blog", "string_1635"], ["bio", "string_1636"], ["status", "string_1637"], ["availability", "string_1638"], ["primary_skills", "string_1639"], ["learning", "string_1640"], ["coding_for", "string_1641"], ["education", "string_1642"], ["title", "string_1643"], ["work", "string_1644"], ["primary_location", "string_1645"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "emmerich.vandervort-blick.biz"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 350"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:46.749113"], ["updated_at", "2022-03-18 15:15:46.761507"], ["state", "active"], ["domain", "emmerich.vandervort-blick.biz"], ["owner_id", 650], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "d539c89d22bd386bd1f460f683d614c0"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user127@example.com"], ["token", "d539c89d22bd386bd1f460f683d614c0"], ["status", "pending"], ["created_at", "2022-03-18 15:15:46.767891"], ["updated_at", "2022-03-18 15:15:46.767891"], ["invited_by_id", 650], ["entityable_id", 431], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 650], ["account_id", 431], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.771612"], ["updated_at", "2022-03-18 15:15:46.771612"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 431]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "d539c89d22bd386bd1f460f683d614c0"], ["id", 643], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:46.791884"], ["invitee_id", 650], ["id", 643]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 650], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 351"], ["account_id", 431], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 351"], ["created_at", "2022-03-18 15:15:46.805919"], ["updated_at", "2022-03-18 15:15:46.805919"], ["account_id", 431], ["state", "active"], ["slug", "slug_57"], ["description", "Name 352"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 431], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 650], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 650], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 650], ["project_id", 408], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.816517"], ["updated_at", "2022-03-18 15:15:46.816517"], ["invited_by_id", 650]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
Processing by UffizziCore::Api::Cli::V1::Account::CredentialsController#create as JSON
  Parameters: {"account_id"=>"431", "credential"=>{"account"=>"", "password"=>"[FILTERED]", "registry_url"=>"http://url21.com", "type"=>"UffizziCore::Credential::DockerHub", "username"=>"string_1646"}}
  [1m[36mUffizziCore::User Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 650], ["LIMIT", 1]]
[31mUnpermitted parameter: :account[0m
  [1m[36mUffizziCore::Account Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 650], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 LIMIT $3[0m  [["account_id", 431], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.49ms)
Completed 422 Unprocessable Entity in 26ms (Views: 1.5ms | ActiveRecord: 2.1ms | Allocations: 3912)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Account::CredentialsControllerTest: test_#create_azure_credential
--------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user128@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 353"], ["last_name", "Name 354"], ["email", "user128@example.com"], ["password_digest", "$2a$04$1DrdICKn8zfkpFCV/5Uqru6GYl4Rr9Wbe4Xe1W/WPTSTG9rCSSUJW"], ["confirmation_token", "60c04658a9ca9cdbd0de6b906a827a50"], ["state", "initial"], ["phone", "string_1647"], ["created_at", "2022-03-18 15:15:46.864890"], ["updated_at", "2022-03-18 15:15:46.869425"], ["github", "string_1648"], ["website", "string_1649"], ["twitter", "string_1650"], ["linkedin", "string_1651"], ["devto", "string_1652"], ["facebook", "string_1653"], ["blog", "string_1654"], ["bio", "string_1655"], ["status", "string_1656"], ["availability", "string_1657"], ["primary_skills", "string_1658"], ["learning", "string_1659"], ["coding_for", "string_1660"], ["education", "string_1661"], ["title", "string_1662"], ["work", "string_1663"], ["primary_location", "string_1664"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "runte.wunsch.io"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 355"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:46.864890"], ["updated_at", "2022-03-18 15:15:46.877754"], ["state", "active"], ["domain", "runte.wunsch.io"], ["owner_id", 651], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "fa94929f5897f2e7249db1877cc4ecf8"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user128@example.com"], ["token", "fa94929f5897f2e7249db1877cc4ecf8"], ["status", "pending"], ["created_at", "2022-03-18 15:15:46.884513"], ["updated_at", "2022-03-18 15:15:46.884513"], ["invited_by_id", 651], ["entityable_id", 432], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 651], ["account_id", 432], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.888833"], ["updated_at", "2022-03-18 15:15:46.888833"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 432]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "fa94929f5897f2e7249db1877cc4ecf8"], ["id", 644], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:46.897768"], ["invitee_id", 651], ["id", 644]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 651], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 356"], ["account_id", 432], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 356"], ["created_at", "2022-03-18 15:15:46.907203"], ["updated_at", "2022-03-18 15:15:46.907203"], ["account_id", 432], ["state", "active"], ["slug", "slug_58"], ["description", "Name 357"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 432], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 651], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 651], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 651], ["project_id", 409], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.915779"], ["updated_at", "2022-03-18 15:15:46.915779"], ["invited_by_id", 651]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
Processing by UffizziCore::Api::Cli::V1::Account::CredentialsController#create as JSON
  Parameters: {"account_id"=>"432", "credential"=>{"account"=>"", "password"=>"[FILTERED]", "registry_url"=>"http://url22.com", "type"=>"UffizziCore::Credential::Azure", "username"=>"string_1666"}}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 651], ["LIMIT", 1]]
[31mUnpermitted parameter: :account[0m
  [1m[36mUffizziCore::Account Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 651], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 LIMIT $3[0m  [["account_id", 432], ["type", "UffizziCore::Credential::Azure"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Account::Credential::CreateForm Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Azure"], ["username", "string_1666"], ["password", "Password1String-108"], ["created_at", "2022-03-18 15:15:46.952697"], ["updated_at", "2022-03-18 15:15:46.952697"], ["account_id", 432], ["state", "active"], ["registry_url", "http://url22.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Account::CredentialSerializer with ActiveModelSerializers::Adapter::Json (0.37ms)
Completed 201 Created in 32ms (Views: 1.4ms | ActiveRecord: 2.4ms | Allocations: 5733)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_credentials"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------
UffizziCore::ManageActivityItemsServiceTest: test_#container_status_items_-_deployment_has_no_containers
--------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user129@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 358"], ["last_name", "Name 359"], ["email", "user129@example.com"], ["password_digest", "$2a$04$iE.j.aWW279WkgvTQUYccu0YKGxM8AeHjJnhiR6kfuvLMIJQ7OzfO"], ["confirmation_token", "14853292c4e7c995fe6ea19b5b2aa9b5"], ["state", "initial"], ["phone", "string_1667"], ["created_at", "2022-03-18 15:15:46.966038"], ["updated_at", "2022-03-18 15:15:46.970696"], ["github", "string_1668"], ["website", "string_1669"], ["twitter", "string_1670"], ["linkedin", "string_1671"], ["devto", "string_1672"], ["facebook", "string_1673"], ["blog", "string_1674"], ["bio", "string_1675"], ["status", "string_1676"], ["availability", "string_1677"], ["primary_skills", "string_1678"], ["learning", "string_1679"], ["coding_for", "string_1680"], ["education", "string_1681"], ["title", "string_1682"], ["work", "string_1683"], ["primary_location", "string_1684"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "lemke.bins-hartmann.io"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 360"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:46.966038"], ["updated_at", "2022-03-18 15:15:46.979921"], ["state", "active"], ["domain", "lemke.bins-hartmann.io"], ["owner_id", 652], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "cf0cb3c54fb0dd5d53b3eae9e9868f4f"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user129@example.com"], ["token", "cf0cb3c54fb0dd5d53b3eae9e9868f4f"], ["status", "pending"], ["created_at", "2022-03-18 15:15:46.986623"], ["updated_at", "2022-03-18 15:15:46.986623"], ["invited_by_id", 652], ["entityable_id", 433], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 652], ["account_id", 433], ["role", "admin"], ["created_at", "2022-03-18 15:15:46.990621"], ["updated_at", "2022-03-18 15:15:46.990621"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 433]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "cf0cb3c54fb0dd5d53b3eae9e9868f4f"], ["id", 645], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:47.001638"], ["invitee_id", 652], ["id", 645]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 652], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 361"], ["account_id", 433], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 361"], ["created_at", "2022-03-18 15:15:47.011448"], ["updated_at", "2022-03-18 15:15:47.011448"], ["account_id", 433], ["state", "active"], ["slug", "slug_59"], ["description", "Name 362"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 410], ["kind", "standard"], ["created_at", "2022-03-18 15:15:47.016580"], ["updated_at", "2022-03-18 15:15:47.017568"], ["subdomain", "quasi-praesentium"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.021279"], ["id", 410]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "uffizzi_core_containers"."public" = $3[0m  [["deployment_id", 315], ["state", "active"], ["public", true]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 315], ["state", "active"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------
UffizziCore::ManageActivityItemsServiceTest: test_#container_status_items_-_deployment_has_containers
-----------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user130@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 363"], ["last_name", "Name 364"], ["email", "user130@example.com"], ["password_digest", "$2a$04$XQYlNnksClLwa0xLtM.Reeb6VFqq208pW.fpkCOCmz9Vs/VsrGydO"], ["confirmation_token", "85abfc90bbad7d0f8e32e7608fbca3fa"], ["state", "initial"], ["phone", "string_1685"], ["created_at", "2022-03-18 15:15:47.100065"], ["updated_at", "2022-03-18 15:15:47.106867"], ["github", "string_1686"], ["website", "string_1687"], ["twitter", "string_1688"], ["linkedin", "string_1689"], ["devto", "string_1690"], ["facebook", "string_1691"], ["blog", "string_1692"], ["bio", "string_1693"], ["status", "string_1694"], ["availability", "string_1695"], ["primary_skills", "string_1696"], ["learning", "string_1697"], ["coding_for", "string_1698"], ["education", "string_1699"], ["title", "string_1700"], ["work", "string_1701"], ["primary_location", "string_1702"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "deckow.frami.info"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 365"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:47.100065"], ["updated_at", "2022-03-18 15:15:47.119334"], ["state", "active"], ["domain", "deckow.frami.info"], ["owner_id", 653], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "42f4e6fafd0f3dc7bccc01af1ef7f9a9"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user130@example.com"], ["token", "42f4e6fafd0f3dc7bccc01af1ef7f9a9"], ["status", "pending"], ["created_at", "2022-03-18 15:15:47.128408"], ["updated_at", "2022-03-18 15:15:47.128408"], ["invited_by_id", 653], ["entityable_id", 434], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 653], ["account_id", 434], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.133831"], ["updated_at", "2022-03-18 15:15:47.133831"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 434]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "42f4e6fafd0f3dc7bccc01af1ef7f9a9"], ["id", 646], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:47.145336"], ["invitee_id", 653], ["id", 646]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 653], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 366"], ["account_id", 434], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 366"], ["created_at", "2022-03-18 15:15:47.157278"], ["updated_at", "2022-03-18 15:15:47.157278"], ["account_id", 434], ["state", "active"], ["slug", "slug_60"], ["description", "Name 367"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 653], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1703"], ["password", "Password1String-111"], ["created_at", "2022-03-18 15:15:47.164142"], ["updated_at", "2022-03-18 15:15:47.164142"], ["account_id", 434], ["state", "not_connected"], ["registry_url", "http://url23.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 411], ["kind", "standard"], ["created_at", "2022-03-18 15:15:47.169183"], ["updated_at", "2022-03-18 15:15:47.170378"], ["subdomain", "defaeco-sed"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.174247"], ["id", 411]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::Github Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "string_1704"], ["name", "string_1705"], ["tag", "string_1706"], ["type", "UffizziCore::Repo::Github"], ["branch", "string_1707"], ["project_id", 411], ["created_at", "2022-03-18 15:15:47.179602"], ["updated_at", "2022-03-18 15:15:47.179602"], ["description", "Name 368"], ["slug", "slug_61"], ["repository_id", 85], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Build Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_builds" ("repo_id", "build_id", "status", "created_at", "updated_at", "deployed") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["repo_id", 154], ["build_id", "36bfd64467d3f4ecd67d485a4c4adfb1"], ["status", 2], ["created_at", "2022-03-18 15:15:47.186340"], ["updated_at", "2022-03-18 15:15:47.186340"], ["deployed", true]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 86], ["deployment_id", 316], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 316], ["target_port", 39787], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 316], ["target_port", 39763], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["image", "namespace/name-25"], ["tag", "string_1708"], ["created_at", "2022-03-18 15:15:47.197147"], ["updated_at", "2022-03-18 15:15:47.197147"], ["deployment_id", 316], ["public", true], ["port", 86], ["repo_id", 154], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 39763], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.201173"], ["id", 316]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.203107"], ["id", 411]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 316], ["target_port", 39763]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 434], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Build Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 154], ["deployed", true], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "uffizzi_core_containers"."public" = $3[0m  [["deployment_id", 316], ["state", "active"], ["public", true]]
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 316], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 154], ["LIMIT", 1]]
  [1m[36mUffizziCore::Build Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 154], ["deployed", true], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 411], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 434], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 434], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Build Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 154], ["deployed", true], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------
UffizziCore::GithubServiceTest: test_#send_preview_message_-_duplicate_message_was_not_sent
-------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user131@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 371"], ["last_name", "Name 372"], ["email", "user131@example.com"], ["password_digest", "$2a$04$ScGZ.Yx9mq3dvKMcjDv5e.L5mVRDaLbi/bMgPgN3hcKfeFEzeSlLC"], ["confirmation_token", "b8a06e35b80a22e36a1c7ab375690176"], ["state", "initial"], ["phone", "string_1709"], ["created_at", "2022-03-18 15:15:47.262432"], ["updated_at", "2022-03-18 15:15:47.268832"], ["github", "string_1710"], ["website", "string_1711"], ["twitter", "string_1712"], ["linkedin", "string_1713"], ["devto", "string_1714"], ["facebook", "string_1715"], ["blog", "string_1716"], ["bio", "string_1717"], ["status", "string_1718"], ["availability", "string_1719"], ["primary_skills", "string_1720"], ["learning", "string_1721"], ["coding_for", "string_1722"], ["education", "string_1723"], ["title", "string_1724"], ["work", "string_1725"], ["primary_location", "string_1726"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "kohler.hauck.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 373"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:47.262432"], ["updated_at", "2022-03-18 15:15:47.280278"], ["state", "active"], ["domain", "kohler.hauck.co"], ["owner_id", 654], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "189ec8bbe808211e8104e24874e1f86b"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user131@example.com"], ["token", "189ec8bbe808211e8104e24874e1f86b"], ["status", "pending"], ["created_at", "2022-03-18 15:15:47.288867"], ["updated_at", "2022-03-18 15:15:47.288867"], ["invited_by_id", 654], ["entityable_id", 435], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 654], ["account_id", 435], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.293657"], ["updated_at", "2022-03-18 15:15:47.293657"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 435]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "189ec8bbe808211e8104e24874e1f86b"], ["id", 647], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:47.303236"], ["invitee_id", 654], ["id", 647]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 654], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "github_user"], ["password", "Password1String-113"], ["created_at", "2022-03-18 15:15:47.310054"], ["updated_at", "2022-03-18 15:15:47.310054"], ["provider_ref", "installation_id"], ["account_id", 435], ["state", "active"], ["registry_url", "http://url24.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 374"], ["account_id", 435], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 374"], ["created_at", "2022-03-18 15:15:47.318830"], ["updated_at", "2022-03-18 15:15:47.318830"], ["account_id", 435], ["state", "active"], ["slug", "slug_62"], ["description", "Name 375"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 435], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 654], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 654], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 654], ["project_id", 412], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.326908"], ["updated_at", "2022-03-18 15:15:47.326908"], ["invited_by_id", 654]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 377"], ["project_id", 412], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 377"], ["added_by_id", 654], ["payload", "{\"containers_attributes\":[{\"image\":\"github_user/hello-world\",\"tag\":\"master\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":87,\"repo_attributes\":{\"namespace\":\"github_user\",\"name\":\"hello-world\",\"tag\":\"string_1727\",\"slug\":\"slug_63\",\"branch\":\"master\",\"description\":\"Name 376\",\"repository_id\":357590782,\"deploy_preview_when_pull_request_is_opened\":true,\"delete_preview_when_pull_request_is_closed\":true,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\",\"kind\":\"buildpacks18\"}}]}"], ["project_id", 412], ["created_at", "2022-03-18 15:15:47.337580"], ["updated_at", "2022-03-18 15:15:47.337580"], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.340874"], ["id", 412]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" IS NULL LIMIT $2[0m  [["port", 87], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "deployed_by_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 412], ["kind", "standard"], ["created_at", "2022-03-18 15:15:47.352166"], ["updated_at", "2022-03-18 15:15:47.352166"], ["subdomain", "subdomain"], ["state", "active"], ["deployed_by_id", 654], ["creation_source", "continuous_preview"]]
  [1m[36mUffizziCore::Repo::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "kind", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["namespace", "github_user"], ["name", "hello-world"], ["tag", "string_1727"], ["type", "UffizziCore::Repo::Github"], ["branch", "testing"], ["project_id", 412], ["created_at", "2022-03-18 15:15:47.354757"], ["updated_at", "2022-03-18 15:15:47.354757"], ["description", "Name 376"], ["slug", "slug_63"], ["repository_id", 357590782], ["kind", "buildpacks18"], ["deploy_preview_when_pull_request_is_opened", true], ["delete_preview_when_pull_request_is_closed", true], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mUffizziCore::Container Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 87], ["deployment_id", 317], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 317], ["target_port", 39977], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 317], ["target_port", 37565], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["image", "github_user/hello-world"], ["tag", "testing"], ["created_at", "2022-03-18 15:15:47.361079"], ["updated_at", "2022-03-18 15:15:47.361079"], ["deployment_id", 317], ["public", true], ["port", 87], ["repo_id", 155], ["state", "active"], ["continuously_deploy", "enabled"], ["target_port", 37565], ["receive_incoming_requests", true]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.365985"], ["id", 317]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.368439"], ["id", 412]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 317], ["target_port", 37565]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "continuous_preview_payload" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:47.375400"], ["continuous_preview_payload", "{\"pull_request\":{\"id\":1,\"message\":\"**This branch has been deployed using Uffizzi.**\\n\\n      Preview URL:\\n      https://subdomain.app.qa-gke.uffizzi.com\\n\\n      View deployment details here:\\n      https://app.qa-gke.uffizzi.com/projects/412/deployments\\n\\n      This is an automated comment. To turn off commenting, visit uffizzi.com.\",\"repository_full_name\":\"github_user/hello-world\"}}"], ["id", 317]]
  [1m[36mUffizziCore::Project Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.378375"], ["id", 412]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo Load (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" IN (SELECT "uffizzi_core_containers"."repo_id" FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."image" = $2) LIMIT $3[0m  [["deployment_id", 317], ["image", "github_user/hello-world"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------
UffizziCore::GithubServiceTest: test_#send_preview_message_-_sent_successfully
------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user132@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 378"], ["last_name", "Name 379"], ["email", "user132@example.com"], ["password_digest", "$2a$04$8zf4e7eIl7hTRl4kNa5XfOFuGtAW1kMPCxq9YCbx9tSxqGhTEzxx."], ["confirmation_token", "89a827cd516944e121c73af4dca8a04c"], ["state", "initial"], ["phone", "string_1728"], ["created_at", "2022-03-18 15:15:47.358652"], ["updated_at", "2022-03-18 15:15:47.363326"], ["github", "string_1729"], ["website", "string_1730"], ["twitter", "string_1731"], ["linkedin", "string_1732"], ["devto", "string_1733"], ["facebook", "string_1734"], ["blog", "string_1735"], ["bio", "string_1736"], ["status", "string_1737"], ["availability", "string_1738"], ["primary_skills", "string_1739"], ["learning", "string_1740"], ["coding_for", "string_1741"], ["education", "string_1742"], ["title", "string_1743"], ["work", "string_1744"], ["primary_location", "string_1745"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "swift.ruecker.name"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 380"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:47.358652"], ["updated_at", "2022-03-18 15:15:47.375312"], ["state", "active"], ["domain", "swift.ruecker.name"], ["owner_id", 655], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "71a8c1e750dd768dca018effd8ca4bfd"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user132@example.com"], ["token", "71a8c1e750dd768dca018effd8ca4bfd"], ["status", "pending"], ["created_at", "2022-03-18 15:15:47.381892"], ["updated_at", "2022-03-18 15:15:47.381892"], ["invited_by_id", 655], ["entityable_id", 436], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 655], ["account_id", 436], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.385571"], ["updated_at", "2022-03-18 15:15:47.385571"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 436]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "71a8c1e750dd768dca018effd8ca4bfd"], ["id", 648], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:47.394557"], ["invitee_id", 655], ["id", 648]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 655], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "github_user"], ["password", "Password1String-115"], ["created_at", "2022-03-18 15:15:47.402006"], ["updated_at", "2022-03-18 15:15:47.402006"], ["provider_ref", "installation_id"], ["account_id", 436], ["state", "active"], ["registry_url", "http://url25.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 381"], ["account_id", 436], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 381"], ["created_at", "2022-03-18 15:15:47.409949"], ["updated_at", "2022-03-18 15:15:47.409949"], ["account_id", 436], ["state", "active"], ["slug", "slug_64"], ["description", "Name 382"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 436], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 655], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 655], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 655], ["project_id", 413], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.418069"], ["updated_at", "2022-03-18 15:15:47.418069"], ["invited_by_id", 655]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 384"], ["project_id", 413], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 384"], ["added_by_id", 655], ["payload", "{\"containers_attributes\":[{\"image\":\"github_user/hello-world\",\"tag\":\"master\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":88,\"repo_attributes\":{\"namespace\":\"github_user\",\"name\":\"hello-world\",\"tag\":\"string_1746\",\"slug\":\"slug_65\",\"branch\":\"master\",\"description\":\"Name 383\",\"repository_id\":357590782,\"deploy_preview_when_pull_request_is_opened\":true,\"delete_preview_when_pull_request_is_closed\":true,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":true,\"type\":\"UffizziCore::Repo::Github\",\"kind\":\"buildpacks18\"}}]}"], ["project_id", 413], ["created_at", "2022-03-18 15:15:47.427933"], ["updated_at", "2022-03-18 15:15:47.427933"], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.431209"], ["id", 413]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" IS NULL LIMIT $2[0m  [["port", 88], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 413], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "deployed_by_id", "continuous_preview_payload", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["project_id", 413], ["kind", "standard"], ["created_at", "2022-03-18 15:15:47.441285"], ["updated_at", "2022-03-18 15:15:47.441285"], ["subdomain", "subdomain"], ["state", "active"], ["deployed_by_id", 655], ["continuous_preview_payload", "{\"pull_request\":{\"id\":1,\"message\":\"\",\"repository_full_name\":\"github_user/hello-world\"}}"], ["creation_source", "continuous_preview"]]
  [1m[36mUffizziCore::Repo::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "kind", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["namespace", "github_user"], ["name", "hello-world"], ["tag", "string_1746"], ["type", "UffizziCore::Repo::Github"], ["branch", "testing"], ["project_id", 413], ["created_at", "2022-03-18 15:15:47.443994"], ["updated_at", "2022-03-18 15:15:47.443994"], ["description", "Name 383"], ["slug", "slug_65"], ["repository_id", 357590782], ["kind", "buildpacks18"], ["deploy_preview_when_pull_request_is_opened", true], ["delete_preview_when_pull_request_is_closed", true], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", true]]
  [1m[36mUffizziCore::Container Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 88], ["deployment_id", 318], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 318], ["target_port", 39328], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 318], ["target_port", 39245], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["image", "github_user/hello-world"], ["tag", "testing"], ["created_at", "2022-03-18 15:15:47.450252"], ["updated_at", "2022-03-18 15:15:47.450252"], ["deployment_id", 318], ["public", true], ["port", 88], ["repo_id", 156], ["state", "active"], ["continuously_deploy", "enabled"], ["target_port", 39245], ["receive_incoming_requests", true]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.454923"], ["id", 318]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.457421"], ["id", 413]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 318], ["target_port", 39245]]
  [1m[36mUffizziCore::Repo Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" IN (SELECT "uffizzi_core_containers"."repo_id" FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."image" = $2) LIMIT $3[0m  [["deployment_id", 318], ["image", "github_user/hello-world"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "continuous_preview_payload" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:47.464718"], ["continuous_preview_payload", "{\"pull_request\":{\"id\":1,\"message\":\"**This branch has been deployed using Uffizzi.**\\n\\n      Preview URL:\\n      https://subdomain.app.qa-gke.uffizzi.com\\n\\n      View deployment details here:\\n      https://app.qa-gke.uffizzi.com/projects/413/deployments\\n\\n      This is an automated comment. To turn off commenting, visit uffizzi.com.\",\"repository_full_name\":\"github_user/hello-world\"}}"], ["id", 318]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.467546"], ["id", 413]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" INNER JOIN "uffizzi_core_accounts" ON "uffizzi_core_credentials"."account_id" = "uffizzi_core_accounts"."id" WHERE "uffizzi_core_accounts"."id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" DESC LIMIT $3[0m  [["id", 436], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------
UffizziCore::GithubServiceTest: test_#send_preview_message_-_preview_message_is_disabled
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user133@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 385"], ["last_name", "Name 386"], ["email", "user133@example.com"], ["password_digest", "$2a$04$dTEE9/rk9.JRPvdcOe4aXuSttxsQNwmpVfqh2nIQHBf0weqETykI."], ["confirmation_token", "da1ca801382779adb0e146741ebcf1f0"], ["state", "initial"], ["phone", "string_1747"], ["created_at", "2022-03-18 15:15:47.510537"], ["updated_at", "2022-03-18 15:15:47.515545"], ["github", "string_1748"], ["website", "string_1749"], ["twitter", "string_1750"], ["linkedin", "string_1751"], ["devto", "string_1752"], ["facebook", "string_1753"], ["blog", "string_1754"], ["bio", "string_1755"], ["status", "string_1756"], ["availability", "string_1757"], ["primary_skills", "string_1758"], ["learning", "string_1759"], ["coding_for", "string_1760"], ["education", "string_1761"], ["title", "string_1762"], ["work", "string_1763"], ["primary_location", "string_1764"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "pacocha-kirlin.stroman-champlin.io"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 387"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:47.510537"], ["updated_at", "2022-03-18 15:15:47.523698"], ["state", "active"], ["domain", "pacocha-kirlin.stroman-champlin.io"], ["owner_id", 656], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "d9b681070830e85df2a1f2c90d0560b2"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user133@example.com"], ["token", "d9b681070830e85df2a1f2c90d0560b2"], ["status", "pending"], ["created_at", "2022-03-18 15:15:47.530300"], ["updated_at", "2022-03-18 15:15:47.530300"], ["invited_by_id", 656], ["entityable_id", 437], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 656], ["account_id", 437], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.534016"], ["updated_at", "2022-03-18 15:15:47.534016"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 437]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "d9b681070830e85df2a1f2c90d0560b2"], ["id", 649], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:47.543329"], ["invitee_id", 656], ["id", 649]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 656], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "github_user"], ["password", "Password1String-117"], ["created_at", "2022-03-18 15:15:47.549625"], ["updated_at", "2022-03-18 15:15:47.549625"], ["provider_ref", "installation_id"], ["account_id", 437], ["state", "active"], ["registry_url", "http://url26.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 388"], ["account_id", 437], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 388"], ["created_at", "2022-03-18 15:15:47.557668"], ["updated_at", "2022-03-18 15:15:47.557668"], ["account_id", 437], ["state", "active"], ["slug", "slug_66"], ["description", "Name 389"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 437], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 656], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 656], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 656], ["project_id", 414], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.566152"], ["updated_at", "2022-03-18 15:15:47.566152"], ["invited_by_id", 656]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 391"], ["project_id", 414], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 391"], ["added_by_id", 656], ["payload", "{\"containers_attributes\":[{\"image\":\"github_user/hello-world\",\"tag\":\"master\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":89,\"repo_attributes\":{\"namespace\":\"github_user\",\"name\":\"hello-world\",\"tag\":\"string_1765\",\"slug\":\"slug_67\",\"branch\":\"master\",\"description\":\"Name 390\",\"repository_id\":357590782,\"deploy_preview_when_pull_request_is_opened\":true,\"delete_preview_when_pull_request_is_closed\":true,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\",\"kind\":\"buildpacks18\"}}]}"], ["project_id", 414], ["created_at", "2022-03-18 15:15:47.576619"], ["updated_at", "2022-03-18 15:15:47.576619"], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.579194"], ["id", 414]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" IS NULL LIMIT $2[0m  [["port", 89], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 414], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "deployed_by_id", "continuous_preview_payload", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["project_id", 414], ["kind", "standard"], ["created_at", "2022-03-18 15:15:47.589130"], ["updated_at", "2022-03-18 15:15:47.589130"], ["subdomain", "subdomain"], ["state", "active"], ["deployed_by_id", 656], ["continuous_preview_payload", "{\"pull_request\":{\"id\":1,\"message\":\"\",\"repository_full_name\":\"github_user/hello-world\"}}"], ["creation_source", "continuous_preview"]]
  [1m[36mUffizziCore::Repo::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "kind", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17) RETURNING "id"[0m  [["namespace", "github_user"], ["name", "hello-world"], ["tag", "string_1765"], ["type", "UffizziCore::Repo::Github"], ["branch", "testing"], ["project_id", 414], ["created_at", "2022-03-18 15:15:47.591691"], ["updated_at", "2022-03-18 15:15:47.591691"], ["description", "Name 390"], ["slug", "slug_67"], ["repository_id", 357590782], ["kind", "buildpacks18"], ["deploy_preview_when_pull_request_is_opened", true], ["delete_preview_when_pull_request_is_closed", true], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 89], ["deployment_id", 319], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 319], ["target_port", 37991], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 319], ["target_port", 37519], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["image", "github_user/hello-world"], ["tag", "testing"], ["created_at", "2022-03-18 15:15:47.598308"], ["updated_at", "2022-03-18 15:15:47.598308"], ["deployment_id", 319], ["public", true], ["port", 89], ["repo_id", 157], ["state", "active"], ["continuously_deploy", "enabled"], ["target_port", 37519], ["receive_incoming_requests", true]]
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.602082"], ["id", 319]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.604542"], ["id", 414]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 319], ["target_port", 37519]]
  [1m[36mUffizziCore::Repo Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" IN (SELECT "uffizzi_core_containers"."repo_id" FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."image" = $2) LIMIT $3[0m  [["deployment_id", 319], ["image", "github_user/hello-world"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
UffizziCore::BuildServiceTest: test_#create_cloud_build_-_check_image_arguments_build
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user134@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 392"], ["last_name", "Name 393"], ["email", "user134@example.com"], ["password_digest", "$2a$04$1fYPPVAjFY3zZDs6jzls/eQ9YEHpukU2fn3VcsgMSRhVMifF.FsSu"], ["confirmation_token", "5117da96a237358e52053144422beb29"], ["state", "initial"], ["phone", "string_1766"], ["created_at", "2022-03-18 15:15:47.616954"], ["updated_at", "2022-03-18 15:15:47.621292"], ["github", "string_1767"], ["website", "string_1768"], ["twitter", "string_1769"], ["linkedin", "string_1770"], ["devto", "string_1771"], ["facebook", "string_1772"], ["blog", "string_1773"], ["bio", "string_1774"], ["status", "string_1775"], ["availability", "string_1776"], ["primary_skills", "string_1777"], ["learning", "string_1778"], ["coding_for", "string_1779"], ["education", "string_1780"], ["title", "string_1781"], ["work", "string_1782"], ["primary_location", "string_1783"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "hamill-bailey.konopelski-kerluke.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 394"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:47.616954"], ["updated_at", "2022-03-18 15:15:47.629625"], ["state", "active"], ["domain", "hamill-bailey.konopelski-kerluke.co"], ["owner_id", 657], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "3a8c892825d74b048faa4a56e608217e"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user134@example.com"], ["token", "3a8c892825d74b048faa4a56e608217e"], ["status", "pending"], ["created_at", "2022-03-18 15:15:47.636001"], ["updated_at", "2022-03-18 15:15:47.636001"], ["invited_by_id", 657], ["entityable_id", 438], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 657], ["account_id", 438], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.639583"], ["updated_at", "2022-03-18 15:15:47.639583"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 438]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "3a8c892825d74b048faa4a56e608217e"], ["id", 650], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:47.648225"], ["invitee_id", 657], ["id", 650]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 657], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1784"], ["password", "Password1String-119"], ["created_at", "2022-03-18 15:15:47.655098"], ["updated_at", "2022-03-18 15:15:47.655098"], ["provider_ref", "90"], ["account_id", 438], ["state", "not_connected"], ["registry_url", "http://url27.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 395"], ["account_id", 438], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 395"], ["created_at", "2022-03-18 15:15:47.662453"], ["updated_at", "2022-03-18 15:15:47.662453"], ["account_id", 438], ["state", "active"], ["slug", "slug_68"], ["description", "Name 396"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 415], ["kind", "standard"], ["created_at", "2022-03-18 15:15:47.666052"], ["updated_at", "2022-03-18 15:15:47.666967"], ["subdomain", "utilis-calamitas"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.670156"], ["id", 415]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "kind", "dockerfile_path", "args", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19) RETURNING "id"[0m  [["namespace", "string_1786"], ["name", "string_1787"], ["tag", "string_1788"], ["type", "UffizziCore::Repo::Github"], ["branch", "string_1789"], ["project_id", 415], ["created_at", "2022-03-18 15:15:47.678803"], ["updated_at", "2022-03-18 15:15:47.678803"], ["description", "Name 397"], ["slug", "slug_69"], ["repository_id", 358291405], ["kind", "dockerfile"], ["dockerfile_path", "Dockerfile"], ["args", "[{\"name\":\"string_1785\",\"value\":91}]"], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "repo_id", "state", "continuously_deploy", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["image", "namespace/name-26"], ["tag", "string_1790"], ["created_at", "2022-03-18 15:15:47.686153"], ["updated_at", "2022-03-18 15:15:47.686153"], ["deployment_id", 320], ["repo_id", 158], ["state", "active"], ["continuously_deploy", "disabled"], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.689488"], ["id", 320]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.691513"], ["id", 415]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Build Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_builds" ("repo_id", "build_id", "created_at", "updated_at", "deployed") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["repo_id", 158], ["build_id", "7a8151e83a45ddfa545ff1d7e5c7f30e"], ["created_at", "2022-03-18 15:15:47.695047"], ["updated_at", "2022-03-18 15:15:47.695047"], ["deployed", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 438], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 438], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Build Update (0.7ms)[0m  [1m[33mUPDATE "uffizzi_core_builds" SET "build_id" = $1, "status" = $2, "updated_at" = $3 WHERE "uffizzi_core_builds"."id" = $4[0m  [["build_id", "1"], ["status", 1], ["updated_at", "2022-03-18 15:15:47.721481"], ["id", 24]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Build Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[36mUffizziCore::Build Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_builds" SET "status" = $1, "updated_at" = $2 WHERE "uffizzi_core_builds"."id" = $3[0m  [["status", 2], ["updated_at", "2022-03-18 15:15:47.734161"], ["id", 24]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::Deployments::EventsControllerTest: test_#index
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user135@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 398"], ["last_name", "Name 399"], ["email", "user135@example.com"], ["password_digest", "$2a$04$pTuJEw8NixSl0yg.CyRC1e4jdiVda0AQtc2sQYIEinFjkFR3s4avW"], ["confirmation_token", "2f9e24522c6e451770503a561ff8cbcc"], ["state", "initial"], ["phone", "string_1791"], ["created_at", "2022-03-18 15:15:47.748133"], ["updated_at", "2022-03-18 15:15:47.752925"], ["github", "string_1792"], ["website", "string_1793"], ["twitter", "string_1794"], ["linkedin", "string_1795"], ["devto", "string_1796"], ["facebook", "string_1797"], ["blog", "string_1798"], ["bio", "string_1799"], ["status", "string_1800"], ["availability", "string_1801"], ["primary_skills", "string_1802"], ["learning", "string_1803"], ["coding_for", "string_1804"], ["education", "string_1805"], ["title", "string_1806"], ["work", "string_1807"], ["primary_location", "string_1808"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "moen.fadel.info"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 400"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:47.748133"], ["updated_at", "2022-03-18 15:15:47.761027"], ["state", "active"], ["domain", "moen.fadel.info"], ["owner_id", 658], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "d561be9ca6d905f6a6008d57f7b1bace"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user135@example.com"], ["token", "d561be9ca6d905f6a6008d57f7b1bace"], ["status", "pending"], ["created_at", "2022-03-18 15:15:47.767537"], ["updated_at", "2022-03-18 15:15:47.767537"], ["invited_by_id", 658], ["entityable_id", 439], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 658], ["account_id", 439], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.771831"], ["updated_at", "2022-03-18 15:15:47.771831"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 439]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "d561be9ca6d905f6a6008d57f7b1bace"], ["id", 651], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:47.780716"], ["invitee_id", 658], ["id", 651]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 658], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 401"], ["account_id", 439], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 401"], ["created_at", "2022-03-18 15:15:47.790164"], ["updated_at", "2022-03-18 15:15:47.790164"], ["account_id", 439], ["state", "active"], ["slug", "slug_70"], ["description", "Name 402"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 439], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 658], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 658], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 658], ["project_id", 416], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.798187"], ["updated_at", "2022-03-18 15:15:47.798187"], ["invited_by_id", 658]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 416], ["kind", "standard"], ["created_at", "2022-03-18 15:15:47.802458"], ["updated_at", "2022-03-18 15:15:47.812140"], ["subdomain", "patria-cribro"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.7ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.817657"], ["id", 416]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::Deployments::EventsController#index as JSON
  Parameters: {"project_slug"=>"slug_70", "deployment_id"=>"321"}
  [1m[36mUffizziCore::User Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 658], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 658], ["slug", "slug_70"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."id" = $2 LIMIT $3[0m  [["project_id", 416], ["id", 321], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 200 OK in 27ms (Views: 2.2ms | ActiveRecord: 1.6ms | Allocations: 4017)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::Deployments::EventsControllerTest: test_#index_with_empty_logs_info
--------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user136@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 403"], ["last_name", "Name 404"], ["email", "user136@example.com"], ["password_digest", "$2a$04$q.UqH7Js9eS8pJCtxNlSG.1xxjcyixXSKW9GBBk38BgtJ0y8Ufgpe"], ["confirmation_token", "a8b79a600783275fe338883c9f915257"], ["state", "initial"], ["phone", "string_1813"], ["created_at", "2022-03-18 15:15:47.863449"], ["updated_at", "2022-03-18 15:15:47.869358"], ["github", "string_1814"], ["website", "string_1815"], ["twitter", "string_1816"], ["linkedin", "string_1817"], ["devto", "string_1818"], ["facebook", "string_1819"], ["blog", "string_1820"], ["bio", "string_1821"], ["status", "string_1822"], ["availability", "string_1823"], ["primary_skills", "string_1824"], ["learning", "string_1825"], ["coding_for", "string_1826"], ["education", "string_1827"], ["title", "string_1828"], ["work", "string_1829"], ["primary_location", "string_1830"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "jacobi.corkery.io"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 405"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:47.863449"], ["updated_at", "2022-03-18 15:15:47.880481"], ["state", "active"], ["domain", "jacobi.corkery.io"], ["owner_id", 659], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "47e8497459f80b5a9c1095868a0d2b46"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user136@example.com"], ["token", "47e8497459f80b5a9c1095868a0d2b46"], ["status", "pending"], ["created_at", "2022-03-18 15:15:47.887970"], ["updated_at", "2022-03-18 15:15:47.887970"], ["invited_by_id", 659], ["entityable_id", 440], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 659], ["account_id", 440], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.891595"], ["updated_at", "2022-03-18 15:15:47.891595"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 440]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "47e8497459f80b5a9c1095868a0d2b46"], ["id", 652], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:47.901005"], ["invitee_id", 659], ["id", 652]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 659], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 406"], ["account_id", 440], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 406"], ["created_at", "2022-03-18 15:15:47.910561"], ["updated_at", "2022-03-18 15:15:47.910561"], ["account_id", 440], ["state", "active"], ["slug", "slug_71"], ["description", "Name 407"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 440], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 659], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 659], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 659], ["project_id", 417], ["role", "admin"], ["created_at", "2022-03-18 15:15:47.918808"], ["updated_at", "2022-03-18 15:15:47.918808"], ["invited_by_id", 659]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 417], ["kind", "standard"], ["created_at", "2022-03-18 15:15:47.923058"], ["updated_at", "2022-03-18 15:15:47.923909"], ["subdomain", "carmen-accusamus"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:47.926970"], ["id", 417]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::Deployments::EventsController#index as JSON
  Parameters: {"project_slug"=>"slug_71", "deployment_id"=>"322"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 659], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 659], ["slug", "slug_71"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."id" = $2 LIMIT $3[0m  [["project_id", 417], ["id", 322], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 200 OK in 18ms (Views: 1.6ms | ActiveRecord: 1.1ms | Allocations: 2771)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::SessionsControllerTest: test_#create_-_failed_with_wrong_password
--------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user137@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 408"], ["last_name", "Name 409"], ["email", "user137@example.com"], ["password_digest", "$2a$04$IBWsHiHZ8hvSWX/mR.HTmOjWm.zGiMPZn4EzjkxDBKdKHgO80BKxa"], ["confirmation_token", "8744e064cabfb1b75d73aa4dd6924533"], ["state", "active"], ["phone", "string_1831"], ["created_at", "2022-03-18 15:15:47.962163"], ["updated_at", "2022-03-18 15:15:47.967160"], ["github", "string_1832"], ["website", "string_1833"], ["twitter", "string_1834"], ["linkedin", "string_1835"], ["devto", "string_1836"], ["facebook", "string_1837"], ["blog", "string_1838"], ["bio", "string_1839"], ["status", "string_1840"], ["availability", "string_1841"], ["primary_skills", "string_1842"], ["learning", "string_1843"], ["coding_for", "string_1844"], ["education", "string_1845"], ["title", "string_1846"], ["work", "string_1847"], ["primary_location", "string_1848"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"user137@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUffizziCore::User Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."state" = $1 AND (lower(email) = 'user137@example.com') ORDER BY "uffizzi_core_users"."id" ASC LIMIT $2[0m  [["state", "active"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 422 Unprocessable Entity in 11ms (Views: 2.7ms | ActiveRecord: 1.0ms | Allocations: 3658)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::SessionsControllerTest: test_#create_-_successful
----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user138@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 410"], ["last_name", "Name 411"], ["email", "user138@example.com"], ["password_digest", "$2a$04$NquT8P3X3Ba/PQ0uutJG6OfuYyCDPF.I9iBm37DdYqI9m52FDzfVm"], ["confirmation_token", "fb7746d05e44213de011b3fe7d8d6ee5"], ["state", "active"], ["phone", "string_1849"], ["created_at", "2022-03-18 15:15:48.025328"], ["updated_at", "2022-03-18 15:15:48.032139"], ["github", "string_1850"], ["website", "string_1851"], ["twitter", "string_1852"], ["linkedin", "string_1853"], ["devto", "string_1854"], ["facebook", "string_1855"], ["blog", "string_1856"], ["bio", "string_1857"], ["status", "string_1858"], ["availability", "string_1859"], ["primary_skills", "string_1860"], ["learning", "string_1861"], ["coding_for", "string_1862"], ["education", "string_1863"], ["title", "string_1864"], ["work", "string_1865"], ["primary_location", "string_1866"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "brown.zemlak.info"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 412"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:48.025328"], ["updated_at", "2022-03-18 15:15:48.044220"], ["state", "active"], ["domain", "brown.zemlak.info"], ["owner_id", 661], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "b4a4818af41fd5dd8bddcb39794eb14a"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user138@example.com"], ["token", "b4a4818af41fd5dd8bddcb39794eb14a"], ["status", "pending"], ["created_at", "2022-03-18 15:15:48.053208"], ["updated_at", "2022-03-18 15:15:48.053208"], ["invited_by_id", 661], ["entityable_id", 441], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 661], ["account_id", 441], ["role", "admin"], ["created_at", "2022-03-18 15:15:48.058543"], ["updated_at", "2022-03-18 15:15:48.058543"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 441]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "b4a4818af41fd5dd8bddcb39794eb14a"], ["id", 653], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:48.071157"], ["invitee_id", 661], ["id", 653]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"user138@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUffizziCore::User Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."state" = $1 AND (lower(email) = 'user138@example.com') ORDER BY "uffizzi_core_users"."id" ASC LIMIT $2[0m  [["state", "active"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 661], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Account Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1[0m  [["user_id", 661]]
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::UserSerializer with ActiveModelSerializers::Adapter::Json (11.11ms)
Completed 201 Created in 23ms (Views: 15.7ms | ActiveRecord: 1.5ms | Allocations: 5365)
  [1m[36mUffizziCore::User Load (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 661], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::Deployments::ContainersControllerTest: test_#index
---------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user139@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 413"], ["last_name", "Name 414"], ["email", "user139@example.com"], ["password_digest", "$2a$04$KeB/0XO7BbELWg5O7Gx37.Y.3g8IQYH5xc0TETp2ERl9TwSFJ5UvG"], ["confirmation_token", "51d2c083aacb5ba13378efebdb0a4dfd"], ["state", "initial"], ["phone", "string_1867"], ["created_at", "2022-03-18 15:15:48.126439"], ["updated_at", "2022-03-18 15:15:48.132603"], ["github", "string_1868"], ["website", "string_1869"], ["twitter", "string_1870"], ["linkedin", "string_1871"], ["devto", "string_1872"], ["facebook", "string_1873"], ["blog", "string_1874"], ["bio", "string_1875"], ["status", "string_1876"], ["availability", "string_1877"], ["primary_skills", "string_1878"], ["learning", "string_1879"], ["coding_for", "string_1880"], ["education", "string_1881"], ["title", "string_1882"], ["work", "string_1883"], ["primary_location", "string_1884"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "kub.lemke.io"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 415"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:48.126439"], ["updated_at", "2022-03-18 15:15:48.142362"], ["state", "active"], ["domain", "kub.lemke.io"], ["owner_id", 662], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "9d0e5a5b1e7f39217b9b4baeb4b283be"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user139@example.com"], ["token", "9d0e5a5b1e7f39217b9b4baeb4b283be"], ["status", "pending"], ["created_at", "2022-03-18 15:15:48.149595"], ["updated_at", "2022-03-18 15:15:48.149595"], ["invited_by_id", 662], ["entityable_id", 442], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 662], ["account_id", 442], ["role", "admin"], ["created_at", "2022-03-18 15:15:48.153865"], ["updated_at", "2022-03-18 15:15:48.153865"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 442]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "9d0e5a5b1e7f39217b9b4baeb4b283be"], ["id", 654], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:48.164367"], ["invitee_id", 662], ["id", 654]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 662], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 662], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 416"], ["account_id", 442], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 416"], ["created_at", "2022-03-18 15:15:48.177551"], ["updated_at", "2022-03-18 15:15:48.177551"], ["account_id", 442], ["state", "active"], ["slug", "slug_72"], ["description", "Name 417"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 442], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 662], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 662], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 662], ["project_id", 418], ["role", "admin"], ["created_at", "2022-03-18 15:15:48.185929"], ["updated_at", "2022-03-18 15:15:48.185929"], ["invited_by_id", 662]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 418], ["kind", "standard"], ["created_at", "2022-03-18 15:15:48.190295"], ["updated_at", "2022-03-18 15:15:48.191283"], ["subdomain", "caelestis-varius"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.194433"], ["id", 418]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::DockerHub Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "string_1885"], ["name", "string_1886"], ["tag", "string_1887"], ["type", "UffizziCore::Repo::DockerHub"], ["branch", "string_1888"], ["project_id", 418], ["created_at", "2022-03-18 15:15:48.198584"], ["updated_at", "2022-03-18 15:15:48.198584"], ["description", "Name 418"], ["slug", "slug_73"], ["repository_id", 93], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "repo_id", "state", "continuously_deploy", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["image", "uffizzitest/webhooks-test-app"], ["tag", "latest"], ["created_at", "2022-03-18 15:15:48.204230"], ["updated_at", "2022-03-18 15:15:48.204230"], ["deployment_id", 323], ["repo_id", 159], ["state", "active"], ["continuously_deploy", "disabled"], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.208117"], ["id", 323]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.210011"], ["id", 418]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::Deployments::ContainersController#index as JSON
  Parameters: {"project_slug"=>"slug_72", "deployment_id"=>"323"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 662], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 662], ["slug", "slug_72"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."id" = $2 LIMIT $3[0m  [["project_id", 418], ["id", 323], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 323], ["state", "active"]]
[active_model_serializers]   [1m[36mUffizziCore::ContainerConfigFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_container_config_files".* FROM "uffizzi_core_container_config_files" WHERE "uffizzi_core_container_config_files"."container_id" = $1[0m  [["container_id", 197]]
[active_model_serializers]   [1m[36mUffizziCore::Repo Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Build Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 159], ["deployed", true], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (6.06ms)
Completed 200 OK in 25ms (Views: 11.6ms | ActiveRecord: 2.2ms | Allocations: 7509)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#create_-_from_an_alternative_compose_file
---------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user140@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 419"], ["last_name", "Name 420"], ["email", "user140@example.com"], ["password_digest", "$2a$04$Cqpwh633E62FJfCNES8sA.BYhVdWGVCIOH/PXcOS.DOsoNGtga.vy"], ["confirmation_token", "c41464c156e180055ec68a77754f90cd"], ["state", "initial"], ["phone", "string_1889"], ["created_at", "2022-03-18 15:15:48.249417"], ["updated_at", "2022-03-18 15:15:48.254509"], ["github", "string_1890"], ["website", "string_1891"], ["twitter", "string_1892"], ["linkedin", "string_1893"], ["devto", "string_1894"], ["facebook", "string_1895"], ["blog", "string_1896"], ["bio", "string_1897"], ["status", "string_1898"], ["availability", "string_1899"], ["primary_skills", "string_1900"], ["learning", "string_1901"], ["coding_for", "string_1902"], ["education", "string_1903"], ["title", "string_1904"], ["work", "string_1905"], ["primary_location", "string_1906"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "wehner.terry.biz"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 421"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:48.249417"], ["updated_at", "2022-03-18 15:15:48.262407"], ["state", "active"], ["domain", "wehner.terry.biz"], ["owner_id", 663], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "c313a86639cedc1de09d1d458ca0ca7a"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user140@example.com"], ["token", "c313a86639cedc1de09d1d458ca0ca7a"], ["status", "pending"], ["created_at", "2022-03-18 15:15:48.268982"], ["updated_at", "2022-03-18 15:15:48.268982"], ["invited_by_id", 663], ["entityable_id", 443], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 663], ["account_id", 443], ["role", "admin"], ["created_at", "2022-03-18 15:15:48.272561"], ["updated_at", "2022-03-18 15:15:48.272561"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 443]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "c313a86639cedc1de09d1d458ca0ca7a"], ["id", 655], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:48.282090"], ["invitee_id", 663], ["id", 655]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 663], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 663], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 422"], ["account_id", 443], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 422"], ["created_at", "2022-03-18 15:15:48.292800"], ["updated_at", "2022-03-18 15:15:48.292800"], ["account_id", 443], ["state", "active"], ["slug", "slug_74"], ["description", "Name 423"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 443], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 663], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 663], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 663], ["project_id", 419], ["role", "admin"], ["created_at", "2022-03-18 15:15:48.300376"], ["updated_at", "2022-03-18 15:15:48.300376"], ["invited_by_id", 663]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 419], ["kind", "standard"], ["created_at", "2022-03-18 15:15:48.304581"], ["updated_at", "2022-03-18 15:15:48.305330"], ["subdomain", "subiungo-tactus"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.309010"], ["id", 419]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:48.312374"], ["subdomain", "deployment-324.slug_74"], ["id", 324]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.315174"], ["id", 419]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1907"], ["password", "Password1String-127"], ["created_at", "2022-03-18 15:15:48.318966"], ["updated_at", "2022-03-18 15:15:48.318966"], ["provider_ref", "94"], ["account_id", 443], ["state", "active"], ["registry_url", "http://url28.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 425"], ["project_id", 419], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 425"], ["added_by_id", 663], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-27\",\"tag\":\"string_1908\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":96,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-27\",\"tag\":\"string_1909\",\"slug\":\"slug_75\",\"branch\":\"string_1908\",\"description\":\"Name 424\",\"repository_id\":95,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 419], ["created_at", "2022-03-18 15:15:48.329067"], ["updated_at", "2022-03-18 15:15:48.329067"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.331627"], ["id", 419]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "temporary"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#create as JSON
  Parameters: {"compose_file"=>{"content"=>"c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvaGVsbG8td29ybGQjbWFpbgoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogaGVsbG8td29ybGQKICBwb3J0OiA4MAo=\n", "path"=>"/volumes/directory-26", "repository_id"=>"", "source"=>"Name 426"}, "project_slug"=>"slug_74"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 663], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 663], ["slug", "slug_74"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 419], ["kind", "main"], ["LIMIT", 1]]
[31mUnpermitted parameters: :compose_file, :project_slug, :format[0m
[31mUnpermitted parameter: :repository_id[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 443], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" DESC LIMIT $3[0m  [["account_id", 443], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Api::Cli::V1::ComposeFile::CreateForm Create (0.8ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "payload", "content", "kind") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["source", "Name 426"], ["path", "/volumes/directory-26"], ["auto_deploy", "disabled"], ["added_by_id", 663], ["project_id", 419], ["created_at", "2022-03-18 15:15:48.399477"], ["updated_at", "2022-03-18 15:15:48.399477"], ["state", "valid_file"], ["payload", "{\"dependencies\":[]}"], ["content", "c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvaGVsbG8td29ybGQjbWFpbgoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogaGVsbG8td29ybGQKICBwb3J0OiA4MAo=\n"], ["kind", "temporary"]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 443], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 198], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."project_id" = $1 AND "uffizzi_core_templates"."name" = $2 LIMIT $3[0m  [["project_id", 419], ["name", "Name 426"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Template::CreateForm Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 426"], ["added_by_id", 663], ["payload", "{\"containers_attributes\":[{\"tag\":\"main\",\"port\":80,\"image\":\"ACCOUNT/hello-world\",\"public\":true,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":\"dockerfile\",\"name\":\"hello-world\",\"slug\":\"hello-world\",\"type\":\"UffizziCore::Repo::Github\",\"branch\":\"main\",\"namespace\":\"ACCOUNT\",\"is_private\":null,\"description\":\"Example Docker Container, based upon `nginx`\",\"repository_id\":358291405,\"dockerfile_path\":\"Dockerfile\",\"dockerfile_context_path\":null,\"args\":[],\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":false,\"delete_preview_after\":null},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":true,\"container_config_files_attributes\":[]}]}"], ["project_id", 419], ["created_at", "2022-03-18 15:15:48.411504"], ["updated_at", "2022-03-18 15:15:48.411504"], ["compose_file_id", 198], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.414625"], ["id", 419]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1[0m  [["account_id", 443]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" IS NULL LIMIT $2[0m  [["port", 80], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "state", "deployed_by_id", "creation_source", "compose_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 419], ["kind", "standard"], ["created_at", "2022-03-18 15:15:48.445414"], ["updated_at", "2022-03-18 15:15:48.445414"], ["state", "active"], ["deployed_by_id", 663], ["creation_source", "compose_file_manual"], ["compose_file_id", 198]]
  [1m[36mUffizziCore::Repo::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "kind", "dockerfile_path", "args", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18) RETURNING "id"[0m  [["namespace", "ACCOUNT"], ["name", "hello-world"], ["type", "UffizziCore::Repo::Github"], ["branch", "main"], ["project_id", 419], ["created_at", "2022-03-18 15:15:48.448632"], ["updated_at", "2022-03-18 15:15:48.448632"], ["description", "Example Docker Container, based upon `nginx`"], ["slug", "hello-world"], ["repository_id", 358291405], ["kind", "dockerfile"], ["dockerfile_path", "Dockerfile"], ["args", "[]"], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mUffizziCore::Container Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 80], ["deployment_id", 325], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "variables", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests", "memory_request", "memory_limit", "secret_variables") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["image", "ACCOUNT/hello-world"], ["tag", "main"], ["variables", "[]"], ["created_at", "2022-03-18 15:15:48.453506"], ["updated_at", "2022-03-18 15:15:48.453506"], ["deployment_id", 325], ["public", true], ["port", 80], ["repo_id", 160], ["state", "active"], ["continuously_deploy", "enabled"], ["target_port", 80], ["receive_incoming_requests", true], ["memory_request", 125], ["memory_limit", 125], ["secret_variables", "[]"]]
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.455906"], ["id", 325]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.458366"], ["id", 419]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 325], ["target_port", 80]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:48.463990"], ["subdomain", "deployment-325.slug_74"], ["id", 325]]
  [1m[36mUffizziCore::Project Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.467068"], ["id", 419]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
DEPLOYMENT_PROCESS deployment_id=325 CreateJob
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=325 CreateCredentialsJob
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 419], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 443], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" IN ($2, $3, $4, $5)[0m  [["account_id", 443], ["type", "UffizziCore::Credential::DockerHub"], ["type", "UffizziCore::Credential::Azure"], ["type", "UffizziCore::Credential::Google"], ["type", "UffizziCore::Credential::Amazon"]]
DEPLOYMENT_PROCESS deployment_id=325 CreateDnsRecordJob
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=325 CreateWebhooksJob
  [1m[36mUffizziCore::Deployment Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 419], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 443], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 AND "uffizzi_core_credentials"."state" = $3 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $4[0m  [["account_id", 443], ["type", "UffizziCore::Credential::DockerHub"], ["state", "active"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" LEFT OUTER JOIN "uffizzi_core_repos" "repo" ON "repo"."id" = "uffizzi_core_containers"."repo_id" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "repo"."type" = $2 LIMIT $3[0m  [["deployment_id", 325], ["type", "UffizziCore::Repo::DockerHub"], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=325 create_webhooks no dockerhub containers or credential
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."receive_incoming_requests" = $2 LIMIT $3[0m  [["deployment_id", 325], ["receive_incoming_requests", true], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Repo Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Build Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 160], ["deployed", true], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 198], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 198], ["LIMIT", 1]]
[active_model_serializers]   [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1[0m  [["container_id", 198]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 325], ["state", "active"]]
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::DeploymentSerializer with ActiveModelSerializers::Adapter::Json (19.81ms)
Completed 201 Created in 300ms (Views: 37.6ms | ActiveRecord: 20.1ms | Allocations: 84476)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "temporary"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#destroy
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user141@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 427"], ["last_name", "Name 428"], ["email", "user141@example.com"], ["password_digest", "$2a$04$QOByCVqZnd2/hG5lbfwyT.MCOsyWQhKVSv7G4Vkfs8O/wO66uN08i"], ["confirmation_token", "5c5c16c075daf51f2b58ded42339d601"], ["state", "initial"], ["phone", "string_1912"], ["created_at", "2022-03-18 15:15:48.668609"], ["updated_at", "2022-03-18 15:15:48.673211"], ["github", "string_1913"], ["website", "string_1914"], ["twitter", "string_1915"], ["linkedin", "string_1916"], ["devto", "string_1917"], ["facebook", "string_1918"], ["blog", "string_1919"], ["bio", "string_1920"], ["status", "string_1921"], ["availability", "string_1922"], ["primary_skills", "string_1923"], ["learning", "string_1924"], ["coding_for", "string_1925"], ["education", "string_1926"], ["title", "string_1927"], ["work", "string_1928"], ["primary_location", "string_1929"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "hettinger.jaskolski.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 429"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:48.668609"], ["updated_at", "2022-03-18 15:15:48.681422"], ["state", "active"], ["domain", "hettinger.jaskolski.co"], ["owner_id", 664], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "9f6a15819d02abedc911614b6af74cd8"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user141@example.com"], ["token", "9f6a15819d02abedc911614b6af74cd8"], ["status", "pending"], ["created_at", "2022-03-18 15:15:48.688044"], ["updated_at", "2022-03-18 15:15:48.688044"], ["invited_by_id", 664], ["entityable_id", 444], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 664], ["account_id", 444], ["role", "admin"], ["created_at", "2022-03-18 15:15:48.692297"], ["updated_at", "2022-03-18 15:15:48.692297"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 444]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "9f6a15819d02abedc911614b6af74cd8"], ["id", 656], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:48.701231"], ["invitee_id", 664], ["id", 656]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 664], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 664], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 430"], ["account_id", 444], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 430"], ["created_at", "2022-03-18 15:15:48.711895"], ["updated_at", "2022-03-18 15:15:48.711895"], ["account_id", 444], ["state", "active"], ["slug", "slug_76"], ["description", "Name 431"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 444], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 664], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 664], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 664], ["project_id", 420], ["role", "admin"], ["created_at", "2022-03-18 15:15:48.720377"], ["updated_at", "2022-03-18 15:15:48.720377"], ["invited_by_id", 664]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 420], ["kind", "standard"], ["created_at", "2022-03-18 15:15:48.725475"], ["updated_at", "2022-03-18 15:15:48.726328"], ["subdomain", "depereo-cubo"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.729568"], ["id", 420]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:48.732895"], ["subdomain", "deployment-326.slug_76"], ["id", 326]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.735836"], ["id", 420]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1930"], ["password", "Password1String-129"], ["created_at", "2022-03-18 15:15:48.739743"], ["updated_at", "2022-03-18 15:15:48.739743"], ["provider_ref", "98"], ["account_id", 444], ["state", "active"], ["registry_url", "http://url29.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 433"], ["project_id", 420], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 433"], ["added_by_id", 664], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-28\",\"tag\":\"string_1931\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":100,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-28\",\"tag\":\"string_1932\",\"slug\":\"slug_77\",\"branch\":\"string_1931\",\"description\":\"Name 432\",\"repository_id\":99,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 420], ["created_at", "2022-03-18 15:15:48.765691"], ["updated_at", "2022-03-18 15:15:48.765691"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.770262"], ["id", 420]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 101], ["deployment_id", 326], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (1.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["image", "namespace/name-29"], ["tag", "string_1933"], ["created_at", "2022-03-18 15:15:48.781239"], ["updated_at", "2022-03-18 15:15:48.781239"], ["deployment_id", 326], ["public", true], ["port", 101], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 101], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.785230"], ["id", 326]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.787775"], ["id", 420]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 326], ["target_port", 101]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#destroy as JSON
  Parameters: {"project_slug"=>"slug_76", "id"=>"326"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 664], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 664], ["slug", "slug_76"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."state" = $2 AND "uffizzi_core_deployments"."id" = $3 LIMIT $4[0m  [["project_id", 420], ["state", "active"], ["id", 326], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.3ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "state" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:48.804845"], ["state", "disabled"], ["id", 326]]
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 326], ["state", "active"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mUffizziCore::Container Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_containers" SET "updated_at" = $1, "state" = $2 WHERE "uffizzi_core_containers"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:48.811752"], ["state", "disabled"], ["id", 199]]
  [1m[36mUffizziCore::Container Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_containers" SET "updated_at" = $1, "public" = $2, "port" = $3, "target_port" = $4 WHERE "uffizzi_core_containers"."id" = $5[0m  [["updated_at", "2022-03-18 15:15:48.815674"], ["public", false], ["port", nil], ["target_port", nil], ["id", 199]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
DEPLOYMENT_PROCESS deployment_id=326 DeleteJob
DEPLOYMENT_PROCESS DeleteDnsRecordJob(preview_url:deployment-326.slug_76.app.qa-gke.uffizzi.com)
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.817572"], ["id", 326]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.833124"], ["id", 420]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 38ms (ActiveRecord: 4.6ms | Allocations: 8430)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[36mUffizziCore::Container Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."id" = $1 LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#deploy_containers_skip_activity_item_creation_if_existing_has_not_finished_yet
----------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user142@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 434"], ["last_name", "Name 435"], ["email", "user142@example.com"], ["password_digest", "$2a$04$j/bfp0F1JrVd0WX8QbzKyuBz4EiNHevkM2bQD7i5SrHlD.OjWWnW."], ["confirmation_token", "096bff8037dbfc765a714c2ad8459b6e"], ["state", "initial"], ["phone", "string_1934"], ["created_at", "2022-03-18 15:15:48.877607"], ["updated_at", "2022-03-18 15:15:48.883608"], ["github", "string_1935"], ["website", "string_1936"], ["twitter", "string_1937"], ["linkedin", "string_1938"], ["devto", "string_1939"], ["facebook", "string_1940"], ["blog", "string_1941"], ["bio", "string_1942"], ["status", "string_1943"], ["availability", "string_1944"], ["primary_skills", "string_1945"], ["learning", "string_1946"], ["coding_for", "string_1947"], ["education", "string_1948"], ["title", "string_1949"], ["work", "string_1950"], ["primary_location", "string_1951"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "johnson.tromp-ondricka.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 436"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:48.877607"], ["updated_at", "2022-03-18 15:15:48.894937"], ["state", "active"], ["domain", "johnson.tromp-ondricka.co"], ["owner_id", 665], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "542ec8175072129977f8fadc3448e47e"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user142@example.com"], ["token", "542ec8175072129977f8fadc3448e47e"], ["status", "pending"], ["created_at", "2022-03-18 15:15:48.903974"], ["updated_at", "2022-03-18 15:15:48.903974"], ["invited_by_id", 665], ["entityable_id", 445], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 665], ["account_id", 445], ["role", "admin"], ["created_at", "2022-03-18 15:15:48.908627"], ["updated_at", "2022-03-18 15:15:48.908627"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 445]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "542ec8175072129977f8fadc3448e47e"], ["id", 657], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:48.919311"], ["invitee_id", 665], ["id", 657]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 665], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 665], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 437"], ["account_id", 445], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 437"], ["created_at", "2022-03-18 15:15:48.931606"], ["updated_at", "2022-03-18 15:15:48.931606"], ["account_id", 445], ["state", "active"], ["slug", "slug_78"], ["description", "Name 438"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 445], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 665], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 665], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 665], ["project_id", 421], ["role", "admin"], ["created_at", "2022-03-18 15:15:48.939691"], ["updated_at", "2022-03-18 15:15:48.939691"], ["invited_by_id", 665]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 421], ["kind", "standard"], ["created_at", "2022-03-18 15:15:48.944125"], ["updated_at", "2022-03-18 15:15:48.945025"], ["subdomain", "quos-pel"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.948120"], ["id", 421]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:48.951474"], ["subdomain", "deployment-327.slug_78"], ["id", 327]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.954430"], ["id", 421]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1952"], ["password", "Password1String-131"], ["created_at", "2022-03-18 15:15:48.958501"], ["updated_at", "2022-03-18 15:15:48.958501"], ["provider_ref", "102"], ["account_id", 445], ["state", "active"], ["registry_url", "http://url30.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 440"], ["project_id", 421], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 440"], ["added_by_id", 665], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-30\",\"tag\":\"string_1953\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":104,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-30\",\"tag\":\"string_1954\",\"slug\":\"slug_79\",\"branch\":\"string_1953\",\"description\":\"Name 439\",\"repository_id\":103,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 421], ["created_at", "2022-03-18 15:15:48.968890"], ["updated_at", "2022-03-18 15:15:48.968890"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.971420"], ["id", 421]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::DockerHub Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["tag", "string_1955"], ["type", "UffizziCore::Repo::DockerHub"], ["branch", "string_1956"], ["project_id", 421], ["created_at", "2022-03-18 15:15:48.979393"], ["updated_at", "2022-03-18 15:15:48.979393"], ["description", "Name 441"], ["slug", "slug_80"], ["repository_id", 105], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "repo_id", "state", "continuously_deploy", "controller_name", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["image", "uffizzitest/webhooks-test-app"], ["tag", "latest"], ["created_at", "2022-03-18 15:15:48.985632"], ["updated_at", "2022-03-18 15:15:48.985632"], ["deployment_id", 327], ["repo_id", 161], ["state", "active"], ["continuously_deploy", "enabled"], ["controller_name", "f03d008a48"], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.989483"], ["id", 327]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:48.991536"], ["id", 421]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem::Docker Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "branch", "type", "container_id", "commit", "commit_message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["deployment_id", 327], ["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["tag", "latest"], ["branch", ""], ["type", "UffizziCore::ActivityItem::Docker"], ["container_id", 200], ["commit", "commit-hash-5"], ["commit_message", "commit-message-5"], ["created_at", "2022-03-18 15:15:48.995751"], ["updated_at", "2022-03-18 15:15:48.995751"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 98], ["state", "building"], ["created_at", "2022-03-18 15:15:49.000829"], ["updated_at", "2022-03-18 15:15:49.000829"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.003598"], ["id", 98]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::DockerHub Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::DockerHub"], ["username", "string_1957"], ["password", "Password1String-132"], ["created_at", "2022-03-18 15:15:49.009702"], ["updated_at", "2022-03-18 15:15:49.009702"], ["account_id", 445], ["state", "not_connected"], ["registry_url", "http://url31.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#deploy_containers as JSON
  Parameters: {"project_slug"=>"slug_78", "id"=>"327"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 665], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 665], ["slug", "slug_78"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."state" = $2 AND "uffizzi_core_deployments"."id" = $3 LIMIT $4[0m  [["project_id", 421], ["state", "active"], ["id", 327], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "deployed_by_id" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:49.026152"], ["deployed_by_id", 665], ["id", 327]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.030182"], ["id", 421]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ConfigFile Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "uffizzi_core_config_files"."id" FROM "uffizzi_core_config_files" INNER JOIN "uffizzi_core_container_config_files" "container_config_files" ON "container_config_files"."config_file_id" = "uffizzi_core_config_files"."id" WHERE "uffizzi_core_config_files"."project_id" = $1 AND "container_config_files"."container_id" IN (SELECT "uffizzi_core_containers"."id" FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $2)[0m  [["project_id", 421], ["deployment_id", 327]]
DEPLOYMENT_PROCESS deployment_id=327 DeployContainersJob
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 327], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."namespace" = $1 AND "uffizzi_core_activity_items"."name" = $2 AND "uffizzi_core_activity_items"."container_id" = $3 AND "uffizzi_core_activity_items"."deployment_id" = $4 AND "uffizzi_core_activity_items"."type" = $5 AND "uffizzi_core_activity_items"."tag" = $6 LIMIT $7[0m  [["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["container_id", 200], ["deployment_id", 327], ["type", "UffizziCore::ActivityItem::Docker"], ["tag", "latest"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 98], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 98], ["state", "deploying"], ["created_at", "2022-03-18 15:15:49.047154"], ["updated_at", "2022-03-18 15:15:49.047154"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.050023"], ["id", 98]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 445], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 445], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 445], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 445], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1, "digest" = $2 WHERE "uffizzi_core_activity_items"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:49.097541"], ["digest", "sha256:cd0c68c5479f2db4b9e2c5fbfdb7a8acb77625322dd5b474578515422d3ddb59"], ["id", 98]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "uffizzi_core_containers"."public" = $3[0m  [["deployment_id", 327], ["state", "active"], ["public", true]]
  [1m[36mUffizziCore::Container Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 327], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 98], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 98], ["state", "deployed"], ["created_at", "2022-03-18 15:15:49.139341"], ["updated_at", "2022-03-18 15:15:49.139341"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.142146"], ["id", 98]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_containers"."id" AS t0_r0, "uffizzi_core_containers"."image" AS t0_r1, "uffizzi_core_containers"."tag" AS t0_r2, "uffizzi_core_containers"."variables" AS t0_r3, "uffizzi_core_containers"."created_at" AS t0_r4, "uffizzi_core_containers"."updated_at" AS t0_r5, "uffizzi_core_containers"."deployment_id" AS t0_r6, "uffizzi_core_containers"."public" AS t0_r7, "uffizzi_core_containers"."port" AS t0_r8, "uffizzi_core_containers"."repo_id" AS t0_r9, "uffizzi_core_containers"."state" AS t0_r10, "uffizzi_core_containers"."continuously_deploy" AS t0_r11, "uffizzi_core_containers"."kind" AS t0_r12, "uffizzi_core_containers"."target_port" AS t0_r13, "uffizzi_core_containers"."controller_name" AS t0_r14, "uffizzi_core_containers"."receive_incoming_requests" AS t0_r15, "uffizzi_core_containers"."memory_request" AS t0_r16, "uffizzi_core_containers"."memory_limit" AS t0_r17, "uffizzi_core_containers"."secret_variables" AS t0_r18, "uffizzi_core_containers"."entrypoint" AS t0_r19, "uffizzi_core_containers"."command" AS t0_r20, "repo"."id" AS t1_r0, "repo"."namespace" AS t1_r1, "repo"."name" AS t1_r2, "repo"."tag" AS t1_r3, "repo"."type" AS t1_r4, "repo"."branch" AS t1_r5, "repo"."project_id" AS t1_r6, "repo"."created_at" AS t1_r7, "repo"."updated_at" AS t1_r8, "repo"."description" AS t1_r9, "repo"."is_private" AS t1_r10, "repo"."slug" AS t1_r11, "repo"."repository_id" AS t1_r12, "repo"."kind" AS t1_r13, "repo"."dockerfile_path" AS t1_r14, "repo"."args" AS t1_r15, "repo"."dockerfile_context_path" AS t1_r16, "repo"."deploy_preview_when_pull_request_is_opened" AS t1_r17, "repo"."delete_preview_when_pull_request_is_closed" AS t1_r18, "repo"."deploy_preview_when_image_tag_is_created" AS t1_r19, "repo"."delete_preview_when_image_tag_is_updated" AS t1_r20, "repo"."share_to_github" AS t1_r21, "repo"."delete_preview_after" AS t1_r22, "repo"."tag_pattern_deprecated" AS t1_r23 FROM "uffizzi_core_containers" LEFT OUTER JOIN "uffizzi_core_repos" "repo" ON "repo"."id" = "uffizzi_core_containers"."repo_id" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "repo"."type" = $3[0m  [["deployment_id", 327], ["state", "active"], ["type", "UffizziCore::Repo::Github"]]
  [1m[36mUffizziCore::Container Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 327], ["state", "active"]]
  [1m[36mUffizziCore::Container Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 327], ["state", "active"]]
  [1m[36mUffizziCore::ActivityItem Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 200], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 98], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=327 start deploying into controller
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 327], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 445], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 445], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ContainerConfigFile Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_container_config_files".* FROM "uffizzi_core_container_config_files" WHERE "uffizzi_core_container_config_files"."container_id" = $1[0m  [["container_id", 200]]
  [1m[36mUffizziCore::Credential Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" INNER JOIN "uffizzi_core_accounts" ON "uffizzi_core_credentials"."account_id" = "uffizzi_core_accounts"."id" INNER JOIN "uffizzi_core_projects" ON "uffizzi_core_accounts"."id" = "uffizzi_core_projects"."account_id" WHERE "uffizzi_core_projects"."id" = $1 AND "uffizzi_core_credentials"."type" IN ($2, $3, $4, $5)[0m  [["id", 421], ["type", "UffizziCore::Credential::DockerHub"], ["type", "UffizziCore::Credential::Azure"], ["type", "UffizziCore::Credential::Google"], ["type", "UffizziCore::Credential::Amazon"]]
No template found for UffizziCore::Api::Cli::V1::Projects::DeploymentsController#deploy_containers, rendering head :no_content
Completed 204 No Content in 175ms (ActiveRecord: 18.8ms | Allocations: 40449)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."type" = $1[0m  [["type", "UffizziCore::ActivityItem::Docker"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#create_-_from_the_existing_compose_file_when_credentials_are_removed
------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user143@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 442"], ["last_name", "Name 443"], ["email", "user143@example.com"], ["password_digest", "$2a$04$ND.X1U/clnPJuSsHh2KQ5eUATNxTIYPzVqLgL1OpLqr9ka.eDvUEC"], ["confirmation_token", "7a7824bc45ba7234153741107c6c77fd"], ["state", "initial"], ["phone", "string_1958"], ["created_at", "2022-03-18 15:15:49.224076"], ["updated_at", "2022-03-18 15:15:49.230110"], ["github", "string_1959"], ["website", "string_1960"], ["twitter", "string_1961"], ["linkedin", "string_1962"], ["devto", "string_1963"], ["facebook", "string_1964"], ["blog", "string_1965"], ["bio", "string_1966"], ["status", "string_1967"], ["availability", "string_1968"], ["primary_skills", "string_1969"], ["learning", "string_1970"], ["coding_for", "string_1971"], ["education", "string_1972"], ["title", "string_1973"], ["work", "string_1974"], ["primary_location", "string_1975"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "prohaska.mohr.biz"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 444"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:49.224076"], ["updated_at", "2022-03-18 15:15:49.241020"], ["state", "active"], ["domain", "prohaska.mohr.biz"], ["owner_id", 666], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "bb2b84a93f6aabe948fbf40ebc6051ac"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user143@example.com"], ["token", "bb2b84a93f6aabe948fbf40ebc6051ac"], ["status", "pending"], ["created_at", "2022-03-18 15:15:49.249162"], ["updated_at", "2022-03-18 15:15:49.249162"], ["invited_by_id", 666], ["entityable_id", 446], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 666], ["account_id", 446], ["role", "admin"], ["created_at", "2022-03-18 15:15:49.253252"], ["updated_at", "2022-03-18 15:15:49.253252"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 446]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "bb2b84a93f6aabe948fbf40ebc6051ac"], ["id", 658], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:49.262228"], ["invitee_id", 666], ["id", 658]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 666], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 666], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 445"], ["account_id", 446], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 445"], ["created_at", "2022-03-18 15:15:49.273783"], ["updated_at", "2022-03-18 15:15:49.273783"], ["account_id", 446], ["state", "active"], ["slug", "slug_81"], ["description", "Name 446"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 446], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 666], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 666], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 666], ["project_id", 422], ["role", "admin"], ["created_at", "2022-03-18 15:15:49.281992"], ["updated_at", "2022-03-18 15:15:49.281992"], ["invited_by_id", 666]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 422], ["kind", "standard"], ["created_at", "2022-03-18 15:15:49.286361"], ["updated_at", "2022-03-18 15:15:49.287253"], ["subdomain", "comminor-defero"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.290334"], ["id", 422]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:49.293572"], ["subdomain", "deployment-328.slug_81"], ["id", 328]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.296859"], ["id", 422]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_1976"], ["password", "Password1String-134"], ["created_at", "2022-03-18 15:15:49.300704"], ["updated_at", "2022-03-18 15:15:49.300704"], ["provider_ref", "106"], ["account_id", 446], ["state", "active"], ["registry_url", "http://url32.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 448"], ["project_id", 422], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 448"], ["added_by_id", 666], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-31\",\"tag\":\"string_1977\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":108,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-31\",\"tag\":\"string_1978\",\"slug\":\"slug_82\",\"branch\":\"string_1977\",\"description\":\"Name 447\",\"repository_id\":107,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 422], ["created_at", "2022-03-18 15:15:49.310433"], ["updated_at", "2022-03-18 15:15:49.310433"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.312990"], ["id", 422]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 422], ["project_id", 422], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 449"], ["project_id", 422], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "content") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["source", "Name 449"], ["repository_id", 109], ["branch", "string_1979"], ["path", "/volumes/directory-27"], ["auto_deploy", "disabled"], ["added_by_id", 666], ["project_id", 422], ["created_at", "2022-03-18 15:15:49.324000"], ["updated_at", "2022-03-18 15:15:49.324000"], ["state", "valid_file"], ["content", "c2VydmljZXM6CiAgcmVkaXM6CiAgICBpbWFnZTogcmVkaXM6bGF0ZXN0Cgog\nIHBvc3RncmVzOgogICAgaW1hZ2U6IHBvc3RncmVzOjkuNgogICAgZW52aXJv\nbm1lbnQ6CiAgICAgIFBPU1RHUkVTX1VTRVI6IHBvc3RncmVzCiAgICAgIFBP\nU1RHUkVTX1BBU1NXT1JEOiBwb3N0Z3JlcwoKICBuZ2lueDoKICAgIGltYWdl\nOiBuZ2lueDpsYXRlc3QKICAgIGNvbmZpZ3M6CiAgICAgIC0gc291cmNlOiB2\nb3RlX2NvbmYKICAgICAgICB0YXJnZXQ6IC9ldGMvbmdpbngvY29uZi5kCiAg\nICBlbnRyeXBvaW50OiAvdXNyL3NiaW4vbmdpbngtZGVidWcKICAgIGNvbW1h\nbmQ6IAogICAgICAtICItZyIKICAgICAgLSAiZGFlbW9uIG9mZjsiCgogIHdv\ncmtlcjoKICAgIGltYWdlOiB1ZmZpenppY2xvdWQvZXhhbXBsZS13b3JrZXI6\nbGF0ZXN0CiAgICBkZXBsb3k6CiAgICAgIHJlc291cmNlczoKICAgICAgICBs\naW1pdHM6CiAgICAgICAgICBtZW1vcnk6IDI1ME0KCiAgdm90ZToKICAgIGlt\nYWdlOiB1ZmZpenppY2xvdWQvZXhhbXBsZS12b3RlOmxhdGVzdAoKICByZXN1\nbHQ6CiAgICBpbWFnZTogdWZmaXp6aWNsb3VkL2V4YW1wbGUtcmVzdWx0Omxh\ndGVzdAoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogbmdpbngKICBw\nb3J0OiA4MDgwCgpjb25maWdzOgogIHZvdGVfY29uZjoKICAgIGZpbGU6IGNv\nbmZpZ3Mvdm90ZS5jb25mCiAgZGVmYXVsZl9jb25mOgogICAgZmlsZTogY29u\nZmlnX2ZpbGVzL2NvbmZpZ19maWxlLmNvbmYK\n"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 451"], ["project_id", 422], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 451"], ["added_by_id", 666], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-32\",\"tag\":\"string_1980\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":111,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-32\",\"tag\":\"string_1981\",\"slug\":\"slug_83\",\"branch\":\"string_1980\",\"description\":\"Name 450\",\"repository_id\":110,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 422], ["created_at", "2022-03-18 15:15:49.333368"], ["updated_at", "2022-03-18 15:15:49.333368"], ["compose_file_id", 199], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.335944"], ["id", 422]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."type" = $1[0m  [["type", "UffizziCore::Repo::Github"]]
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#create as JSON
  Parameters: {"project_slug"=>"slug_81"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 666], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 666], ["slug", "slug_81"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 422], ["kind", "main"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 446], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1[0m  [["account_id", 446]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 422 Unprocessable Entity in 15ms (Views: 1.2ms | ActiveRecord: 1.9ms | Allocations: 4269)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."type" = $1[0m  [["type", "UffizziCore::Repo::Github"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#deploy_containers_create_a_new_activity_item_creation_without_credential
----------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user144@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 452"], ["last_name", "Name 453"], ["email", "user144@example.com"], ["password_digest", "$2a$04$zIMfQk8ia8/ycoNSegUpEuR2QUG4SKnSgeDluS98Ryq51tAmmuAde"], ["confirmation_token", "4b7daf5588fab078fee39bc049f36137"], ["state", "initial"], ["phone", "string_1982"], ["created_at", "2022-03-18 15:15:49.370140"], ["updated_at", "2022-03-18 15:15:49.376052"], ["github", "string_1983"], ["website", "string_1984"], ["twitter", "string_1985"], ["linkedin", "string_1986"], ["devto", "string_1987"], ["facebook", "string_1988"], ["blog", "string_1989"], ["bio", "string_1990"], ["status", "string_1991"], ["availability", "string_1992"], ["primary_skills", "string_1993"], ["learning", "string_1994"], ["coding_for", "string_1995"], ["education", "string_1996"], ["title", "string_1997"], ["work", "string_1998"], ["primary_location", "string_1999"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "wolff.erdman.net"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 454"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:49.370140"], ["updated_at", "2022-03-18 15:15:49.384653"], ["state", "active"], ["domain", "wolff.erdman.net"], ["owner_id", 667], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "ceee01f19c09f421400dc85d10f64058"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user144@example.com"], ["token", "ceee01f19c09f421400dc85d10f64058"], ["status", "pending"], ["created_at", "2022-03-18 15:15:49.391390"], ["updated_at", "2022-03-18 15:15:49.391390"], ["invited_by_id", 667], ["entityable_id", 447], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 667], ["account_id", 447], ["role", "admin"], ["created_at", "2022-03-18 15:15:49.395134"], ["updated_at", "2022-03-18 15:15:49.395134"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 447]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "ceee01f19c09f421400dc85d10f64058"], ["id", 659], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:49.404464"], ["invitee_id", 667], ["id", 659]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 667], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 667], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 455"], ["account_id", 447], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 455"], ["created_at", "2022-03-18 15:15:49.415946"], ["updated_at", "2022-03-18 15:15:49.415946"], ["account_id", 447], ["state", "active"], ["slug", "slug_84"], ["description", "Name 456"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 447], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 667], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 667], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 667], ["project_id", 423], ["role", "admin"], ["created_at", "2022-03-18 15:15:49.423693"], ["updated_at", "2022-03-18 15:15:49.423693"], ["invited_by_id", 667]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 423], ["kind", "standard"], ["created_at", "2022-03-18 15:15:49.428051"], ["updated_at", "2022-03-18 15:15:49.428776"], ["subdomain", "despirmatio-laborum"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.431753"], ["id", 423]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:49.434919"], ["subdomain", "deployment-329.slug_84"], ["id", 329]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.437547"], ["id", 423]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2000"], ["password", "Password1String-136"], ["created_at", "2022-03-18 15:15:49.441260"], ["updated_at", "2022-03-18 15:15:49.441260"], ["provider_ref", "112"], ["account_id", 447], ["state", "active"], ["registry_url", "http://url33.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 458"], ["project_id", 423], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 458"], ["added_by_id", 667], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-33\",\"tag\":\"string_2001\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":114,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-33\",\"tag\":\"string_2002\",\"slug\":\"slug_85\",\"branch\":\"string_2001\",\"description\":\"Name 457\",\"repository_id\":113,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 423], ["created_at", "2022-03-18 15:15:49.452017"], ["updated_at", "2022-03-18 15:15:49.452017"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.454726"], ["id", 423]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::DockerHub Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["tag", "string_2003"], ["type", "UffizziCore::Repo::DockerHub"], ["branch", "string_2004"], ["project_id", 423], ["created_at", "2022-03-18 15:15:49.462518"], ["updated_at", "2022-03-18 15:15:49.462518"], ["description", "Name 459"], ["slug", "slug_86"], ["repository_id", 115], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "repo_id", "state", "continuously_deploy", "controller_name", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["image", "uffizzitest/webhooks-test-app"], ["tag", "latest"], ["created_at", "2022-03-18 15:15:49.468669"], ["updated_at", "2022-03-18 15:15:49.468669"], ["deployment_id", 329], ["repo_id", 162], ["state", "active"], ["continuously_deploy", "enabled"], ["controller_name", "f03d008a48"], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.472560"], ["id", 329]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.474682"], ["id", 423]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem::Docker Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "branch", "type", "container_id", "commit", "commit_message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["deployment_id", 329], ["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["tag", "latest"], ["branch", ""], ["type", "UffizziCore::ActivityItem::Docker"], ["container_id", 201], ["commit", "commit-hash-6"], ["commit_message", "commit-message-6"], ["created_at", "2022-03-18 15:15:49.478895"], ["updated_at", "2022-03-18 15:15:49.478895"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 99], ["state", "deployed"], ["created_at", "2022-03-18 15:15:49.483924"], ["updated_at", "2022-03-18 15:15:49.483924"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.486729"], ["id", 99]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#deploy_containers as JSON
  Parameters: {"project_slug"=>"slug_84", "id"=>"329"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 667], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 667], ["slug", "slug_84"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."state" = $2 AND "uffizzi_core_deployments"."id" = $3 LIMIT $4[0m  [["project_id", 423], ["state", "active"], ["id", 329], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "deployed_by_id" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:49.501140"], ["deployed_by_id", 667], ["id", 329]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.504096"], ["id", 423]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ConfigFile Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "uffizzi_core_config_files"."id" FROM "uffizzi_core_config_files" INNER JOIN "uffizzi_core_container_config_files" "container_config_files" ON "container_config_files"."config_file_id" = "uffizzi_core_config_files"."id" WHERE "uffizzi_core_config_files"."project_id" = $1 AND "container_config_files"."container_id" IN (SELECT "uffizzi_core_containers"."id" FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $2)[0m  [["project_id", 423], ["deployment_id", 329]]
DEPLOYMENT_PROCESS deployment_id=329 DeployContainersJob
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 329], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."namespace" = $1 AND "uffizzi_core_activity_items"."name" = $2 AND "uffizzi_core_activity_items"."container_id" = $3 AND "uffizzi_core_activity_items"."deployment_id" = $4 AND "uffizzi_core_activity_items"."type" = $5 AND "uffizzi_core_activity_items"."tag" = $6 LIMIT $7[0m  [["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["container_id", 201], ["deployment_id", 329], ["type", "UffizziCore::ActivityItem::Docker"], ["tag", "latest"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 99], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem::Docker Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "type", "container_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["deployment_id", 329], ["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["tag", "latest"], ["type", "UffizziCore::ActivityItem::Docker"], ["container_id", 201], ["created_at", "2022-03-18 15:15:49.523380"], ["updated_at", "2022-03-18 15:15:49.523380"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 100], ["state", "deploying"], ["created_at", "2022-03-18 15:15:49.526901"], ["updated_at", "2022-03-18 15:15:49.526901"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.529869"], ["id", 100]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 423], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 447], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 447], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "uffizzi_core_containers"."public" = $3[0m  [["deployment_id", 329], ["state", "active"], ["public", true]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 329], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 100], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 100], ["state", "deployed"], ["created_at", "2022-03-18 15:15:49.587942"], ["updated_at", "2022-03-18 15:15:49.587942"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.592261"], ["id", 100]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[34mSELECT "uffizzi_core_containers"."id" AS t0_r0, "uffizzi_core_containers"."image" AS t0_r1, "uffizzi_core_containers"."tag" AS t0_r2, "uffizzi_core_containers"."variables" AS t0_r3, "uffizzi_core_containers"."created_at" AS t0_r4, "uffizzi_core_containers"."updated_at" AS t0_r5, "uffizzi_core_containers"."deployment_id" AS t0_r6, "uffizzi_core_containers"."public" AS t0_r7, "uffizzi_core_containers"."port" AS t0_r8, "uffizzi_core_containers"."repo_id" AS t0_r9, "uffizzi_core_containers"."state" AS t0_r10, "uffizzi_core_containers"."continuously_deploy" AS t0_r11, "uffizzi_core_containers"."kind" AS t0_r12, "uffizzi_core_containers"."target_port" AS t0_r13, "uffizzi_core_containers"."controller_name" AS t0_r14, "uffizzi_core_containers"."receive_incoming_requests" AS t0_r15, "uffizzi_core_containers"."memory_request" AS t0_r16, "uffizzi_core_containers"."memory_limit" AS t0_r17, "uffizzi_core_containers"."secret_variables" AS t0_r18, "uffizzi_core_containers"."entrypoint" AS t0_r19, "uffizzi_core_containers"."command" AS t0_r20, "repo"."id" AS t1_r0, "repo"."namespace" AS t1_r1, "repo"."name" AS t1_r2, "repo"."tag" AS t1_r3, "repo"."type" AS t1_r4, "repo"."branch" AS t1_r5, "repo"."project_id" AS t1_r6, "repo"."created_at" AS t1_r7, "repo"."updated_at" AS t1_r8, "repo"."description" AS t1_r9, "repo"."is_private" AS t1_r10, "repo"."slug" AS t1_r11, "repo"."repository_id" AS t1_r12, "repo"."kind" AS t1_r13, "repo"."dockerfile_path" AS t1_r14, "repo"."args" AS t1_r15, "repo"."dockerfile_context_path" AS t1_r16, "repo"."deploy_preview_when_pull_request_is_opened" AS t1_r17, "repo"."delete_preview_when_pull_request_is_closed" AS t1_r18, "repo"."deploy_preview_when_image_tag_is_created" AS t1_r19, "repo"."delete_preview_when_image_tag_is_updated" AS t1_r20, "repo"."share_to_github" AS t1_r21, "repo"."delete_preview_after" AS t1_r22, "repo"."tag_pattern_deprecated" AS t1_r23 FROM "uffizzi_core_containers" LEFT OUTER JOIN "uffizzi_core_repos" "repo" ON "repo"."id" = "uffizzi_core_containers"."repo_id" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "repo"."type" = $3[0m  [["deployment_id", 329], ["state", "active"], ["type", "UffizziCore::Repo::Github"]]
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 329], ["state", "active"]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 329], ["state", "active"]]
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 201], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 100], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=329 start deploying into controller
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 329], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 423], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 447], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 447], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ContainerConfigFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_container_config_files".* FROM "uffizzi_core_container_config_files" WHERE "uffizzi_core_container_config_files"."container_id" = $1[0m  [["container_id", 201]]
  [1m[36mUffizziCore::Credential Load (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" INNER JOIN "uffizzi_core_accounts" ON "uffizzi_core_credentials"."account_id" = "uffizzi_core_accounts"."id" INNER JOIN "uffizzi_core_projects" ON "uffizzi_core_accounts"."id" = "uffizzi_core_projects"."account_id" WHERE "uffizzi_core_projects"."id" = $1 AND "uffizzi_core_credentials"."type" IN ($2, $3, $4, $5)[0m  [["id", 423], ["type", "UffizziCore::Credential::DockerHub"], ["type", "UffizziCore::Credential::Azure"], ["type", "UffizziCore::Credential::Google"], ["type", "UffizziCore::Credential::Amazon"]]
No template found for UffizziCore::Api::Cli::V1::Projects::DeploymentsController#deploy_containers, rendering head :no_content
Completed 204 No Content in 143ms (ActiveRecord: 19.6ms | Allocations: 24772)
  [1m[36mUffizziCore::ActivityItem Load (0.9ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."type" = $1[0m  [["type", "UffizziCore::ActivityItem::Docker"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#index
---------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user145@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 460"], ["last_name", "Name 461"], ["email", "user145@example.com"], ["password_digest", "$2a$04$e3boYjyvqp1eMR8tkfmwmuwdScH16wghhOzUtLTUeJIcJk231mLB6"], ["confirmation_token", "50cd96f51ff189269fda600e7b2e1c56"], ["state", "initial"], ["phone", "string_2005"], ["created_at", "2022-03-18 15:15:49.698200"], ["updated_at", "2022-03-18 15:15:49.704575"], ["github", "string_2006"], ["website", "string_2007"], ["twitter", "string_2008"], ["linkedin", "string_2009"], ["devto", "string_2010"], ["facebook", "string_2011"], ["blog", "string_2012"], ["bio", "string_2013"], ["status", "string_2014"], ["availability", "string_2015"], ["primary_skills", "string_2016"], ["learning", "string_2017"], ["coding_for", "string_2018"], ["education", "string_2019"], ["title", "string_2020"], ["work", "string_2021"], ["primary_location", "string_2022"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "kreiger.dicki.name"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 462"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:49.698200"], ["updated_at", "2022-03-18 15:15:49.715216"], ["state", "active"], ["domain", "kreiger.dicki.name"], ["owner_id", 668], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "d46e8fe36deb543bb2137b7e372a709b"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user145@example.com"], ["token", "d46e8fe36deb543bb2137b7e372a709b"], ["status", "pending"], ["created_at", "2022-03-18 15:15:49.724847"], ["updated_at", "2022-03-18 15:15:49.724847"], ["invited_by_id", 668], ["entityable_id", 448], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 668], ["account_id", 448], ["role", "admin"], ["created_at", "2022-03-18 15:15:49.729226"], ["updated_at", "2022-03-18 15:15:49.729226"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 448]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "d46e8fe36deb543bb2137b7e372a709b"], ["id", 660], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:49.738612"], ["invitee_id", 668], ["id", 660]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 668], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 668], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 463"], ["account_id", 448], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 463"], ["created_at", "2022-03-18 15:15:49.750241"], ["updated_at", "2022-03-18 15:15:49.750241"], ["account_id", 448], ["state", "active"], ["slug", "slug_87"], ["description", "Name 464"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 448], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 668], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 668], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 668], ["project_id", 424], ["role", "admin"], ["created_at", "2022-03-18 15:15:49.759192"], ["updated_at", "2022-03-18 15:15:49.759192"], ["invited_by_id", 668]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 424], ["kind", "standard"], ["created_at", "2022-03-18 15:15:49.763730"], ["updated_at", "2022-03-18 15:15:49.764590"], ["subdomain", "cupiditate-absconditus"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.767753"], ["id", 424]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:49.771155"], ["subdomain", "deployment-330.slug_87"], ["id", 330]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.773973"], ["id", 424]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2023"], ["password", "Password1String-138"], ["created_at", "2022-03-18 15:15:49.778028"], ["updated_at", "2022-03-18 15:15:49.778028"], ["provider_ref", "116"], ["account_id", 448], ["state", "active"], ["registry_url", "http://url34.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 466"], ["project_id", 424], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 466"], ["added_by_id", 668], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-34\",\"tag\":\"string_2024\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":118,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-34\",\"tag\":\"string_2025\",\"slug\":\"slug_88\",\"branch\":\"string_2024\",\"description\":\"Name 465\",\"repository_id\":117,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 424], ["created_at", "2022-03-18 15:15:49.788526"], ["updated_at", "2022-03-18 15:15:49.788526"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.791771"], ["id", 424]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 424], ["kind", "standard"], ["created_at", "2022-03-18 15:15:49.795314"], ["updated_at", "2022-03-18 15:15:49.796049"], ["subdomain", "vinculum-demum"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "continuous_preview"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.799080"], ["id", 424]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#index as JSON
  Parameters: {"project_slug"=>"slug_87"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 668], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 668], ["slug", "slug_87"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."state" = $2[0m  [["project_id", 424], ["state", "active"]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 331], ["state", "active"]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 330], ["state", "active"]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."receive_incoming_requests" = $2 LIMIT $3[0m  [["deployment_id", 331], ["receive_incoming_requests", true], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 331], ["state", "active"]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."receive_incoming_requests" = $2 LIMIT $3[0m  [["deployment_id", 330], ["receive_incoming_requests", true], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 330], ["state", "active"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (12.8ms)
Completed 200 OK in 23ms (Views: 13.7ms | ActiveRecord: 3.4ms | Allocations: 6499)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#deploy_containers_if_deployment_has_not_created_yet
-------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user146@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 467"], ["last_name", "Name 468"], ["email", "user146@example.com"], ["password_digest", "$2a$04$kClrc5spBnyi2OGNBRzuXeBh3WdAkvvmjn6TmzVGt2zdBfj8ypcCe"], ["confirmation_token", "ce50fcb2baeceb042ef6af7f53561f2b"], ["state", "initial"], ["phone", "string_2026"], ["created_at", "2022-03-18 15:15:49.833801"], ["updated_at", "2022-03-18 15:15:49.838556"], ["github", "string_2027"], ["website", "string_2028"], ["twitter", "string_2029"], ["linkedin", "string_2030"], ["devto", "string_2031"], ["facebook", "string_2032"], ["blog", "string_2033"], ["bio", "string_2034"], ["status", "string_2035"], ["availability", "string_2036"], ["primary_skills", "string_2037"], ["learning", "string_2038"], ["coding_for", "string_2039"], ["education", "string_2040"], ["title", "string_2041"], ["work", "string_2042"], ["primary_location", "string_2043"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "predovic-daniel.morissette.org"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 469"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:49.833801"], ["updated_at", "2022-03-18 15:15:49.846580"], ["state", "active"], ["domain", "predovic-daniel.morissette.org"], ["owner_id", 669], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "40677265b3e01789561286b5b5464ec5"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user146@example.com"], ["token", "40677265b3e01789561286b5b5464ec5"], ["status", "pending"], ["created_at", "2022-03-18 15:15:49.853893"], ["updated_at", "2022-03-18 15:15:49.853893"], ["invited_by_id", 669], ["entityable_id", 449], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 669], ["account_id", 449], ["role", "admin"], ["created_at", "2022-03-18 15:15:49.857397"], ["updated_at", "2022-03-18 15:15:49.857397"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 449]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "40677265b3e01789561286b5b5464ec5"], ["id", 661], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:49.865941"], ["invitee_id", 669], ["id", 661]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 669], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 669], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 470"], ["account_id", 449], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 470"], ["created_at", "2022-03-18 15:15:49.876931"], ["updated_at", "2022-03-18 15:15:49.876931"], ["account_id", 449], ["state", "active"], ["slug", "slug_89"], ["description", "Name 471"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 449], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 669], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 669], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 669], ["project_id", 425], ["role", "admin"], ["created_at", "2022-03-18 15:15:49.885550"], ["updated_at", "2022-03-18 15:15:49.885550"], ["invited_by_id", 669]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 425], ["kind", "standard"], ["created_at", "2022-03-18 15:15:49.889871"], ["updated_at", "2022-03-18 15:15:49.890598"], ["subdomain", "magni-dapifer"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.894355"], ["id", 425]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:49.897761"], ["subdomain", "deployment-332.slug_89"], ["id", 332]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.900688"], ["id", 425]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2044"], ["password", "Password1String-140"], ["created_at", "2022-03-18 15:15:49.904548"], ["updated_at", "2022-03-18 15:15:49.904548"], ["provider_ref", "119"], ["account_id", 449], ["state", "active"], ["registry_url", "http://url35.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 473"], ["project_id", 425], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 473"], ["added_by_id", 669], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-35\",\"tag\":\"string_2045\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":121,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-35\",\"tag\":\"string_2046\",\"slug\":\"slug_90\",\"branch\":\"string_2045\",\"description\":\"Name 472\",\"repository_id\":120,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 425], ["created_at", "2022-03-18 15:15:49.915305"], ["updated_at", "2022-03-18 15:15:49.915305"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.917939"], ["id", 425]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#deploy_containers as JSON
  Parameters: {"project_slug"=>"slug_89", "id"=>"332"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 669], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 669], ["slug", "slug_89"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."state" = $2 AND "uffizzi_core_deployments"."id" = $3 LIMIT $4[0m  [["project_id", 425], ["state", "active"], ["id", 332], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "deployed_by_id" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:49.932631"], ["deployed_by_id", 669], ["id", 332]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:49.935654"], ["id", 425]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ConfigFile Load (0.6ms)[0m  [1m[34mSELECT DISTINCT "uffizzi_core_config_files"."id" FROM "uffizzi_core_config_files" INNER JOIN "uffizzi_core_container_config_files" "container_config_files" ON "container_config_files"."config_file_id" = "uffizzi_core_config_files"."id" WHERE "uffizzi_core_config_files"."project_id" = $1 AND "container_config_files"."container_id" IN (SELECT "uffizzi_core_containers"."id" FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $2)[0m  [["project_id", 425], ["deployment_id", 332]]
DEPLOYMENT_PROCESS deployment_id=332 DeployContainersJob
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 332], ["LIMIT", 1]]
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.6ms | Allocations: 4266)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#create_-_from_an_alternative_compose_file_when_compose_file_with_same_source_exists
---------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user147@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 474"], ["last_name", "Name 475"], ["email", "user147@example.com"], ["password_digest", "$2a$04$QN6V0geqMm7jHpIHM9caWOW2xVDNbnx5vRiQJ6otuHXsK/PQvzOsO"], ["confirmation_token", "976895f01d75f4ac643a38ac7a2e5417"], ["state", "initial"], ["phone", "string_2047"], ["created_at", "2022-03-18 15:15:49.950936"], ["updated_at", "2022-03-18 15:15:49.955319"], ["github", "string_2048"], ["website", "string_2049"], ["twitter", "string_2050"], ["linkedin", "string_2051"], ["devto", "string_2052"], ["facebook", "string_2053"], ["blog", "string_2054"], ["bio", "string_2055"], ["status", "string_2056"], ["availability", "string_2057"], ["primary_skills", "string_2058"], ["learning", "string_2059"], ["coding_for", "string_2060"], ["education", "string_2061"], ["title", "string_2062"], ["work", "string_2063"], ["primary_location", "string_2064"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "bayer-mcdermott.little.name"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 476"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:49.950936"], ["updated_at", "2022-03-18 15:15:49.963275"], ["state", "active"], ["domain", "bayer-mcdermott.little.name"], ["owner_id", 670], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "5d2ca22c43f627d65c77ec3e5d79541f"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user147@example.com"], ["token", "5d2ca22c43f627d65c77ec3e5d79541f"], ["status", "pending"], ["created_at", "2022-03-18 15:15:49.969902"], ["updated_at", "2022-03-18 15:15:49.969902"], ["invited_by_id", 670], ["entityable_id", 450], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 670], ["account_id", 450], ["role", "admin"], ["created_at", "2022-03-18 15:15:49.974217"], ["updated_at", "2022-03-18 15:15:49.974217"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 450]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "5d2ca22c43f627d65c77ec3e5d79541f"], ["id", 662], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:49.982609"], ["invitee_id", 670], ["id", 662]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 670], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 670], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 477"], ["account_id", 450], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 477"], ["created_at", "2022-03-18 15:15:49.993936"], ["updated_at", "2022-03-18 15:15:49.993936"], ["account_id", 450], ["state", "active"], ["slug", "slug_91"], ["description", "Name 478"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 450], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 670], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 670], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 670], ["project_id", 426], ["role", "admin"], ["created_at", "2022-03-18 15:15:50.002516"], ["updated_at", "2022-03-18 15:15:50.002516"], ["invited_by_id", 670]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 426], ["kind", "standard"], ["created_at", "2022-03-18 15:15:50.007095"], ["updated_at", "2022-03-18 15:15:50.007872"], ["subdomain", "inflammatio-antea"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.011043"], ["id", 426]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:50.014259"], ["subdomain", "deployment-333.slug_91"], ["id", 333]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.017196"], ["id", 426]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2065"], ["password", "Password1String-142"], ["created_at", "2022-03-18 15:15:50.021015"], ["updated_at", "2022-03-18 15:15:50.021015"], ["provider_ref", "122"], ["account_id", 450], ["state", "active"], ["registry_url", "http://url36.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 480"], ["project_id", 426], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 480"], ["added_by_id", 670], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-36\",\"tag\":\"string_2066\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":124,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-36\",\"tag\":\"string_2067\",\"slug\":\"slug_92\",\"branch\":\"string_2066\",\"description\":\"Name 479\",\"repository_id\":123,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 426], ["created_at", "2022-03-18 15:15:50.030916"], ["updated_at", "2022-03-18 15:15:50.030916"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.033888"], ["id", 426]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 426], ["project_id", 426], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 481"], ["project_id", 426], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 481"], ["repository_id", 126], ["branch", "string_2069"], ["path", "/volumes/directory-29"], ["auto_deploy", "disabled"], ["added_by_id", 670], ["project_id", 426], ["created_at", "2022-03-18 15:15:50.050839"], ["updated_at", "2022-03-18 15:15:50.050839"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "temporary"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#create as JSON
  Parameters: {"compose_file"=>{"content"=>"c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvaGVsbG8td29ybGQjbWFpbgoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogaGVsbG8td29ybGQKICBwb3J0OiA4MAo=\n", "path"=>"/volumes/directory-28", "repository_id"=>"", "source"=>"Name 481"}, "project_slug"=>"slug_91"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 670], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 670], ["slug", "slug_91"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 426], ["kind", "main"], ["LIMIT", 1]]
[31mUnpermitted parameters: :compose_file, :project_slug, :format[0m
[31mUnpermitted parameter: :repository_id[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 450], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" DESC LIMIT $3[0m  [["account_id", 450], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Api::Cli::V1::ComposeFile::CreateForm Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "payload", "content", "kind") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["source", "Name 481"], ["path", "/volumes/directory-28"], ["auto_deploy", "disabled"], ["added_by_id", 670], ["project_id", 426], ["created_at", "2022-03-18 15:15:50.107642"], ["updated_at", "2022-03-18 15:15:50.107642"], ["state", "valid_file"], ["payload", "{\"dependencies\":[]}"], ["content", "c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvaGVsbG8td29ybGQjbWFpbgoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogaGVsbG8td29ybGQKICBwb3J0OiA4MAo=\n"], ["kind", "temporary"]]
  [1m[36mUffizziCore::Credential Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 450], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 201], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."project_id" = $1 AND "uffizzi_core_templates"."name" = $2 LIMIT $3[0m  [["project_id", 426], ["name", "Name 481"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Template::CreateForm Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 481"], ["added_by_id", 670], ["payload", "{\"containers_attributes\":[{\"tag\":\"main\",\"port\":80,\"image\":\"ACCOUNT/hello-world\",\"public\":true,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":\"dockerfile\",\"name\":\"hello-world\",\"slug\":\"hello-world\",\"type\":\"UffizziCore::Repo::Github\",\"branch\":\"main\",\"namespace\":\"ACCOUNT\",\"is_private\":null,\"description\":\"Example Docker Container, based upon `nginx`\",\"repository_id\":358291405,\"dockerfile_path\":\"Dockerfile\",\"dockerfile_context_path\":null,\"args\":[],\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":false,\"delete_preview_after\":null},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":true,\"container_config_files_attributes\":[]}]}"], ["project_id", 426], ["created_at", "2022-03-18 15:15:50.121602"], ["updated_at", "2022-03-18 15:15:50.121602"], ["compose_file_id", 201], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.124336"], ["id", 426]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1[0m  [["account_id", 450]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" IS NULL LIMIT $2[0m  [["port", 80], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "state", "deployed_by_id", "creation_source", "compose_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 426], ["kind", "standard"], ["created_at", "2022-03-18 15:15:50.137582"], ["updated_at", "2022-03-18 15:15:50.137582"], ["state", "active"], ["deployed_by_id", 670], ["creation_source", "compose_file_manual"], ["compose_file_id", 201]]
  [1m[36mUffizziCore::Repo::Github Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "kind", "dockerfile_path", "args", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18) RETURNING "id"[0m  [["namespace", "ACCOUNT"], ["name", "hello-world"], ["type", "UffizziCore::Repo::Github"], ["branch", "main"], ["project_id", 426], ["created_at", "2022-03-18 15:15:50.140391"], ["updated_at", "2022-03-18 15:15:50.140391"], ["description", "Example Docker Container, based upon `nginx`"], ["slug", "hello-world"], ["repository_id", 358291405], ["kind", "dockerfile"], ["dockerfile_path", "Dockerfile"], ["args", "[]"], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mUffizziCore::Container Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 80], ["deployment_id", 334], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "variables", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests", "memory_request", "memory_limit", "secret_variables") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["image", "ACCOUNT/hello-world"], ["tag", "main"], ["variables", "[]"], ["created_at", "2022-03-18 15:15:50.144929"], ["updated_at", "2022-03-18 15:15:50.144929"], ["deployment_id", 334], ["public", true], ["port", 80], ["repo_id", 163], ["state", "active"], ["continuously_deploy", "enabled"], ["target_port", 80], ["receive_incoming_requests", true], ["memory_request", 125], ["memory_limit", 125], ["secret_variables", "[]"]]
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.147402"], ["id", 334]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.149990"], ["id", 426]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 334], ["target_port", 80]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:50.156129"], ["subdomain", "deployment-334.slug_91"], ["id", 334]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.159090"], ["id", 426]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."receive_incoming_requests" = $2 LIMIT $3[0m  [["deployment_id", 334], ["receive_incoming_requests", true], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Build Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 163], ["deployed", true], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::ActivityItem Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 202], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::ActivityItem Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 202], ["LIMIT", 1]]
[active_model_serializers]   [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1[0m  [["container_id", 202]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 334], ["state", "active"]]
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::DeploymentSerializer with ActiveModelSerializers::Adapter::Json (13.51ms)
Completed 201 Created in 117ms (Views: 12.0ms | ActiveRecord: 13.4ms | Allocations: 53471)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "temporary"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#create_-_when_compose_file_does_not_exist_and_no_params_given
-----------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user148@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.8ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 482"], ["last_name", "Name 483"], ["email", "user148@example.com"], ["password_digest", "$2a$04$sj6qCuhLLxqBEpxn6CwmgeuvW.297JdBD24bEPPetUCkGCzujEwba"], ["confirmation_token", "8eae2c16212d5223614222d1695a1cb3"], ["state", "initial"], ["phone", "string_2070"], ["created_at", "2022-03-18 15:15:50.187569"], ["updated_at", "2022-03-18 15:15:50.201072"], ["github", "string_2071"], ["website", "string_2072"], ["twitter", "string_2073"], ["linkedin", "string_2074"], ["devto", "string_2075"], ["facebook", "string_2076"], ["blog", "string_2077"], ["bio", "string_2078"], ["status", "string_2079"], ["availability", "string_2080"], ["primary_skills", "string_2081"], ["learning", "string_2082"], ["coding_for", "string_2083"], ["education", "string_2084"], ["title", "string_2085"], ["work", "string_2086"], ["primary_location", "string_2087"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "jerde.reynolds.org"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 484"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:50.187569"], ["updated_at", "2022-03-18 15:15:50.246186"], ["state", "active"], ["domain", "jerde.reynolds.org"], ["owner_id", 671], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "c19773e8caa5d5f695ab768f69b076c5"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user148@example.com"], ["token", "c19773e8caa5d5f695ab768f69b076c5"], ["status", "pending"], ["created_at", "2022-03-18 15:15:50.267192"], ["updated_at", "2022-03-18 15:15:50.267192"], ["invited_by_id", 671], ["entityable_id", 451], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 671], ["account_id", 451], ["role", "admin"], ["created_at", "2022-03-18 15:15:50.281011"], ["updated_at", "2022-03-18 15:15:50.281011"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 451]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "c19773e8caa5d5f695ab768f69b076c5"], ["id", 663], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:50.298393"], ["invitee_id", 671], ["id", 663]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 671], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 671], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 485"], ["account_id", 451], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 485"], ["created_at", "2022-03-18 15:15:50.322988"], ["updated_at", "2022-03-18 15:15:50.322988"], ["account_id", 451], ["state", "active"], ["slug", "slug_93"], ["description", "Name 486"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 451], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 671], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 671], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 671], ["project_id", 427], ["role", "admin"], ["created_at", "2022-03-18 15:15:50.335250"], ["updated_at", "2022-03-18 15:15:50.335250"], ["invited_by_id", 671]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 427], ["kind", "standard"], ["created_at", "2022-03-18 15:15:50.344905"], ["updated_at", "2022-03-18 15:15:50.351769"], ["subdomain", "et-adultus"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.357175"], ["id", 427]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:50.373361"], ["subdomain", "deployment-335.slug_93"], ["id", 335]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.380526"], ["id", 427]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2088"], ["password", "Password1String-144"], ["created_at", "2022-03-18 15:15:50.397962"], ["updated_at", "2022-03-18 15:15:50.397962"], ["provider_ref", "127"], ["account_id", 451], ["state", "active"], ["registry_url", "http://url37.com"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 488"], ["project_id", 427], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 488"], ["added_by_id", 671], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-37\",\"tag\":\"string_2089\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":129,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-37\",\"tag\":\"string_2090\",\"slug\":\"slug_94\",\"branch\":\"string_2089\",\"description\":\"Name 487\",\"repository_id\":128,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 427], ["created_at", "2022-03-18 15:15:50.411875"], ["updated_at", "2022-03-18 15:15:50.411875"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.415203"], ["id", 427]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "temporary"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#create as JSON
  Parameters: {"project_slug"=>"slug_93"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 671], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 671], ["slug", "slug_93"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 427], ["kind", "main"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 404 Not Found in 9ms (Views: 1.6ms | ActiveRecord: 0.9ms | Allocations: 1458)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "temporary"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#show
--------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user149@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 489"], ["last_name", "Name 490"], ["email", "user149@example.com"], ["password_digest", "$2a$04$D.OvEZ/SP/r4JmyFGeGnN.POE6.tltTaiWsImNkwaTGrZUkAeb7ua"], ["confirmation_token", "fcc94089ce1bfe02f00586b0ee697dc7"], ["state", "initial"], ["phone", "string_2091"], ["created_at", "2022-03-18 15:15:50.445690"], ["updated_at", "2022-03-18 15:15:50.450462"], ["github", "string_2092"], ["website", "string_2093"], ["twitter", "string_2094"], ["linkedin", "string_2095"], ["devto", "string_2096"], ["facebook", "string_2097"], ["blog", "string_2098"], ["bio", "string_2099"], ["status", "string_2100"], ["availability", "string_2101"], ["primary_skills", "string_2102"], ["learning", "string_2103"], ["coding_for", "string_2104"], ["education", "string_2105"], ["title", "string_2106"], ["work", "string_2107"], ["primary_location", "string_2108"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "gibson.quigley.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 491"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:50.445690"], ["updated_at", "2022-03-18 15:15:50.458254"], ["state", "active"], ["domain", "gibson.quigley.co"], ["owner_id", 672], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "99f5fb0709d17ee59485aef1e908bc0c"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user149@example.com"], ["token", "99f5fb0709d17ee59485aef1e908bc0c"], ["status", "pending"], ["created_at", "2022-03-18 15:15:50.465127"], ["updated_at", "2022-03-18 15:15:50.465127"], ["invited_by_id", 672], ["entityable_id", 452], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 672], ["account_id", 452], ["role", "admin"], ["created_at", "2022-03-18 15:15:50.468461"], ["updated_at", "2022-03-18 15:15:50.468461"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 452]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "99f5fb0709d17ee59485aef1e908bc0c"], ["id", 664], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.3ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:50.476398"], ["invitee_id", 672], ["id", 664]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 672], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 672], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 492"], ["account_id", 452], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 492"], ["created_at", "2022-03-18 15:15:50.487404"], ["updated_at", "2022-03-18 15:15:50.487404"], ["account_id", 452], ["state", "active"], ["slug", "slug_95"], ["description", "Name 493"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 452], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 672], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 672], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 672], ["project_id", 428], ["role", "admin"], ["created_at", "2022-03-18 15:15:50.497021"], ["updated_at", "2022-03-18 15:15:50.497021"], ["invited_by_id", 672]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 428], ["kind", "standard"], ["created_at", "2022-03-18 15:15:50.501422"], ["updated_at", "2022-03-18 15:15:50.502515"], ["subdomain", "aeternus-catena"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.505807"], ["id", 428]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:50.509051"], ["subdomain", "deployment-336.slug_95"], ["id", 336]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.511723"], ["id", 428]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2109"], ["password", "Password1String-146"], ["created_at", "2022-03-18 15:15:50.515653"], ["updated_at", "2022-03-18 15:15:50.515653"], ["provider_ref", "130"], ["account_id", 452], ["state", "active"], ["registry_url", "http://url38.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 495"], ["project_id", 428], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 495"], ["added_by_id", 672], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-38\",\"tag\":\"string_2110\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":132,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-38\",\"tag\":\"string_2111\",\"slug\":\"slug_96\",\"branch\":\"string_2110\",\"description\":\"Name 494\",\"repository_id\":131,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 428], ["created_at", "2022-03-18 15:15:50.526669"], ["updated_at", "2022-03-18 15:15:50.526669"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.529210"], ["id", 428]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#show as JSON
  Parameters: {"project_slug"=>"slug_95", "id"=>"336"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 672], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 672], ["slug", "slug_95"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."state" = $2 AND "uffizzi_core_deployments"."id" = $3 LIMIT $4[0m  [["project_id", 428], ["state", "active"], ["id", 336], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."receive_incoming_requests" = $2 LIMIT $3[0m  [["deployment_id", 336], ["receive_incoming_requests", true], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 336], ["state", "active"]]
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::DeploymentSerializer with ActiveModelSerializers::Adapter::Json (5.13ms)
Completed 200 OK in 15ms (Views: 5.5ms | ActiveRecord: 2.2ms | Allocations: 3230)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#create_-_from_an_alternative_compose_file_when_compose_file_exists
----------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user150@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 496"], ["last_name", "Name 497"], ["email", "user150@example.com"], ["password_digest", "$2a$04$oTWVy0kh3nmD18K2lhnewevdDxUaEnAF.05ywJvQLaAWMNSe9R/3C"], ["confirmation_token", "1864648e38101596e77292d1eb55aa97"], ["state", "initial"], ["phone", "string_2112"], ["created_at", "2022-03-18 15:15:50.557249"], ["updated_at", "2022-03-18 15:15:50.561821"], ["github", "string_2113"], ["website", "string_2114"], ["twitter", "string_2115"], ["linkedin", "string_2116"], ["devto", "string_2117"], ["facebook", "string_2118"], ["blog", "string_2119"], ["bio", "string_2120"], ["status", "string_2121"], ["availability", "string_2122"], ["primary_skills", "string_2123"], ["learning", "string_2124"], ["coding_for", "string_2125"], ["education", "string_2126"], ["title", "string_2127"], ["work", "string_2128"], ["primary_location", "string_2129"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "ferry-zieme.cassin-reichel.org"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 498"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:50.557249"], ["updated_at", "2022-03-18 15:15:50.570201"], ["state", "active"], ["domain", "ferry-zieme.cassin-reichel.org"], ["owner_id", 673], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "4376154af6d1dcf7b751ea97cee13305"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user150@example.com"], ["token", "4376154af6d1dcf7b751ea97cee13305"], ["status", "pending"], ["created_at", "2022-03-18 15:15:50.577107"], ["updated_at", "2022-03-18 15:15:50.577107"], ["invited_by_id", 673], ["entityable_id", 453], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 673], ["account_id", 453], ["role", "admin"], ["created_at", "2022-03-18 15:15:50.580839"], ["updated_at", "2022-03-18 15:15:50.580839"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 453]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "4376154af6d1dcf7b751ea97cee13305"], ["id", 665], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:50.590197"], ["invitee_id", 673], ["id", 665]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 673], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 673], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 499"], ["account_id", 453], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 499"], ["created_at", "2022-03-18 15:15:50.600864"], ["updated_at", "2022-03-18 15:15:50.600864"], ["account_id", 453], ["state", "active"], ["slug", "slug_97"], ["description", "Name 500"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 453], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 673], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 673], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 673], ["project_id", 429], ["role", "admin"], ["created_at", "2022-03-18 15:15:50.609199"], ["updated_at", "2022-03-18 15:15:50.609199"], ["invited_by_id", 673]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 429], ["kind", "standard"], ["created_at", "2022-03-18 15:15:50.614351"], ["updated_at", "2022-03-18 15:15:50.615186"], ["subdomain", "aut-accipio"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.618595"], ["id", 429]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:50.621998"], ["subdomain", "deployment-337.slug_97"], ["id", 337]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.624881"], ["id", 429]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2130"], ["password", "Password1String-148"], ["created_at", "2022-03-18 15:15:50.628693"], ["updated_at", "2022-03-18 15:15:50.628693"], ["provider_ref", "133"], ["account_id", 453], ["state", "active"], ["registry_url", "http://url39.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 502"], ["project_id", 429], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 502"], ["added_by_id", 673], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-39\",\"tag\":\"string_2131\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":135,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-39\",\"tag\":\"string_2132\",\"slug\":\"slug_98\",\"branch\":\"string_2131\",\"description\":\"Name 501\",\"repository_id\":134,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 429], ["created_at", "2022-03-18 15:15:50.639124"], ["updated_at", "2022-03-18 15:15:50.639124"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.642327"], ["id", 429]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 429], ["project_id", 429], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 503"], ["project_id", 429], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["source", "Name 503"], ["repository_id", 136], ["branch", "string_2133"], ["path", "/volumes/directory-30"], ["auto_deploy", "disabled"], ["project_id", 429], ["created_at", "2022-03-18 15:15:50.650218"], ["updated_at", "2022-03-18 15:15:50.650218"], ["state", "valid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "temporary"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#create as JSON
  Parameters: {"compose_file"=>{"content"=>"c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvaGVsbG8td29ybGQjbWFpbgoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogaGVsbG8td29ybGQKICBwb3J0OiA4MAo=\n", "path"=>"/volumes/directory-31", "repository_id"=>"", "source"=>"Name 504"}, "project_slug"=>"slug_97"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 673], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 673], ["slug", "slug_97"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 429], ["kind", "main"], ["LIMIT", 1]]
[31mUnpermitted parameters: :compose_file, :project_slug, :format[0m
[31mUnpermitted parameter: :repository_id[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 453], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" DESC LIMIT $3[0m  [["account_id", 453], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Api::Cli::V1::ComposeFile::CreateForm Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "payload", "content", "kind") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["source", "Name 504"], ["path", "/volumes/directory-31"], ["auto_deploy", "disabled"], ["added_by_id", 673], ["project_id", 429], ["created_at", "2022-03-18 15:15:50.723715"], ["updated_at", "2022-03-18 15:15:50.723715"], ["state", "valid_file"], ["payload", "{\"dependencies\":[]}"], ["content", "c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBidWlsZDoKICAgICAgY29udGV4dDogaHR0cHM6Ly9naXRodWIuY29tL0FDQ09VTlQvaGVsbG8td29ybGQjbWFpbgoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogaGVsbG8td29ybGQKICBwb3J0OiA4MAo=\n"], ["kind", "temporary"]]
  [1m[36mUffizziCore::Credential Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 453], ["type", "UffizziCore::Credential::Github"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 203], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."project_id" = $1 AND "uffizzi_core_templates"."name" = $2 LIMIT $3[0m  [["project_id", 429], ["name", "Name 504"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Template::CreateForm Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 504"], ["added_by_id", 673], ["payload", "{\"containers_attributes\":[{\"tag\":\"main\",\"port\":80,\"image\":\"ACCOUNT/hello-world\",\"public\":true,\"entrypoint\":null,\"command\":null,\"variables\":[],\"secret_variables\":[],\"memory_limit\":125,\"memory_request\":125,\"repo_attributes\":{\"kind\":\"dockerfile\",\"name\":\"hello-world\",\"slug\":\"hello-world\",\"type\":\"UffizziCore::Repo::Github\",\"branch\":\"main\",\"namespace\":\"ACCOUNT\",\"is_private\":null,\"description\":\"Example Docker Container, based upon `nginx`\",\"repository_id\":358291405,\"dockerfile_path\":\"Dockerfile\",\"dockerfile_context_path\":null,\"args\":[],\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"share_to_github\":false,\"delete_preview_after\":null},\"continuously_deploy\":\"enabled\",\"receive_incoming_requests\":true,\"container_config_files_attributes\":[]}]}"], ["project_id", 429], ["created_at", "2022-03-18 15:15:50.737097"], ["updated_at", "2022-03-18 15:15:50.737097"], ["compose_file_id", 203], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.739630"], ["id", 429]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1[0m  [["account_id", 453]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" IS NULL LIMIT $2[0m  [["port", 80], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "state", "deployed_by_id", "creation_source", "compose_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 429], ["kind", "standard"], ["created_at", "2022-03-18 15:15:50.752047"], ["updated_at", "2022-03-18 15:15:50.752047"], ["state", "active"], ["deployed_by_id", 673], ["creation_source", "compose_file_manual"], ["compose_file_id", 203]]
  [1m[36mUffizziCore::Repo::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "kind", "dockerfile_path", "args", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18) RETURNING "id"[0m  [["namespace", "ACCOUNT"], ["name", "hello-world"], ["type", "UffizziCore::Repo::Github"], ["branch", "main"], ["project_id", 429], ["created_at", "2022-03-18 15:15:50.755270"], ["updated_at", "2022-03-18 15:15:50.755270"], ["description", "Example Docker Container, based upon `nginx`"], ["slug", "hello-world"], ["repository_id", 358291405], ["kind", "dockerfile"], ["dockerfile_path", "Dockerfile"], ["args", "[]"], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 80], ["deployment_id", 338], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "variables", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests", "memory_request", "memory_limit", "secret_variables") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["image", "ACCOUNT/hello-world"], ["tag", "main"], ["variables", "[]"], ["created_at", "2022-03-18 15:15:50.759658"], ["updated_at", "2022-03-18 15:15:50.759658"], ["deployment_id", 338], ["public", true], ["port", 80], ["repo_id", 164], ["state", "active"], ["continuously_deploy", "enabled"], ["target_port", 80], ["receive_incoming_requests", true], ["memory_request", 125], ["memory_limit", 125], ["secret_variables", "[]"]]
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.762067"], ["id", 338]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.764680"], ["id", 429]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 338], ["target_port", 80]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:50.770269"], ["subdomain", "deployment-338.slug_97"], ["id", 338]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.773225"], ["id", 429]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
DEPLOYMENT_PROCESS deployment_id=338 CreateJob
  [1m[36mUffizziCore::Deployment Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 338], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=338 CreateCredentialsJob
  [1m[36mUffizziCore::Deployment Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 338], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 429], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 453], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" IN ($2, $3, $4, $5)[0m  [["account_id", 453], ["type", "UffizziCore::Credential::DockerHub"], ["type", "UffizziCore::Credential::Azure"], ["type", "UffizziCore::Credential::Google"], ["type", "UffizziCore::Credential::Amazon"]]
DEPLOYMENT_PROCESS deployment_id=338 CreateDnsRecordJob
  [1m[36mUffizziCore::Deployment Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 338], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=338 CreateWebhooksJob
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 338], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 429], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 453], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 AND "uffizzi_core_credentials"."state" = $3 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $4[0m  [["account_id", 453], ["type", "UffizziCore::Credential::DockerHub"], ["state", "active"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" LEFT OUTER JOIN "uffizzi_core_repos" "repo" ON "repo"."id" = "uffizzi_core_containers"."repo_id" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "repo"."type" = $2 LIMIT $3[0m  [["deployment_id", 338], ["type", "UffizziCore::Repo::DockerHub"], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=338 create_webhooks no dockerhub containers or credential
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."receive_incoming_requests" = $2 LIMIT $3[0m  [["deployment_id", 338], ["receive_incoming_requests", true], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Build Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 164], ["deployed", true], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::ActivityItem Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 203], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::ActivityItem Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 203], ["LIMIT", 1]]
[active_model_serializers]   [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1[0m  [["container_id", 203]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.6ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 338], ["state", "active"]]
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::DeploymentSerializer with ActiveModelSerializers::Adapter::Json (18.87ms)
Completed 201 Created in 170ms (Views: 16.7ms | ActiveRecord: 18.8ms | Allocations: 57964)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."kind" = $1[0m  [["kind", "temporary"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."creation_source" = $1[0m  [["creation_source", "compose_file"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#deploy_containers
---------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user151@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 505"], ["last_name", "Name 506"], ["email", "user151@example.com"], ["password_digest", "$2a$04$yrDiF.upqcJN6fSEC1y4DO2BMPas2OCVuWkoW2cTZ66.PR8vmZhoe"], ["confirmation_token", "e0a058c5899602af7491e20b9fb8a251"], ["state", "initial"], ["phone", "string_2135"], ["created_at", "2022-03-18 15:15:50.857375"], ["updated_at", "2022-03-18 15:15:50.862199"], ["github", "string_2136"], ["website", "string_2137"], ["twitter", "string_2138"], ["linkedin", "string_2139"], ["devto", "string_2140"], ["facebook", "string_2141"], ["blog", "string_2142"], ["bio", "string_2143"], ["status", "string_2144"], ["availability", "string_2145"], ["primary_skills", "string_2146"], ["learning", "string_2147"], ["coding_for", "string_2148"], ["education", "string_2149"], ["title", "string_2150"], ["work", "string_2151"], ["primary_location", "string_2152"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "gutkowski.schowalter.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 507"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:50.857375"], ["updated_at", "2022-03-18 15:15:50.871508"], ["state", "active"], ["domain", "gutkowski.schowalter.co"], ["owner_id", 674], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "4a063a6e4df0b200bc263339e39ceb49"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user151@example.com"], ["token", "4a063a6e4df0b200bc263339e39ceb49"], ["status", "pending"], ["created_at", "2022-03-18 15:15:50.878678"], ["updated_at", "2022-03-18 15:15:50.878678"], ["invited_by_id", 674], ["entityable_id", 454], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 674], ["account_id", 454], ["role", "admin"], ["created_at", "2022-03-18 15:15:50.882386"], ["updated_at", "2022-03-18 15:15:50.882386"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 454]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "4a063a6e4df0b200bc263339e39ceb49"], ["id", 666], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:50.891778"], ["invitee_id", 674], ["id", 666]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 674], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 674], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 508"], ["account_id", 454], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 508"], ["created_at", "2022-03-18 15:15:50.903065"], ["updated_at", "2022-03-18 15:15:50.903065"], ["account_id", 454], ["state", "active"], ["slug", "slug_99"], ["description", "Name 509"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 454], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 674], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 674], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 674], ["project_id", 430], ["role", "admin"], ["created_at", "2022-03-18 15:15:50.911274"], ["updated_at", "2022-03-18 15:15:50.911274"], ["invited_by_id", 674]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 430], ["kind", "standard"], ["created_at", "2022-03-18 15:15:50.915588"], ["updated_at", "2022-03-18 15:15:50.916379"], ["subdomain", "supellex-cotidie"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.919554"], ["id", 430]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:50.923013"], ["subdomain", "deployment-339.slug_99"], ["id", 339]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.925652"], ["id", 430]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2153"], ["password", "Password1String-150"], ["created_at", "2022-03-18 15:15:50.929449"], ["updated_at", "2022-03-18 15:15:50.929449"], ["provider_ref", "138"], ["account_id", 454], ["state", "active"], ["registry_url", "http://url40.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 511"], ["project_id", 430], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 511"], ["added_by_id", 674], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-40\",\"tag\":\"string_2154\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":140,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-40\",\"tag\":\"string_2155\",\"slug\":\"slug_100\",\"branch\":\"string_2154\",\"description\":\"Name 510\",\"repository_id\":139,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 430], ["created_at", "2022-03-18 15:15:50.941393"], ["updated_at", "2022-03-18 15:15:50.941393"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.944087"], ["id", 430]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::DockerHub Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "string_2156"], ["name", "string_2157"], ["tag", "string_2158"], ["type", "UffizziCore::Repo::DockerHub"], ["branch", "string_2159"], ["project_id", 430], ["created_at", "2022-03-18 15:15:50.948408"], ["updated_at", "2022-03-18 15:15:50.948408"], ["description", "Name 512"], ["slug", "slug_101"], ["repository_id", 141], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::DockerHub Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "string_2160"], ["name", "string_2161"], ["tag", "string_2162"], ["type", "UffizziCore::Repo::DockerHub"], ["branch", "string_2163"], ["project_id", 430], ["created_at", "2022-03-18 15:15:50.953639"], ["updated_at", "2022-03-18 15:15:50.953639"], ["description", "Name 513"], ["slug", "slug_102"], ["repository_id", 142], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 143], ["deployment_id", 339], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["image", "namespace/name-41"], ["tag", "string_2164"], ["created_at", "2022-03-18 15:15:50.963252"], ["updated_at", "2022-03-18 15:15:50.963252"], ["deployment_id", 339], ["public", true], ["port", 143], ["repo_id", 165], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 143], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.965688"], ["id", 339]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.967850"], ["id", 430]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 339], ["target_port", 143]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 144], ["deployment_id", 339], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["image", "namespace/name-42"], ["tag", "string_2165"], ["created_at", "2022-03-18 15:15:50.976715"], ["updated_at", "2022-03-18 15:15:50.976715"], ["deployment_id", 339], ["public", true], ["port", 144], ["repo_id", 166], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 144], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.979041"], ["id", 339]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.980835"], ["id", 430]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 339], ["target_port", 144]]
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#deploy_containers as JSON
  Parameters: {"project_slug"=>"slug_99", "id"=>"339"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 674], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 674], ["slug", "slug_99"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."state" = $2 AND "uffizzi_core_deployments"."id" = $3 LIMIT $4[0m  [["project_id", 430], ["state", "active"], ["id", 339], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "deployed_by_id" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:50.994583"], ["deployed_by_id", 674], ["id", 339]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:50.997549"], ["id", 430]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ConfigFile Load (0.6ms)[0m  [1m[34mSELECT DISTINCT "uffizzi_core_config_files"."id" FROM "uffizzi_core_config_files" INNER JOIN "uffizzi_core_container_config_files" "container_config_files" ON "container_config_files"."config_file_id" = "uffizzi_core_config_files"."id" WHERE "uffizzi_core_config_files"."project_id" = $1 AND "container_config_files"."container_id" IN (SELECT "uffizzi_core_containers"."id" FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $2)[0m  [["project_id", 430], ["deployment_id", 339]]
No template found for UffizziCore::Api::Cli::V1::Projects::DeploymentsController#deploy_containers, rendering head :no_content
Completed 204 No Content in 16ms (ActiveRecord: 3.2ms | Allocations: 3307)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#create_-_from_the_existing_compose_file
-------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user152@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 514"], ["last_name", "Name 515"], ["email", "user152@example.com"], ["password_digest", "$2a$04$QaKwAkChjvMoqBeOcim8L.Vlim8VSxfrhazL9vVRKcZ9AiZwjbSrK"], ["confirmation_token", "20677304963e8a9a26564149c1a822f2"], ["state", "initial"], ["phone", "string_2166"], ["created_at", "2022-03-18 15:15:51.030427"], ["updated_at", "2022-03-18 15:15:51.037132"], ["github", "string_2167"], ["website", "string_2168"], ["twitter", "string_2169"], ["linkedin", "string_2170"], ["devto", "string_2171"], ["facebook", "string_2172"], ["blog", "string_2173"], ["bio", "string_2174"], ["status", "string_2175"], ["availability", "string_2176"], ["primary_skills", "string_2177"], ["learning", "string_2178"], ["coding_for", "string_2179"], ["education", "string_2180"], ["title", "string_2181"], ["work", "string_2182"], ["primary_location", "string_2183"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "yost.bartoletti.net"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 516"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:51.030427"], ["updated_at", "2022-03-18 15:15:51.049050"], ["state", "active"], ["domain", "yost.bartoletti.net"], ["owner_id", 675], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "cc46d5ed7c17fe64241127e4d500ec1d"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user152@example.com"], ["token", "cc46d5ed7c17fe64241127e4d500ec1d"], ["status", "pending"], ["created_at", "2022-03-18 15:15:51.058057"], ["updated_at", "2022-03-18 15:15:51.058057"], ["invited_by_id", 675], ["entityable_id", 455], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 675], ["account_id", 455], ["role", "admin"], ["created_at", "2022-03-18 15:15:51.063165"], ["updated_at", "2022-03-18 15:15:51.063165"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 455]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "cc46d5ed7c17fe64241127e4d500ec1d"], ["id", 667], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:51.075187"], ["invitee_id", 675], ["id", 667]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 675], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 675], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 517"], ["account_id", 455], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 517"], ["created_at", "2022-03-18 15:15:51.088293"], ["updated_at", "2022-03-18 15:15:51.088293"], ["account_id", 455], ["state", "active"], ["slug", "slug_103"], ["description", "Name 518"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 455], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 675], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 675], ["project_id", 431], ["role", "admin"], ["created_at", "2022-03-18 15:15:51.096582"], ["updated_at", "2022-03-18 15:15:51.096582"], ["invited_by_id", 675]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 431], ["kind", "standard"], ["created_at", "2022-03-18 15:15:51.100997"], ["updated_at", "2022-03-18 15:15:51.101858"], ["subdomain", "maxime-benevolentia"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.104915"], ["id", 431]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:51.108128"], ["subdomain", "deployment-340.slug_103"], ["id", 340]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.111353"], ["id", 431]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2184"], ["password", "Password1String-152"], ["created_at", "2022-03-18 15:15:51.115120"], ["updated_at", "2022-03-18 15:15:51.115120"], ["provider_ref", "145"], ["account_id", 455], ["state", "active"], ["registry_url", "http://url41.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 520"], ["project_id", 431], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 520"], ["added_by_id", 675], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-43\",\"tag\":\"string_2185\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":147,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-43\",\"tag\":\"string_2186\",\"slug\":\"slug_104\",\"branch\":\"string_2185\",\"description\":\"Name 519\",\"repository_id\":146,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 431], ["created_at", "2022-03-18 15:15:51.125108"], ["updated_at", "2022-03-18 15:15:51.125108"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.127677"], ["id", 431]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 675], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::DockerHub Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::DockerHub"], ["username", "string_2187"], ["password", "Password1String-153"], ["created_at", "2022-03-18 15:15:51.133416"], ["updated_at", "2022-03-18 15:15:51.133416"], ["account_id", 455], ["state", "not_connected"], ["registry_url", "http://url42.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 431], ["project_id", 431], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 521"], ["project_id", 431], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state", "content") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["source", "Name 521"], ["repository_id", 148], ["branch", "string_2188"], ["path", "/volumes/directory-32"], ["auto_deploy", "disabled"], ["added_by_id", 675], ["project_id", 431], ["created_at", "2022-03-18 15:15:51.144162"], ["updated_at", "2022-03-18 15:15:51.144162"], ["state", "valid_file"], ["content", "c2VydmljZXM6CiAgaGVsbG8td29ybGQ6CiAgICBpbWFnZTogcmVkaXMKICAg\nIGVudl9maWxlOgogICAgICAtIGxvY2FsLmVudgogICAgICAtIC4vZW52X2Zp\nbGVzL2Vudl9maWxlLmVudgogICAgY29uZmlnczoKICAgICAgLSBzb3VyY2U6\nIHZvdGVfY29uZgogICAgICAgIHRhcmdldDogL2V0Yy9uZ2lueHoKCmNvbmZp\nZ3M6CiAgdm90ZV9jb25mOgogICAgZmlsZTogLi92b3RlLmNvbmYKICBkZWZh\ndWxmX2NvbmY6CiAgICBmaWxlOiBjb25maWdfZmlsZXMvY29uZmlnX2ZpbGUu\nY29uZgoKeC11ZmZpenppLWluZ3Jlc3M6CiAgc2VydmljZTogaGVsbG8td29y\nbGQKICBwb3J0OiA4MAo=\n"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 523"], ["project_id", 431], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 523"], ["added_by_id", 675], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-44\",\"tag\":\"string_2189\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":150,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-44\",\"tag\":\"string_2190\",\"slug\":\"slug_105\",\"branch\":\"string_2189\",\"description\":\"Name 522\",\"repository_id\":149,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 431], ["created_at", "2022-03-18 15:15:51.153017"], ["updated_at", "2022-03-18 15:15:51.153017"], ["compose_file_id", 204], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.155560"], ["id", 431]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."type" = $1[0m  [["type", "UffizziCore::Repo::Github"]]
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#create as JSON
  Parameters: {"project_slug"=>"slug_103"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 675], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 675], ["slug", "slug_103"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 431], ["kind", "main"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 455], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1[0m  [["account_id", 455]]
  [1m[36mUffizziCore::Template Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_templates".* FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."compose_file_id" = $1 LIMIT $2[0m  [["compose_file_id", 204], ["LIMIT", 1]]
[31mUnpermitted parameter: :tag[0m
[31mUnpermitted parameters: :repo, :variables, :secret_variables[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" IS NULL LIMIT $2[0m  [["port", 150], ["LIMIT", 1]]
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "state", "deployed_by_id", "creation_source", "compose_file_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 431], ["kind", "standard"], ["created_at", "2022-03-18 15:15:51.185231"], ["updated_at", "2022-03-18 15:15:51.185231"], ["state", "active"], ["deployed_by_id", 675], ["creation_source", "compose_file_manual"], ["compose_file_id", 204]]
  [1m[36mUffizziCore::Repo::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) RETURNING "id"[0m  [["namespace", "namespace"], ["name", "name-44"], ["type", "UffizziCore::Repo::Github"], ["branch", "string_2189"], ["project_id", 431], ["created_at", "2022-03-18 15:15:51.187740"], ["updated_at", "2022-03-18 15:15:51.187740"], ["description", "Name 522"], ["slug", "slug_105"], ["repository_id", 149], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 150], ["deployment_id", 341], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 341], ["target_port", 38973], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2 LIMIT $3[0m  [["deployment_id", 341], ["target_port", 39650], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "repo_id", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["image", "namespace/name-44"], ["tag", "string_2189"], ["created_at", "2022-03-18 15:15:51.194512"], ["updated_at", "2022-03-18 15:15:51.194512"], ["deployment_id", 341], ["public", true], ["port", 150], ["repo_id", 167], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 39650], ["receive_incoming_requests", true]]
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.198602"], ["id", 341]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.201008"], ["id", 431]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 341], ["target_port", 39650]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Api::Cli::V1::Deployment::CreateForm Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:51.205899"], ["subdomain", "deployment-341.slug_103"], ["id", 341]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.208837"], ["id", 431]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."receive_incoming_requests" = $2 LIMIT $3[0m  [["deployment_id", 341], ["receive_incoming_requests", true], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Repo Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::Build Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_builds".* FROM "uffizzi_core_builds" WHERE "uffizzi_core_builds"."repo_id" = $1 AND "uffizzi_core_builds"."deployed" = $2 ORDER BY "uffizzi_core_builds"."id" DESC LIMIT $3[0m  [["repo_id", 167], ["deployed", true], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::ActivityItem Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 206], ["LIMIT", 1]]
[active_model_serializers]   [1m[36mUffizziCore::ActivityItem Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 206], ["LIMIT", 1]]
[active_model_serializers]   [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1[0m  [["container_id", 206]]
[active_model_serializers]   [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 341], ["state", "active"]]
[active_model_serializers] Rendered UffizziCore::Api::Cli::V1::Projects::DeploymentSerializer with ActiveModelSerializers::Adapter::Json (14.31ms)
Completed 201 Created in 64ms (Views: 13.0ms | ActiveRecord: 10.8ms | Allocations: 16341)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."type" = $1[0m  [["type", "UffizziCore::Repo::Github"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#deploy_containers_create_a_new_docker_hub_activity_item
-----------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user153@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 524"], ["last_name", "Name 525"], ["email", "user153@example.com"], ["password_digest", "$2a$04$opMlgCZGDna0lTAQAYQOBOXPrcHsRI90GR1t84q6bbhByTEyfZ5aG"], ["confirmation_token", "a9150e99fbd789367d96caa1d7b5adca"], ["state", "initial"], ["phone", "string_2191"], ["created_at", "2022-03-18 15:15:51.237476"], ["updated_at", "2022-03-18 15:15:51.241764"], ["github", "string_2192"], ["website", "string_2193"], ["twitter", "string_2194"], ["linkedin", "string_2195"], ["devto", "string_2196"], ["facebook", "string_2197"], ["blog", "string_2198"], ["bio", "string_2199"], ["status", "string_2200"], ["availability", "string_2201"], ["primary_skills", "string_2202"], ["learning", "string_2203"], ["coding_for", "string_2204"], ["education", "string_2205"], ["title", "string_2206"], ["work", "string_2207"], ["primary_location", "string_2208"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "bednar-beahan.quitzon.info"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 526"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:51.237476"], ["updated_at", "2022-03-18 15:15:51.249667"], ["state", "active"], ["domain", "bednar-beahan.quitzon.info"], ["owner_id", 676], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "f1213d57d45293f9def866a842f1fbfd"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user153@example.com"], ["token", "f1213d57d45293f9def866a842f1fbfd"], ["status", "pending"], ["created_at", "2022-03-18 15:15:51.255435"], ["updated_at", "2022-03-18 15:15:51.255435"], ["invited_by_id", 676], ["entityable_id", 456], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 676], ["account_id", 456], ["role", "admin"], ["created_at", "2022-03-18 15:15:51.258949"], ["updated_at", "2022-03-18 15:15:51.258949"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 456]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "f1213d57d45293f9def866a842f1fbfd"], ["id", 668], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.3ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:51.266639"], ["invitee_id", 676], ["id", 668]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 676], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 676], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 527"], ["account_id", 456], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.3ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 527"], ["created_at", "2022-03-18 15:15:51.277832"], ["updated_at", "2022-03-18 15:15:51.277832"], ["account_id", 456], ["state", "active"], ["slug", "slug_106"], ["description", "Name 528"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.2ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 456], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 676], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 676], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 676], ["project_id", 432], ["role", "admin"], ["created_at", "2022-03-18 15:15:51.287562"], ["updated_at", "2022-03-18 15:15:51.287562"], ["invited_by_id", 676]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 432], ["kind", "standard"], ["created_at", "2022-03-18 15:15:51.292883"], ["updated_at", "2022-03-18 15:15:51.293600"], ["subdomain", "vesica-adopto"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.296759"], ["id", 432]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:51.300855"], ["subdomain", "deployment-342.slug_106"], ["id", 342]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.303535"], ["id", 432]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2209"], ["password", "Password1String-155"], ["created_at", "2022-03-18 15:15:51.307099"], ["updated_at", "2022-03-18 15:15:51.307099"], ["provider_ref", "151"], ["account_id", 456], ["state", "active"], ["registry_url", "http://url43.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 530"], ["project_id", 432], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 530"], ["added_by_id", 676], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-45\",\"tag\":\"string_2210\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":153,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-45\",\"tag\":\"string_2211\",\"slug\":\"slug_107\",\"branch\":\"string_2210\",\"description\":\"Name 529\",\"repository_id\":152,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 432], ["created_at", "2022-03-18 15:15:51.317919"], ["updated_at", "2022-03-18 15:15:51.317919"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.320600"], ["id", 432]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::DockerHub Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["tag", "string_2212"], ["type", "UffizziCore::Repo::DockerHub"], ["branch", "string_2213"], ["project_id", 432], ["created_at", "2022-03-18 15:15:51.330931"], ["updated_at", "2022-03-18 15:15:51.330931"], ["description", "Name 531"], ["slug", "slug_108"], ["repository_id", 154], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "repo_id", "state", "continuously_deploy", "controller_name", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["image", "uffizzitest/webhooks-test-app"], ["tag", "latest"], ["created_at", "2022-03-18 15:15:51.337623"], ["updated_at", "2022-03-18 15:15:51.337623"], ["deployment_id", 342], ["repo_id", 168], ["state", "active"], ["continuously_deploy", "enabled"], ["controller_name", "f03d008a48"], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.340766"], ["id", 342]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.343325"], ["id", 432]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::DockerHub Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::DockerHub"], ["username", "string_2214"], ["password", "Password1String-156"], ["created_at", "2022-03-18 15:15:51.346995"], ["updated_at", "2022-03-18 15:15:51.346995"], ["account_id", 456], ["state", "not_connected"], ["registry_url", "http://url44.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#deploy_containers as JSON
  Parameters: {"project_slug"=>"slug_106", "id"=>"342"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 676], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 676], ["slug", "slug_106"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."state" = $2 AND "uffizzi_core_deployments"."id" = $3 LIMIT $4[0m  [["project_id", 432], ["state", "active"], ["id", 342], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "deployed_by_id" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:51.360215"], ["deployed_by_id", 676], ["id", 342]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.363027"], ["id", 432]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ConfigFile Load (1.0ms)[0m  [1m[34mSELECT DISTINCT "uffizzi_core_config_files"."id" FROM "uffizzi_core_config_files" INNER JOIN "uffizzi_core_container_config_files" "container_config_files" ON "container_config_files"."config_file_id" = "uffizzi_core_config_files"."id" WHERE "uffizzi_core_config_files"."project_id" = $1 AND "container_config_files"."container_id" IN (SELECT "uffizzi_core_containers"."id" FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $2)[0m  [["project_id", 432], ["deployment_id", 342]]
DEPLOYMENT_PROCESS deployment_id=342 DeployContainersJob
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 342], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 342], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."namespace" = $1 AND "uffizzi_core_activity_items"."name" = $2 AND "uffizzi_core_activity_items"."container_id" = $3 AND "uffizzi_core_activity_items"."deployment_id" = $4 AND "uffizzi_core_activity_items"."type" = $5 AND "uffizzi_core_activity_items"."tag" = $6 LIMIT $7[0m  [["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["container_id", 207], ["deployment_id", 342], ["type", "UffizziCore::ActivityItem::Docker"], ["tag", "latest"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 342], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem::Docker Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "type", "container_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["deployment_id", 342], ["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["tag", "latest"], ["type", "UffizziCore::ActivityItem::Docker"], ["container_id", 207], ["created_at", "2022-03-18 15:15:51.380349"], ["updated_at", "2022-03-18 15:15:51.380349"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 101], ["state", "deploying"], ["created_at", "2022-03-18 15:15:51.384102"], ["updated_at", "2022-03-18 15:15:51.384102"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.386893"], ["id", 101]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 432], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 456], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 456], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 432], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 456], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 456], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Load (0.8ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 342], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1, "digest" = $2 WHERE "uffizzi_core_activity_items"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:51.426693"], ["digest", "sha256:cd0c68c5479f2db4b9e2c5fbfdb7a8acb77625322dd5b474578515422d3ddb59"], ["id", 101]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 342], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "uffizzi_core_containers"."public" = $3[0m  [["deployment_id", 342], ["state", "active"], ["public", true]]
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 342], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 101], ["state", "deployed"], ["created_at", "2022-03-18 15:15:51.483154"], ["updated_at", "2022-03-18 15:15:51.483154"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.486990"], ["id", 101]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "uffizzi_core_containers"."id" AS t0_r0, "uffizzi_core_containers"."image" AS t0_r1, "uffizzi_core_containers"."tag" AS t0_r2, "uffizzi_core_containers"."variables" AS t0_r3, "uffizzi_core_containers"."created_at" AS t0_r4, "uffizzi_core_containers"."updated_at" AS t0_r5, "uffizzi_core_containers"."deployment_id" AS t0_r6, "uffizzi_core_containers"."public" AS t0_r7, "uffizzi_core_containers"."port" AS t0_r8, "uffizzi_core_containers"."repo_id" AS t0_r9, "uffizzi_core_containers"."state" AS t0_r10, "uffizzi_core_containers"."continuously_deploy" AS t0_r11, "uffizzi_core_containers"."kind" AS t0_r12, "uffizzi_core_containers"."target_port" AS t0_r13, "uffizzi_core_containers"."controller_name" AS t0_r14, "uffizzi_core_containers"."receive_incoming_requests" AS t0_r15, "uffizzi_core_containers"."memory_request" AS t0_r16, "uffizzi_core_containers"."memory_limit" AS t0_r17, "uffizzi_core_containers"."secret_variables" AS t0_r18, "uffizzi_core_containers"."entrypoint" AS t0_r19, "uffizzi_core_containers"."command" AS t0_r20, "repo"."id" AS t1_r0, "repo"."namespace" AS t1_r1, "repo"."name" AS t1_r2, "repo"."tag" AS t1_r3, "repo"."type" AS t1_r4, "repo"."branch" AS t1_r5, "repo"."project_id" AS t1_r6, "repo"."created_at" AS t1_r7, "repo"."updated_at" AS t1_r8, "repo"."description" AS t1_r9, "repo"."is_private" AS t1_r10, "repo"."slug" AS t1_r11, "repo"."repository_id" AS t1_r12, "repo"."kind" AS t1_r13, "repo"."dockerfile_path" AS t1_r14, "repo"."args" AS t1_r15, "repo"."dockerfile_context_path" AS t1_r16, "repo"."deploy_preview_when_pull_request_is_opened" AS t1_r17, "repo"."delete_preview_when_pull_request_is_closed" AS t1_r18, "repo"."deploy_preview_when_image_tag_is_created" AS t1_r19, "repo"."delete_preview_when_image_tag_is_updated" AS t1_r20, "repo"."share_to_github" AS t1_r21, "repo"."delete_preview_after" AS t1_r22, "repo"."tag_pattern_deprecated" AS t1_r23 FROM "uffizzi_core_containers" LEFT OUTER JOIN "uffizzi_core_repos" "repo" ON "repo"."id" = "uffizzi_core_containers"."repo_id" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "repo"."type" = $3[0m  [["deployment_id", 342], ["state", "active"], ["type", "UffizziCore::Repo::Github"]]
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 342], ["state", "active"]]
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 342], ["state", "active"]]
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 207], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 101], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=342 start deploying into controller
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 342], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 432], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 456], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 456], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ContainerConfigFile Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_container_config_files".* FROM "uffizzi_core_container_config_files" WHERE "uffizzi_core_container_config_files"."container_id" = $1[0m  [["container_id", 207]]
  [1m[36mUffizziCore::Credential Load (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" INNER JOIN "uffizzi_core_accounts" ON "uffizzi_core_credentials"."account_id" = "uffizzi_core_accounts"."id" INNER JOIN "uffizzi_core_projects" ON "uffizzi_core_accounts"."id" = "uffizzi_core_projects"."account_id" WHERE "uffizzi_core_projects"."id" = $1 AND "uffizzi_core_credentials"."type" IN ($2, $3, $4, $5)[0m  [["id", 432], ["type", "UffizziCore::Credential::DockerHub"], ["type", "UffizziCore::Credential::Azure"], ["type", "UffizziCore::Credential::Google"], ["type", "UffizziCore::Credential::Amazon"]]
No template found for UffizziCore::Api::Cli::V1::Projects::DeploymentsController#deploy_containers, rendering head :no_content
Completed 204 No Content in 178ms (ActiveRecord: 24.6ms | Allocations: 34528)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."type" = $1[0m  [["type", "UffizziCore::ActivityItem::Docker"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#create_-_from_the_existing_compose_file_-_when_the_file_is_invalid
----------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user154@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 532"], ["last_name", "Name 533"], ["email", "user154@example.com"], ["password_digest", "$2a$04$5p/2hfHf408SZ54hYxjBPukgbaA4d.cSAegExaK0lN9.6TENNDX5a"], ["confirmation_token", "b9985a26b84ea67160306c52d713df70"], ["state", "initial"], ["phone", "string_2215"], ["created_at", "2022-03-18 15:15:51.586622"], ["updated_at", "2022-03-18 15:15:51.593221"], ["github", "string_2216"], ["website", "string_2217"], ["twitter", "string_2218"], ["linkedin", "string_2219"], ["devto", "string_2220"], ["facebook", "string_2221"], ["blog", "string_2222"], ["bio", "string_2223"], ["status", "string_2224"], ["availability", "string_2225"], ["primary_skills", "string_2226"], ["learning", "string_2227"], ["coding_for", "string_2228"], ["education", "string_2229"], ["title", "string_2230"], ["work", "string_2231"], ["primary_location", "string_2232"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "simonis-barrows.cartwright.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 534"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:51.586622"], ["updated_at", "2022-03-18 15:15:51.604316"], ["state", "active"], ["domain", "simonis-barrows.cartwright.com"], ["owner_id", 677], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "92116dfae2495a33fc5eececa8df7d16"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user154@example.com"], ["token", "92116dfae2495a33fc5eececa8df7d16"], ["status", "pending"], ["created_at", "2022-03-18 15:15:51.614214"], ["updated_at", "2022-03-18 15:15:51.614214"], ["invited_by_id", 677], ["entityable_id", 457], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 677], ["account_id", 457], ["role", "admin"], ["created_at", "2022-03-18 15:15:51.619278"], ["updated_at", "2022-03-18 15:15:51.619278"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 457]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "92116dfae2495a33fc5eececa8df7d16"], ["id", 669], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:51.631113"], ["invitee_id", 677], ["id", 669]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 677], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 677], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 535"], ["account_id", 457], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 535"], ["created_at", "2022-03-18 15:15:51.645250"], ["updated_at", "2022-03-18 15:15:51.645250"], ["account_id", 457], ["state", "active"], ["slug", "slug_109"], ["description", "Name 536"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 457], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 677], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 677], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 677], ["project_id", 433], ["role", "admin"], ["created_at", "2022-03-18 15:15:51.653331"], ["updated_at", "2022-03-18 15:15:51.653331"], ["invited_by_id", 677]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 433], ["kind", "standard"], ["created_at", "2022-03-18 15:15:51.657583"], ["updated_at", "2022-03-18 15:15:51.658451"], ["subdomain", "sperno-aut"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.661590"], ["id", 433]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:51.664920"], ["subdomain", "deployment-343.slug_109"], ["id", 343]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.667640"], ["id", 433]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2233"], ["password", "Password1String-158"], ["created_at", "2022-03-18 15:15:51.671374"], ["updated_at", "2022-03-18 15:15:51.671374"], ["provider_ref", "155"], ["account_id", 457], ["state", "active"], ["registry_url", "http://url45.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 538"], ["project_id", 433], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 538"], ["added_by_id", 677], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-46\",\"tag\":\"string_2234\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":157,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-46\",\"tag\":\"string_2235\",\"slug\":\"slug_110\",\"branch\":\"string_2234\",\"description\":\"Name 537\",\"repository_id\":156,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 433], ["created_at", "2022-03-18 15:15:51.681481"], ["updated_at", "2022-03-18 15:15:51.681481"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.684079"], ["id", 433]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 677], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2236"], ["password", "Password1String-159"], ["created_at", "2022-03-18 15:15:51.689687"], ["updated_at", "2022-03-18 15:15:51.689687"], ["account_id", 457], ["state", "not_connected"], ["registry_url", "http://url46.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["project_id", 433], ["project_id", 433], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."source" = $1 AND "uffizzi_core_compose_files"."project_id" = $2 LIMIT $3[0m  [["source", "Name 539"], ["project_id", 433], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_compose_files" ("source", "repository_id", "branch", "path", "auto_deploy", "added_by_id", "project_id", "created_at", "updated_at", "state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source", "Name 539"], ["repository_id", 158], ["branch", "string_2237"], ["path", "/volumes/directory-33"], ["auto_deploy", "disabled"], ["added_by_id", 677], ["project_id", 433], ["created_at", "2022-03-18 15:15:51.698523"], ["updated_at", "2022-03-18 15:15:51.698523"], ["state", "invalid_file"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 541"], ["project_id", 433], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "compose_file_id", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 541"], ["added_by_id", 677], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-47\",\"tag\":\"string_2238\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":160,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-47\",\"tag\":\"string_2239\",\"slug\":\"slug_111\",\"branch\":\"string_2238\",\"description\":\"Name 540\",\"repository_id\":159,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 433], ["created_at", "2022-03-18 15:15:51.707531"], ["updated_at", "2022-03-18 15:15:51.707531"], ["compose_file_id", 205], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.710078"], ["id", 433]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."type" = $1[0m  [["type", "UffizziCore::Repo::Github"]]
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#create as JSON
  Parameters: {"project_slug"=>"slug_109"}
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 677], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 677], ["slug", "slug_109"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ComposeFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_compose_files".* FROM "uffizzi_core_compose_files" WHERE "uffizzi_core_compose_files"."project_id" = $1 AND "uffizzi_core_compose_files"."kind" = $2 ORDER BY "uffizzi_core_compose_files"."id" ASC LIMIT $3[0m  [["project_id", 433], ["kind", "main"], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.08ms)
Completed 422 Unprocessable Entity in 7ms (Views: 1.1ms | ActiveRecord: 1.1ms | Allocations: 2000)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."state" = $1[0m  [["state", "active"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."type" = $1[0m  [["type", "UffizziCore::Repo::Github"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::DeploymentsControllerTest: test_#deploy_containers_create_a_new_activity_item_creation_if_existing_has_finished
----------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user155@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 542"], ["last_name", "Name 543"], ["email", "user155@example.com"], ["password_digest", "$2a$04$8kgRD018Zy3CehdyUcQoouhEm3nBBTszkZ5dWxQjuvzl5FQAPw1ne"], ["confirmation_token", "7bec05abafea5a27b0f736e4a42f452a"], ["state", "initial"], ["phone", "string_2240"], ["created_at", "2022-03-18 15:15:51.734826"], ["updated_at", "2022-03-18 15:15:51.739513"], ["github", "string_2241"], ["website", "string_2242"], ["twitter", "string_2243"], ["linkedin", "string_2244"], ["devto", "string_2245"], ["facebook", "string_2246"], ["blog", "string_2247"], ["bio", "string_2248"], ["status", "string_2249"], ["availability", "string_2250"], ["primary_skills", "string_2251"], ["learning", "string_2252"], ["coding_for", "string_2253"], ["education", "string_2254"], ["title", "string_2255"], ["work", "string_2256"], ["primary_location", "string_2257"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "wunsch.dicki.info"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 544"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:51.734826"], ["updated_at", "2022-03-18 15:15:51.747403"], ["state", "active"], ["domain", "wunsch.dicki.info"], ["owner_id", 678], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "19d3d75192e48e592277baeda4706fd4"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user155@example.com"], ["token", "19d3d75192e48e592277baeda4706fd4"], ["status", "pending"], ["created_at", "2022-03-18 15:15:51.753599"], ["updated_at", "2022-03-18 15:15:51.753599"], ["invited_by_id", 678], ["entityable_id", 458], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 678], ["account_id", 458], ["role", "admin"], ["created_at", "2022-03-18 15:15:51.757825"], ["updated_at", "2022-03-18 15:15:51.757825"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 458]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "19d3d75192e48e592277baeda4706fd4"], ["id", 670], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:51.766154"], ["invitee_id", 678], ["id", 670]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 678], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 678], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 545"], ["account_id", 458], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 545"], ["created_at", "2022-03-18 15:15:51.777008"], ["updated_at", "2022-03-18 15:15:51.777008"], ["account_id", 458], ["state", "active"], ["slug", "slug_112"], ["description", "Name 546"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 458], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 678], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 678], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 678], ["project_id", 434], ["role", "admin"], ["created_at", "2022-03-18 15:15:51.784827"], ["updated_at", "2022-03-18 15:15:51.784827"], ["invited_by_id", 678]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 434], ["kind", "standard"], ["created_at", "2022-03-18 15:15:51.789546"], ["updated_at", "2022-03-18 15:15:51.790322"], ["subdomain", "ducimus-cicuta"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.793238"], ["id", 434]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "subdomain" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:51.796379"], ["subdomain", "deployment-344.slug_112"], ["id", 344]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.799031"], ["id", 434]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::Github Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "provider_ref", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["type", "UffizziCore::Credential::Github"], ["username", "string_2258"], ["password", "Password1String-161"], ["created_at", "2022-03-18 15:15:51.802624"], ["updated_at", "2022-03-18 15:15:51.802624"], ["provider_ref", "161"], ["account_id", 458], ["state", "active"], ["registry_url", "http://url47.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Template Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_templates" WHERE "uffizzi_core_templates"."name" = $1 AND "uffizzi_core_templates"."project_id" = $2 LIMIT $3[0m  [["name", "Name 548"], ["project_id", 434], ["LIMIT", 1]]
  [1m[36mUffizziCore::Template Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_templates" ("name", "added_by_id", "payload", "project_id", "created_at", "updated_at", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 548"], ["added_by_id", 678], ["payload", "{\"containers_attributes\":[{\"image\":\"namespace/name-48\",\"tag\":\"string_2259\",\"variables\":null,\"secret_variables\":null,\"repo\":null,\"receive_incoming_requests\":true,\"entrypoint\":null,\"command\":null,\"continuously_deploy\":\"disabled\",\"public\":true,\"port\":163,\"repo_attributes\":{\"namespace\":\"namespace\",\"name\":\"name-48\",\"tag\":\"string_2260\",\"slug\":\"slug_113\",\"branch\":\"string_2259\",\"description\":\"Name 547\",\"repository_id\":162,\"deploy_preview_when_pull_request_is_opened\":false,\"delete_preview_when_pull_request_is_closed\":false,\"deploy_preview_when_image_tag_is_created\":false,\"delete_preview_when_image_tag_is_updated\":false,\"delete_preview_after\":null,\"share_to_github\":false,\"type\":\"UffizziCore::Repo::Github\"}}]}"], ["project_id", 434], ["created_at", "2022-03-18 15:15:51.812429"], ["updated_at", "2022-03-18 15:15:51.812429"], ["creation_source", "compose_file"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.815522"], ["id", 434]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Repo::DockerHub Create (0.7ms)[0m  [1m[32mINSERT INTO "uffizzi_core_repos" ("namespace", "name", "tag", "type", "branch", "project_id", "created_at", "updated_at", "description", "slug", "repository_id", "deploy_preview_when_pull_request_is_opened", "delete_preview_when_pull_request_is_closed", "deploy_preview_when_image_tag_is_created", "delete_preview_when_image_tag_is_updated", "share_to_github") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16) RETURNING "id"[0m  [["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["tag", "string_2261"], ["type", "UffizziCore::Repo::DockerHub"], ["branch", "string_2262"], ["project_id", 434], ["created_at", "2022-03-18 15:15:51.823177"], ["updated_at", "2022-03-18 15:15:51.823177"], ["description", "Name 549"], ["slug", "slug_114"], ["repository_id", 164], ["deploy_preview_when_pull_request_is_opened", false], ["delete_preview_when_pull_request_is_closed", false], ["deploy_preview_when_image_tag_is_created", false], ["delete_preview_when_image_tag_is_updated", false], ["share_to_github", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "repo_id", "state", "continuously_deploy", "controller_name", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["image", "uffizzitest/webhooks-test-app"], ["tag", "latest"], ["created_at", "2022-03-18 15:15:51.829558"], ["updated_at", "2022-03-18 15:15:51.829558"], ["deployment_id", 344], ["repo_id", 169], ["state", "active"], ["continuously_deploy", "enabled"], ["controller_name", "f03d008a48"], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.832860"], ["id", 344]]
  [1m[36mUffizziCore::Project Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.834862"], ["id", 434]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem::Docker Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "branch", "type", "container_id", "commit", "commit_message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["deployment_id", 344], ["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["tag", "latest"], ["branch", ""], ["type", "UffizziCore::ActivityItem::Docker"], ["container_id", 208], ["commit", "commit-hash-7"], ["commit_message", "commit-message-7"], ["created_at", "2022-03-18 15:15:51.838823"], ["updated_at", "2022-03-18 15:15:51.838823"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 102], ["state", "deployed"], ["created_at", "2022-03-18 15:15:51.843790"], ["updated_at", "2022-03-18 15:15:51.843790"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.6ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.847106"], ["id", 102]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Credential::DockerHub Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_credentials" ("type", "username", "password", "created_at", "updated_at", "account_id", "state", "registry_url") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["type", "UffizziCore::Credential::DockerHub"], ["username", "string_2263"], ["password", "Password1String-162"], ["created_at", "2022-03-18 15:15:51.853446"], ["updated_at", "2022-03-18 15:15:51.853446"], ["account_id", 458], ["state", "not_connected"], ["registry_url", "http://url48.com"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::DeploymentsController#deploy_containers as JSON
  Parameters: {"project_slug"=>"slug_112", "id"=>"344"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 678], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 678], ["slug", "slug_112"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."state" = $2 AND "uffizzi_core_deployments"."id" = $3 LIMIT $4[0m  [["project_id", 434], ["state", "active"], ["id", 344], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1, "deployed_by_id" = $2 WHERE "uffizzi_core_deployments"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:51.866444"], ["deployed_by_id", 678], ["id", 344]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.869232"], ["id", 434]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ConfigFile Load (1.0ms)[0m  [1m[34mSELECT DISTINCT "uffizzi_core_config_files"."id" FROM "uffizzi_core_config_files" INNER JOIN "uffizzi_core_container_config_files" "container_config_files" ON "container_config_files"."config_file_id" = "uffizzi_core_config_files"."id" WHERE "uffizzi_core_config_files"."project_id" = $1 AND "container_config_files"."container_id" IN (SELECT "uffizzi_core_containers"."id" FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $2)[0m  [["project_id", 434], ["deployment_id", 344]]
DEPLOYMENT_PROCESS deployment_id=344 DeployContainersJob
  [1m[36mUffizziCore::Deployment Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 344], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."namespace" = $1 AND "uffizzi_core_activity_items"."name" = $2 AND "uffizzi_core_activity_items"."container_id" = $3 AND "uffizzi_core_activity_items"."deployment_id" = $4 AND "uffizzi_core_activity_items"."type" = $5 AND "uffizzi_core_activity_items"."tag" = $6 LIMIT $7[0m  [["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["container_id", 208], ["deployment_id", 344], ["type", "UffizziCore::ActivityItem::Docker"], ["tag", "latest"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem::Docker Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "type", "container_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["deployment_id", 344], ["namespace", "uffizzitest"], ["name", "webhooks-test-app"], ["tag", "latest"], ["type", "UffizziCore::ActivityItem::Docker"], ["container_id", 208], ["created_at", "2022-03-18 15:15:51.888910"], ["updated_at", "2022-03-18 15:15:51.888910"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 103], ["state", "deploying"], ["created_at", "2022-03-18 15:15:51.892543"], ["updated_at", "2022-03-18 15:15:51.892543"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.895423"], ["id", 103]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 434], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 458], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 458], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."id" = $1 LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  [1m[36mUffizziCore::Repo Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 434], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 458], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 458], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1, "digest" = $2 WHERE "uffizzi_core_activity_items"."id" = $3[0m  [["updated_at", "2022-03-18 15:15:51.935618"], ["digest", "sha256:cd0c68c5479f2db4b9e2c5fbfdb7a8acb77625322dd5b474578515422d3ddb59"], ["id", 103]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."id" = $1 LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."id" = $1 LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "uffizzi_core_containers"."public" = $3[0m  [["deployment_id", 344], ["state", "active"], ["public", true]]
  [1m[36mUffizziCore::Container Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 344], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 103], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 103], ["state", "deployed"], ["created_at", "2022-03-18 15:15:51.976551"], ["updated_at", "2022-03-18 15:15:51.976551"]]
  [1m[36mUffizziCore::ActivityItem::Docker Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:51.979454"], ["id", 103]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_containers"."id" AS t0_r0, "uffizzi_core_containers"."image" AS t0_r1, "uffizzi_core_containers"."tag" AS t0_r2, "uffizzi_core_containers"."variables" AS t0_r3, "uffizzi_core_containers"."created_at" AS t0_r4, "uffizzi_core_containers"."updated_at" AS t0_r5, "uffizzi_core_containers"."deployment_id" AS t0_r6, "uffizzi_core_containers"."public" AS t0_r7, "uffizzi_core_containers"."port" AS t0_r8, "uffizzi_core_containers"."repo_id" AS t0_r9, "uffizzi_core_containers"."state" AS t0_r10, "uffizzi_core_containers"."continuously_deploy" AS t0_r11, "uffizzi_core_containers"."kind" AS t0_r12, "uffizzi_core_containers"."target_port" AS t0_r13, "uffizzi_core_containers"."controller_name" AS t0_r14, "uffizzi_core_containers"."receive_incoming_requests" AS t0_r15, "uffizzi_core_containers"."memory_request" AS t0_r16, "uffizzi_core_containers"."memory_limit" AS t0_r17, "uffizzi_core_containers"."secret_variables" AS t0_r18, "uffizzi_core_containers"."entrypoint" AS t0_r19, "uffizzi_core_containers"."command" AS t0_r20, "repo"."id" AS t1_r0, "repo"."namespace" AS t1_r1, "repo"."name" AS t1_r2, "repo"."tag" AS t1_r3, "repo"."type" AS t1_r4, "repo"."branch" AS t1_r5, "repo"."project_id" AS t1_r6, "repo"."created_at" AS t1_r7, "repo"."updated_at" AS t1_r8, "repo"."description" AS t1_r9, "repo"."is_private" AS t1_r10, "repo"."slug" AS t1_r11, "repo"."repository_id" AS t1_r12, "repo"."kind" AS t1_r13, "repo"."dockerfile_path" AS t1_r14, "repo"."args" AS t1_r15, "repo"."dockerfile_context_path" AS t1_r16, "repo"."deploy_preview_when_pull_request_is_opened" AS t1_r17, "repo"."delete_preview_when_pull_request_is_closed" AS t1_r18, "repo"."deploy_preview_when_image_tag_is_created" AS t1_r19, "repo"."delete_preview_when_image_tag_is_updated" AS t1_r20, "repo"."share_to_github" AS t1_r21, "repo"."delete_preview_after" AS t1_r22, "repo"."tag_pattern_deprecated" AS t1_r23 FROM "uffizzi_core_containers" LEFT OUTER JOIN "uffizzi_core_repos" "repo" ON "repo"."id" = "uffizzi_core_containers"."repo_id" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2 AND "repo"."type" = $3[0m  [["deployment_id", 344], ["state", "active"], ["type", "UffizziCore::Repo::Github"]]
  [1m[36mUffizziCore::Container Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 344], ["state", "active"]]
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 344], ["state", "active"]]
  [1m[36mUffizziCore::ActivityItem Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."container_id" = $1 ORDER BY "uffizzi_core_activity_items"."id" DESC LIMIT $2[0m  [["container_id", 208], ["LIMIT", 1]]
  [1m[36mUffizziCore::Event Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 103], ["LIMIT", 1]]
DEPLOYMENT_PROCESS deployment_id=344 start deploying into controller
  [1m[36mUffizziCore::Container Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_containers".* FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."state" = $2[0m  [["deployment_id", 344], ["state", "active"]]
  [1m[36mUffizziCore::Repo Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_repos".* FROM "uffizzi_core_repos" WHERE "uffizzi_core_repos"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."id" = $1 LIMIT $2[0m  [["id", 434], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."id" = $1 LIMIT $2[0m  [["id", 458], ["LIMIT", 1]]
  [1m[36mUffizziCore::Credential Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" WHERE "uffizzi_core_credentials"."account_id" = $1 AND "uffizzi_core_credentials"."type" = $2 ORDER BY "uffizzi_core_credentials"."id" ASC LIMIT $3[0m  [["account_id", 458], ["type", "UffizziCore::Credential::DockerHub"], ["LIMIT", 1]]
  [1m[36mUffizziCore::ContainerConfigFile Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_container_config_files".* FROM "uffizzi_core_container_config_files" WHERE "uffizzi_core_container_config_files"."container_id" = $1[0m  [["container_id", 208]]
  [1m[36mUffizziCore::Credential Load (0.7ms)[0m  [1m[34mSELECT "uffizzi_core_credentials".* FROM "uffizzi_core_credentials" INNER JOIN "uffizzi_core_accounts" ON "uffizzi_core_credentials"."account_id" = "uffizzi_core_accounts"."id" INNER JOIN "uffizzi_core_projects" ON "uffizzi_core_accounts"."id" = "uffizzi_core_projects"."account_id" WHERE "uffizzi_core_projects"."id" = $1 AND "uffizzi_core_credentials"."type" IN ($2, $3, $4, $5)[0m  [["id", 434], ["type", "UffizziCore::Credential::DockerHub"], ["type", "UffizziCore::Credential::Azure"], ["type", "UffizziCore::Credential::Google"], ["type", "UffizziCore::Credential::Amazon"]]
No template found for UffizziCore::Api::Cli::V1::Projects::DeploymentsController#deploy_containers, rendering head :no_content
Completed 204 No Content in 159ms (ActiveRecord: 22.9ms | Allocations: 35025)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."type" = $1[0m  [["type", "UffizziCore::ActivityItem::Docker"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------------------------------
UffizziCore::Api::Cli::V1::Projects::Deployments::ActivityItemsControllerTest: test_#index
------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user156@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 550"], ["last_name", "Name 551"], ["email", "user156@example.com"], ["password_digest", "$2a$04$/6GntKSz0tBEoOMrb1HYKuL.TDMp85V5bdh103uTlpMAHiZMDMy8a"], ["confirmation_token", "331edd5104b1e1da0cef0f1124a4a781"], ["state", "initial"], ["phone", "string_2264"], ["created_at", "2022-03-18 15:15:52.054145"], ["updated_at", "2022-03-18 15:15:52.060543"], ["github", "string_2265"], ["website", "string_2266"], ["twitter", "string_2267"], ["linkedin", "string_2268"], ["devto", "string_2269"], ["facebook", "string_2270"], ["blog", "string_2271"], ["bio", "string_2272"], ["status", "string_2273"], ["availability", "string_2274"], ["primary_skills", "string_2275"], ["learning", "string_2276"], ["coding_for", "string_2277"], ["education", "string_2278"], ["title", "string_2279"], ["work", "string_2280"], ["primary_location", "string_2281"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "labadie.ullrich-homenick.info"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.6ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 552"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:52.054145"], ["updated_at", "2022-03-18 15:15:52.072311"], ["state", "active"], ["domain", "labadie.ullrich-homenick.info"], ["owner_id", 679], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "5dbf2debdea4a9a0c8c9c4e619e84c2c"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user156@example.com"], ["token", "5dbf2debdea4a9a0c8c9c4e619e84c2c"], ["status", "pending"], ["created_at", "2022-03-18 15:15:52.081019"], ["updated_at", "2022-03-18 15:15:52.081019"], ["invited_by_id", 679], ["entityable_id", 459], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 679], ["account_id", 459], ["role", "admin"], ["created_at", "2022-03-18 15:15:52.085059"], ["updated_at", "2022-03-18 15:15:52.085059"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 459]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "5dbf2debdea4a9a0c8c9c4e619e84c2c"], ["id", 671], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:52.094269"], ["invitee_id", 679], ["id", 671]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 679], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 553"], ["account_id", 459], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 553"], ["created_at", "2022-03-18 15:15:52.103640"], ["updated_at", "2022-03-18 15:15:52.103640"], ["account_id", 459], ["state", "active"], ["slug", "slug_115"], ["description", "Name 554"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 459], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 679], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 679], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 679], ["project_id", 435], ["role", "admin"], ["created_at", "2022-03-18 15:15:52.112058"], ["updated_at", "2022-03-18 15:15:52.112058"], ["invited_by_id", 679]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Deployment Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_deployments" ("project_id", "kind", "created_at", "updated_at", "subdomain", "state", "memory_limit", "creation_source") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["project_id", 435], ["kind", "standard"], ["created_at", "2022-03-18 15:15:52.116092"], ["updated_at", "2022-03-18 15:15:52.117060"], ["subdomain", "possimus-terminatio"], ["state", "active"], ["memory_limit", 1.0], ["creation_source", "manual"]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:52.120107"], ["id", 435]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Container Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."port" = $1 AND "uffizzi_core_containers"."deployment_id" = $2 LIMIT $3[0m  [["port", 165], ["deployment_id", 345], ["LIMIT", 1]]
  [1m[36mUffizziCore::Container Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_containers" ("image", "tag", "created_at", "updated_at", "deployment_id", "public", "port", "state", "continuously_deploy", "target_port", "receive_incoming_requests") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["image", "namespace/name-49"], ["tag", "string_2282"], ["created_at", "2022-03-18 15:15:52.127150"], ["updated_at", "2022-03-18 15:15:52.127150"], ["deployment_id", 345], ["public", true], ["port", 165], ["state", "active"], ["continuously_deploy", "disabled"], ["target_port", 165], ["receive_incoming_requests", false]]
  [1m[36mUffizziCore::Deployment Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_deployments" SET "updated_at" = $1 WHERE "uffizzi_core_deployments"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:52.129458"], ["id", 345]]
  [1m[36mUffizziCore::Project Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_projects" SET "updated_at" = $1 WHERE "uffizzi_core_projects"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:52.131401"], ["id", 435]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_containers" WHERE "uffizzi_core_containers"."deployment_id" = $1 AND "uffizzi_core_containers"."target_port" = $2[0m  [["deployment_id", 345], ["target_port", 165]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::ActivityItem Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_activity_items" ("deployment_id", "namespace", "name", "tag", "branch", "container_id", "commit", "commit_message", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["deployment_id", 345], ["namespace", "string_2283"], ["name", "Name 555"], ["tag", "string_2282"], ["branch", ""], ["container_id", 209], ["commit", "commit-hash-8"], ["commit_message", "commit-message-8"], ["created_at", "2022-03-18 15:15:52.137492"], ["updated_at", "2022-03-18 15:15:52.137492"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Event Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_events" ("activity_item_id", "state", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["activity_item_id", 104], ["state", "building"], ["created_at", "2022-03-18 15:15:52.142259"], ["updated_at", "2022-03-18 15:15:52.142259"]]
  [1m[36mUffizziCore::ActivityItem Update (0.5ms)[0m  [1m[33mUPDATE "uffizzi_core_activity_items" SET "updated_at" = $1 WHERE "uffizzi_core_activity_items"."id" = $2[0m  [["updated_at", "2022-03-18 15:15:52.144870"], ["id", 104]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::Projects::Deployments::ActivityItemsController#index as JSON
  Parameters: {"project_slug"=>"slug_115", "deployment_id"=>"345"}
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 679], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."slug" = $2 LIMIT $3[0m  [["user_id", 679], ["slug", "slug_115"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Deployment Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_deployments".* FROM "uffizzi_core_deployments" WHERE "uffizzi_core_deployments"."project_id" = $1 AND "uffizzi_core_deployments"."id" = $2 LIMIT $3[0m  [["project_id", 435], ["id", 345], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."deployment_id" = $1[0m  [["deployment_id", 345]]
  [1m[36mUffizziCore::ActivityItem Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_activity_items".* FROM "uffizzi_core_activity_items" WHERE "uffizzi_core_activity_items"."deployment_id" = $1 ORDER BY "uffizzi_core_activity_items"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["deployment_id", 345], ["LIMIT", 20], ["OFFSET", 0]]
  [1m[36mUffizziCore::Event Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_events".* FROM "uffizzi_core_events" WHERE "uffizzi_core_events"."activity_item_id" = $1 ORDER BY "uffizzi_core_events"."id" DESC LIMIT $2[0m  [["activity_item_id", 104], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.32ms)
Completed 200 OK in 37ms (Views: 1.4ms | ActiveRecord: 2.3ms | Allocations: 5160)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
UffizziCore::Api::Cli::V1::ProjectsControllerTest: test_#index
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::User Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_users" WHERE LOWER("uffizzi_core_users"."email") = LOWER($1) LIMIT $2[0m  [["email", "user157@example.com"], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_users" ("first_name", "last_name", "email", "password_digest", "confirmation_token", "state", "phone", "created_at", "updated_at", "github", "website", "twitter", "linkedin", "devto", "facebook", "blog", "bio", "status", "availability", "primary_skills", "learning", "coding_for", "education", "title", "work", "primary_location") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26) RETURNING "id"[0m  [["first_name", "Name 556"], ["last_name", "Name 557"], ["email", "user157@example.com"], ["password_digest", "$2a$04$6iIAzDuCoTreGnyAFLuAve8nETPaoHB6nRAS6UFk08UL2O90wdIES"], ["confirmation_token", "f58f6b1815afe3eb47fc7dda8e854445"], ["state", "initial"], ["phone", "string_2284"], ["created_at", "2022-03-18 15:15:52.196331"], ["updated_at", "2022-03-18 15:15:52.201683"], ["github", "string_2285"], ["website", "string_2286"], ["twitter", "string_2287"], ["linkedin", "string_2288"], ["devto", "string_2289"], ["facebook", "string_2290"], ["blog", "string_2291"], ["bio", "string_2292"], ["status", "string_2293"], ["availability", "string_2294"], ["primary_skills", "string_2295"], ["learning", "string_2296"], ["coding_for", "string_2297"], ["education", "string_2298"], ["title", "string_2299"], ["work", "string_2300"], ["primary_location", "string_2301"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_accounts" WHERE "uffizzi_core_accounts"."domain" = $1 LIMIT $2[0m  [["domain", "bins.terry-schaden.co"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Account Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_accounts" ("name", "kind", "created_at", "updated_at", "state", "domain", "owner_id", "sso_state") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Name 558"], ["kind", "organizational"], ["created_at", "2022-03-18 15:15:52.196331"], ["updated_at", "2022-03-18 15:15:52.209549"], ["state", "active"], ["domain", "bins.terry-schaden.co"], ["owner_id", 680], ["sso_state", "connection_not_configured"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 LIMIT $2[0m  [["token", "e9ab0106a6ef4c61d7d7c8a2a45ae4a1"], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Create (0.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_invitations" ("email", "token", "status", "created_at", "updated_at", "invited_by_id", "entityable_id", "entityable_type", "role") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "user157@example.com"], ["token", "e9ab0106a6ef4c61d7d7c8a2a45ae4a1"], ["status", "pending"], ["created_at", "2022-03-18 15:15:52.216093"], ["updated_at", "2022-03-18 15:15:52.216093"], ["invited_by_id", 680], ["entityable_id", 460], ["entityable_type", "UffizziCore::Account"], ["role", "admin"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Membership Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_memberships" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 680], ["account_id", 460], ["role", "admin"], ["created_at", "2022-03-18 15:15:52.219767"], ["updated_at", "2022-03-18 15:15:52.219767"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."account_id" = $1[0m  [["account_id", 460]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."token" = $1 AND "uffizzi_core_invitations"."id" != $2 LIMIT $3[0m  [["token", "e9ab0106a6ef4c61d7d7c8a2a45ae4a1"], ["id", 672], ["LIMIT", 1]]
  [1m[36mUffizziCore::Invitation Update (0.4ms)[0m  [1m[33mUPDATE "uffizzi_core_invitations" SET "status" = $1, "updated_at" = $2, "invitee_id" = $3 WHERE "uffizzi_core_invitations"."id" = $4[0m  [["status", "accepted"], ["updated_at", "2022-03-18 15:15:52.229141"], ["invitee_id", 680], ["id", 672]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Account Load (0.4ms)[0m  [1m[34mSELECT "uffizzi_core_accounts".* FROM "uffizzi_core_accounts" INNER JOIN "uffizzi_core_memberships" ON "uffizzi_core_accounts"."id" = "uffizzi_core_memberships"."account_id" WHERE "uffizzi_core_memberships"."user_id" = $1 AND "uffizzi_core_accounts"."kind" = $2 LIMIT $3[0m  [["user_id", 680], ["kind", "organizational"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Project Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "uffizzi_core_projects" WHERE "uffizzi_core_projects"."name" = $1 AND "uffizzi_core_projects"."account_id" = $2 LIMIT $3[0m  [["name", "Name 559"], ["account_id", 460], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Create (0.4ms)[0m  [1m[32mINSERT INTO "uffizzi_core_projects" ("name", "created_at", "updated_at", "account_id", "state", "slug", "description") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Name 559"], ["created_at", "2022-03-18 15:15:52.237989"], ["updated_at", "2022-03-18 15:15:52.237989"], ["account_id", 460], ["state", "active"], ["slug", "slug_116"], ["description", "Name 560"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::Invitation Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_invitations".* FROM "uffizzi_core_invitations" WHERE "uffizzi_core_invitations"."entityable_id" = $1 AND "uffizzi_core_invitations"."entityable_type" = $2 AND "uffizzi_core_invitations"."status" = $3 AND "uffizzi_core_invitations"."invitee_id" = $4 LIMIT $5[0m  [["entityable_id", 460], ["entityable_type", "UffizziCore::Account"], ["status", "accepted"], ["invitee_id", 680], ["LIMIT", 1]]
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 680], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUffizziCore::UserProject Create (2.5ms)[0m  [1m[32mINSERT INTO "uffizzi_core_user_projects" ("user_id", "project_id", "role", "created_at", "updated_at", "invited_by_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 680], ["project_id", 436], ["role", "admin"], ["created_at", "2022-03-18 15:15:52.246082"], ["updated_at", "2022-03-18 15:15:52.246082"], ["invited_by_id", 680]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UffizziCore::Api::Cli::V1::ProjectsController#index as JSON
  [1m[36mUffizziCore::User Load (0.3ms)[0m  [1m[34mSELECT "uffizzi_core_users".* FROM "uffizzi_core_users" WHERE "uffizzi_core_users"."id" = $1 LIMIT $2[0m  [["id", 680], ["LIMIT", 1]]
  [1m[36mUffizziCore::Project Load (0.5ms)[0m  [1m[34mSELECT "uffizzi_core_projects".* FROM "uffizzi_core_projects" INNER JOIN "uffizzi_core_user_projects" ON "uffizzi_core_projects"."id" = "uffizzi_core_user_projects"."project_id" WHERE "uffizzi_core_user_projects"."user_id" = $1 AND "uffizzi_core_projects"."state" = $2 ORDER BY "uffizzi_core_projects"."updated_at" DESC[0m  [["user_id", 680], ["state", "active"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (0.43ms)
Completed 200 OK in 12ms (Views: 6.3ms | ActiveRecord: 0.8ms | Allocations: 2975)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
UffizziCoreTest: test_it_has_a_version_number
---------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
